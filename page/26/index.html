<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.1">
  <link rel="apple-touch-icon" sizes="180x180" href="/qqsnote/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/qqsnote/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/qqsnote/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/qqsnote/images/logo.svg" color="#222">

<link rel="stylesheet" href="/qqsnote/css/main.css">


<link rel="stylesheet" href="/qqsnote/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"qqstone.github.io","root":"/qqsnote/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="QQs&#39;Note">
<meta property="og:url" content="http://qqstone.github.io/qqsnote/page/26/index.html">
<meta property="og:site_name" content="QQs&#39;Note">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="QQs">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://qqstone.github.io/qqsnote/page/26/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'en'
  };
</script>

  <title>QQs'Note</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/qqsnote/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">QQs'Note</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/qqsnote/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/qqsnote/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://qqstone.github.io/qqsnote/2019/11/13/WebService/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/qqsnote/images/avatar.gif">
      <meta itemprop="name" content="QQs">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="QQs'Note">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/qqsnote/2019/11/13/WebService/" class="post-title-link" itemprop="url">WebService</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2019-11-13 09:29:28" itemprop="dateCreated datePublished" datetime="2019-11-13T09:29:28+08:00">2019-11-13</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-07-09 21:17:11" itemprop="dateModified" datetime="2020-07-09T21:17:11+08:00">2020-07-09</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/qqsnote/categories/%E9%80%9A%E4%BF%A1%E5%8D%8F%E8%AE%AE/" itemprop="url" rel="index"><span itemprop="name">通信协议</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h4 id="比较复杂的概念："><a href="#比较复杂的概念：" class="headerlink" title="比较复杂的概念："></a>比较复杂的概念：</h4><blockquote>
<p>面向服务架构(Service Oriented Ambiguity, SOA),将紧耦合的系统，划分为面向业务的，粗粒度，松耦合，无状态的服务，服务之间彼此通信，用一组互相依赖的服务构成了SOA架构下的系统。</p>
</blockquote>
<p>WebService是SOA的最佳实现之一</p>
<blockquote>
<p>Web service是一个平台独立的，低耦合的，自包含的、基于可编程的web的应用程序，可使用开放的XML（标准通用标记语言下的一个子集）标准来描述、发布、发现、协调和配置这些应用程序，用于开发分布式的互操作的应用程序。</p>
<p>简单对象访问协议(Simple Object Access Protocol, SOAP), 基于XML在分散或分布式的环境中交换信息的简单的协议。允许服务提供者和服务客户经过防火墙在INTERNET进行通讯交互。</p>
</blockquote>
<p>　　SOAP的设计是为了在一个松散的、分布的环境中使用XML对等地交换结构化的和类型化的信息提供了一个简单且轻量级的机制。</p>
<blockquote>
<p>网络服务描述语言(Web Services Description Language, WSDL), 它是一门基于 XML 的语言，用于描述 Web Services 以及如何对它们进行访问, WSDL文件是关于如何调用Web Service的文档。</p>
<h4 id="解读WSDL文档"><a href="#解读WSDL文档" class="headerlink" title="解读WSDL文档"></a>解读WSDL文档</h4><p>某wsdl_prod.xml<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;UTF-8&quot;?&gt;&lt;wsdl:definitions  xmlns:wsx&#x3D;&quot;http:&#x2F;&#x2F;schemas.xmlsoap.org&#x2F;ws&#x2F;2004&#x2F;09&#x2F;mex&quot;  xmlns:wsa10&#x3D;&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;2005&#x2F;08&#x2F;addressing&quot;  xmlns:soap12&#x3D;&quot;http:&#x2F;&#x2F;schemas.xmlsoap.org&#x2F;wsdl&#x2F;soap12&#x2F;&quot;  xmlns:wsaw&#x3D;&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;2006&#x2F;05&#x2F;addressing&#x2F;wsdl&quot;  xmlns:msc&#x3D;&quot;http:&#x2F;&#x2F;schemas.microsoft.com&#x2F;ws&#x2F;2005&#x2F;12&#x2F;wsdl&#x2F;contract&quot;  xmlns:xsd&#x3D;&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;2001&#x2F;XMLSchema&quot;  xmlns:wsap&#x3D;&quot;http:&#x2F;&#x2F;schemas.xmlsoap.org&#x2F;ws&#x2F;2004&#x2F;08&#x2F;addressing&#x2F;policy&quot;  xmlns:i0&#x3D;&quot;http:&#x2F;&#x2F;sso.xxxxxxxxxxxxx.com&#x2F;DataService&#x2F;v1&quot;  xmlns:wsp&#x3D;&quot;http:&#x2F;&#x2F;schemas.xmlsoap.org&#x2F;ws&#x2F;2004&#x2F;09&#x2F;policy&quot;  xmlns:wsa&#x3D;&quot;http:&#x2F;&#x2F;schemas.xmlsoap.org&#x2F;ws&#x2F;2004&#x2F;08&#x2F;addressing&quot;  xmlns:tns&#x3D;&quot;http:&#x2F;&#x2F;tempuri.org&#x2F;&quot;  xmlns:wsam&#x3D;&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;2007&#x2F;05&#x2F;addressing&#x2F;metadata&quot; xmlns:soapenc&#x3D;&quot;http:&#x2F;&#x2F;schemas.xmlsoap.org&#x2F;soap&#x2F;encoding&#x2F;&quot; xmlns:wsu&#x3D;&quot;http:&#x2F;&#x2F;docs.oasis-open.org&#x2F;wss&#x2F;2004&#x2F;01&#x2F;oasis-200401-wss-wssecurity-utility-1.0.xsd&quot; xmlns:soap&#x3D;&quot;http:&#x2F;&#x2F;schemas.xmlsoap.org&#x2F;wsdl&#x2F;soap&#x2F;&quot; xmlns:wsdl&#x3D;&quot;http:&#x2F;&#x2F;schemas.xmlsoap.org&#x2F;wsdl&#x2F;&quot; targetNamespace&#x3D;&quot;http:&#x2F;&#x2F;tempuri.org&#x2F;&quot; name&#x3D;&quot;SsoDataService&quot;&gt;-&lt;wsp:Policy wsu:Id&#x3D;&quot;CustomBinding_ISsoDataService_policy&quot;&gt;-&lt;wsp:ExactlyOne&gt;-&lt;wsp:All&gt;-&lt;sp:TransportBinding xmlns:sp&#x3D;&quot;http:&#x2F;&#x2F;schemas.xmlsoap.org&#x2F;ws&#x2F;2005&#x2F;07&#x2F;securitypolicy&quot;&gt;-&lt;wsp:Policy&gt;-&lt;sp:TransportToken&gt;-&lt;wsp:Policy&gt;&lt;sp:HttpsToken RequireClientCertificate&#x3D;&quot;false&quot;&#x2F;&gt;&lt;&#x2F;wsp:Policy&gt;&lt;&#x2F;sp:TransportToken&gt;-&lt;sp:AlgorithmSuite&gt;-&lt;wsp:Policy&gt;&lt;sp:Basic256&#x2F;&gt;&lt;&#x2F;wsp:Policy&gt;&lt;&#x2F;sp:AlgorithmSuite&gt;-&lt;sp:Layout&gt;-&lt;wsp:Policy&gt;&lt;sp:Lax&#x2F;&gt;&lt;&#x2F;wsp:Policy&gt;&lt;&#x2F;sp:Layout&gt;&lt;&#x2F;wsp:Policy&gt;&lt;&#x2F;sp:TransportBinding&gt;-&lt;sp:SignedSupportingTokens xmlns:sp&#x3D;&quot;http:&#x2F;&#x2F;schemas.xmlsoap.org&#x2F;ws&#x2F;2005&#x2F;07&#x2F;securitypolicy&quot;&gt;-&lt;wsp:Policy&gt;-&lt;sp:UsernameToken sp:IncludeToken&#x3D;&quot;http:&#x2F;&#x2F;schemas.xmlsoap.org&#x2F;ws&#x2F;2005&#x2F;07&#x2F;securitypolicy&#x2F;IncludeToken&#x2F;AlwaysToRecipient&quot;&gt;-&lt;wsp:Policy&gt;&lt;sp:WssUsernameToken10&#x2F;&gt;&lt;&#x2F;wsp:Policy&gt;&lt;&#x2F;sp:UsernameToken&gt;&lt;&#x2F;wsp:Policy&gt;&lt;&#x2F;sp:SignedSupportingTokens&gt;-&lt;sp:Wss10 xmlns:sp&#x3D;&quot;http:&#x2F;&#x2F;schemas.xmlsoap.org&#x2F;ws&#x2F;2005&#x2F;07&#x2F;securitypolicy&quot;&gt;-&lt;wsp:Policy&gt;&lt;sp:MustSupportRefKeyIdentifier&#x2F;&gt;&lt;sp:MustSupportRefIssuerSerial&#x2F;&gt;&lt;&#x2F;wsp:Policy&gt;&lt;&#x2F;sp:Wss10&gt;-&lt;sp:Trust10 xmlns:sp&#x3D;&quot;http:&#x2F;&#x2F;schemas.xmlsoap.org&#x2F;ws&#x2F;2005&#x2F;07&#x2F;securitypolicy&quot;&gt;-&lt;wsp:Policy&gt;&lt;sp:MustSupportIssuedTokens&#x2F;&gt;&lt;sp:RequireClientEntropy&#x2F;&gt;&lt;sp:RequireServerEntropy&#x2F;&gt;&lt;&#x2F;wsp:Policy&gt;&lt;&#x2F;sp:Trust10&gt;&lt;&#x2F;wsp:All&gt;&lt;&#x2F;wsp:ExactlyOne&gt;&lt;&#x2F;wsp:Policy&gt;&lt;wsdl:import location&#x3D;&quot;wsdl0.xml&quot; namespace&#x3D;&quot;http:&#x2F;&#x2F;sso.xxxxxxxxxxxxx.com&#x2F;DataService&#x2F;v1&quot;&#x2F;&gt;&lt;wsdl:types&#x2F;&gt;-&lt;wsdl:binding name&#x3D;&quot;CustomBinding_ISsoDataService&quot; type&#x3D;&quot;i0:ISsoDataService&quot;&gt;&lt;wsp:PolicyReference URI&#x3D;&quot;#CustomBinding_ISsoDataService_policy&quot;&#x2F;&gt;&lt;soap:binding transport&#x3D;&quot;http:&#x2F;&#x2F;schemas.xmlsoap.org&#x2F;soap&#x2F;http&quot;&#x2F;&gt;-&lt;wsdl:operation name&#x3D;&quot;ValidateAccountLogin&quot;&gt;&lt;soap:operation style&#x3D;&quot;document&quot; soapAction&#x3D;&quot;http:&#x2F;&#x2F;sso.xxxxxxxxxxxxx.com&#x2F;DataService&#x2F;v1&#x2F;ISsoDataService&#x2F;ValidateAccountLogin&quot;&#x2F;&gt;-&lt;wsdl:input&gt;&lt;soap:body use&#x3D;&quot;literal&quot;&#x2F;&gt;&lt;&#x2F;wsdl:input&gt;-&lt;wsdl:output&gt;&lt;soap:body use&#x3D;&quot;literal&quot;&#x2F;&gt;&lt;&#x2F;wsdl:output&gt;&lt;&#x2F;wsdl:operation&gt;&lt;&#x2F;wsdl:binding&gt;-&lt;wsdl:service name&#x3D;&quot;SsoDataService&quot;&gt;-&lt;wsdl:port name&#x3D;&quot;CustomBinding_ISsoDataService&quot; binding&#x3D;&quot;tns:CustomBinding_ISsoDataService&quot;&gt;&lt;soap:address location&#x3D;&quot;https:&#x2F;&#x2F;sso.************.com&#x2F;DataService.svc&quot;&#x2F;&gt;&lt;&#x2F;wsdl:port&gt;&lt;&#x2F;wsdl:service&gt;&lt;&#x2F;wsdl:definitions&gt;</span><br></pre></td></tr></table></figure><br>该文档标注了大量的xml协议，包含用于SOAP header中做安全认证的协议以及格式<br>（待日后补充解读）</p>
</blockquote>
<p>其中import wsdl0.xml 该文件主要是接口的协议<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;utf-8&quot;?&gt;</span><br><span class="line">&lt;wsdl:definitions targetNamespace&#x3D;&quot;http:&#x2F;&#x2F;sso.xxxxxxxxxxxxx.com&#x2F;DataService&#x2F;v1&quot; xmlns:wsdl&#x3D;&quot;http:&#x2F;&#x2F;schemas.xmlsoap.org&#x2F;wsdl&#x2F;&quot; xmlns:soap&#x3D;&quot;http:&#x2F;&#x2F;schemas.xmlsoap.org&#x2F;wsdl&#x2F;soap&#x2F;&quot; xmlns:wsu&#x3D;&quot;http:&#x2F;&#x2F;docs.oasis-open.org&#x2F;wss&#x2F;2004&#x2F;01&#x2F;oasis-200401-wss-wssecurity-utility-1.0.xsd&quot; xmlns:soapenc&#x3D;&quot;http:&#x2F;&#x2F;schemas.xmlsoap.org&#x2F;soap&#x2F;encoding&#x2F;&quot; xmlns:wsam&#x3D;&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;2007&#x2F;05&#x2F;addressing&#x2F;metadata&quot; xmlns:tns&#x3D;&quot;http:&#x2F;&#x2F;sso.xxxxxxxxxxxxx.com&#x2F;DataService&#x2F;v1&quot; xmlns:wsa&#x3D;&quot;http:&#x2F;&#x2F;schemas.xmlsoap.org&#x2F;ws&#x2F;2004&#x2F;08&#x2F;addressing&quot; xmlns:wsp&#x3D;&quot;http:&#x2F;&#x2F;schemas.xmlsoap.org&#x2F;ws&#x2F;2004&#x2F;09&#x2F;policy&quot; xmlns:wsap&#x3D;&quot;http:&#x2F;&#x2F;schemas.xmlsoap.org&#x2F;ws&#x2F;2004&#x2F;08&#x2F;addressing&#x2F;policy&quot; xmlns:xsd&#x3D;&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;2001&#x2F;XMLSchema&quot; xmlns:msc&#x3D;&quot;http:&#x2F;&#x2F;schemas.microsoft.com&#x2F;ws&#x2F;2005&#x2F;12&#x2F;wsdl&#x2F;contract&quot; xmlns:wsaw&#x3D;&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;2006&#x2F;05&#x2F;addressing&#x2F;wsdl&quot; xmlns:soap12&#x3D;&quot;http:&#x2F;&#x2F;schemas.xmlsoap.org&#x2F;wsdl&#x2F;soap12&#x2F;&quot; xmlns:wsa10&#x3D;&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;2005&#x2F;08&#x2F;addressing&quot; xmlns:wsx&#x3D;&quot;http:&#x2F;&#x2F;schemas.xmlsoap.org&#x2F;ws&#x2F;2004&#x2F;09&#x2F;mex&quot;&gt;</span><br><span class="line">&lt;wsdl:types&gt;</span><br><span class="line">	&lt;xsd:schema targetNamespace&#x3D;&quot;http:&#x2F;&#x2F;sso.xxxxxxxxxxxxx.com&#x2F;DataService&#x2F;v1&#x2F;Imports&quot;&gt;</span><br><span class="line">		&lt;xsd:import schemaLocation&#x3D;&quot;xsd0.xml&quot; namespace&#x3D;&quot;http:&#x2F;&#x2F;sso.xxxxxxxxxxxxx.com&#x2F;DataService&#x2F;v1&quot;&#x2F;&gt;</span><br><span class="line">		&lt;xsd:import schemaLocation&#x3D;&quot;xsd1.xml&quot; namespace&#x3D;&quot;http:&#x2F;&#x2F;schemas.microsoft.com&#x2F;2003&#x2F;10&#x2F;Serialization&#x2F;&quot;&#x2F;&gt;</span><br><span class="line">		&lt;xsd:import schemaLocation&#x3D;&quot;xsd2.xml&quot; namespace&#x3D;&quot;http:&#x2F;&#x2F;schemas.microsoft.com&#x2F;2003&#x2F;10&#x2F;Serialization&#x2F;Arrays&quot;&#x2F;&gt;</span><br><span class="line">	&lt;&#x2F;xsd:schema&gt;</span><br><span class="line">&lt;&#x2F;wsdl:types&gt;</span><br><span class="line">	&lt;wsdl:message name&#x3D;&quot;ISsoDataService_ValidateAccountLogin_InputMessage&quot;&gt;</span><br><span class="line">	&lt;wsdl:part name&#x3D;&quot;parameters&quot; element&#x3D;&quot;tns:ValidateAccountLogin&quot;&#x2F;&gt;</span><br><span class="line">	&lt;&#x2F;wsdl:message&gt;</span><br><span class="line">	&lt;wsdl:message name&#x3D;&quot;ISsoDataService_ValidateAccountLogin_OutputMessage&quot;&gt;</span><br><span class="line">	&lt;wsdl:part name&#x3D;&quot;parameters&quot; element&#x3D;&quot;tns:ValidateAccountLoginResponse&quot;&#x2F;&gt;</span><br><span class="line">	&lt;&#x2F;wsdl:message&gt;</span><br><span class="line">	&lt;wsdl:portType name&#x3D;&quot;ISsoDataService&quot;&gt;</span><br><span class="line">		&lt;wsdl:operation name&#x3D;&quot;ValidateAccountLogin&quot;&gt;</span><br><span class="line">			&lt;wsdl:input wsaw:Action&#x3D;&quot;http:&#x2F;&#x2F;sso.xxxxxxxxxxxxx.com&#x2F;DataService&#x2F;v1&#x2F;ISsoDataService&#x2F;ValidateAccountLogin&quot; message&#x3D;&quot;tns:ISsoDataService_ValidateAccountLogin_InputMessage&quot;&#x2F;&gt;</span><br><span class="line">			&lt;wsdl:output wsaw:Action&#x3D;&quot;http:&#x2F;&#x2F;sso.xxxxxxxxxxxxx.com&#x2F;DataService&#x2F;v1&#x2F;ISsoDataService&#x2F;ValidateAccountLoginResponse&quot; message&#x3D;&quot;tns:ISsoDataService_ValidateAccountLogin_OutputMessage&quot;&#x2F;&gt;</span><br><span class="line">		&lt;&#x2F;wsdl:operation&gt;</span><br><span class="line">	&lt;&#x2F;wsdl:portType&gt;</span><br><span class="line">&lt;&#x2F;wsdl:definitions&gt;</span><br></pre></td></tr></table></figure><br>其中xsd1，2，3是参数定义 略</p>
<p>首先须知xml语法(存目)</p>
<p>xmlns:el=”url” el元素遵循url定义的规范</p>
<p>WSDL 文档主要使用以下几个元素来描述某个 web service ：</p>
<p>portType  “最重要的元素” 描述一个 web service、可被执行的操作，以及相关的消息。</p>
<p>message 元素定义一个操作的数据元素。</p>
<p>每个消息均由一个或多个部件组成。可以把这些部件比作传统编程语言中一个函数调用的参数。</p>
<p>WSDL types</p>
<p>types 元素定义 web service 使用的数据类型。</p>
<p>为了最大程度的平台中立性，WSDL 使用 XML Schema 语法来定义数据类型。</p>
<p>WSDL Bindings</p>
<p>binding 元素为每个端口定义消息格式和协议细节。</p>
<h4 id="安全认证（存目）"><a href="#安全认证（存目）" class="headerlink" title="安全认证（存目）"></a>安全认证（存目）</h4><h4 id="SOAP用例"><a href="#SOAP用例" class="headerlink" title="SOAP用例"></a>SOAP用例</h4><p>SOAP结构<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version&#x3D;&quot;1.0&quot;?&gt;</span><br><span class="line">&lt;soap:Envelope xmlns:soap&#x3D;&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;2001&#x2F;12&#x2F;soap-envelope&quot;</span><br><span class="line">soap:encodingStyle&#x3D;&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;2001&#x2F;12&#x2F;soap-encoding&quot;&gt;</span><br><span class="line"></span><br><span class="line">  &lt;soap:Header&gt;</span><br><span class="line">      ...</span><br><span class="line">      ...</span><br><span class="line">  &lt;&#x2F;soap:Header&gt;</span><br><span class="line"></span><br><span class="line">  &lt;soap:Body&gt;</span><br><span class="line">      ...</span><br><span class="line">      ...</span><br><span class="line">      &lt;soap:Fault&gt;</span><br><span class="line">        ...</span><br><span class="line">        ...</span><br><span class="line">      &lt;&#x2F;soap:Fault&gt;</span><br><span class="line">  &lt;&#x2F;soap:Body&gt;</span><br><span class="line"></span><br><span class="line">&lt;&#x2F;soap:Envelope&gt;</span><br></pre></td></tr></table></figure><br><img src="https://tva1.sinaimg.cn/large/a60edd42gy1gdkyuld5t2j20kn0k6764.jpg" alt="Postman"><br>参考 <a target="_blank" rel="noopener" href="https://www.cnblogs.com/fnng/p/5524801.html">Web Service概念梳理</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://qqstone.github.io/qqsnote/2019/11/12/Excel-tips/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/qqsnote/images/avatar.gif">
      <meta itemprop="name" content="QQs">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="QQs'Note">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/qqsnote/2019/11/12/Excel-tips/" class="post-title-link" itemprop="url">Excel_tips</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2019-11-12 13:14:21" itemprop="dateCreated datePublished" datetime="2019-11-12T13:14:21+08:00">2019-11-12</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-04-16 20:11:32" itemprop="dateModified" datetime="2022-04-16T20:11:32+08:00">2022-04-16</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/qqsnote/categories/%E5%B7%A5%E5%85%B7/" itemprop="url" rel="index"><span itemprop="name">工具</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h4 id="随机数"><a href="#随机数" class="headerlink" title="随机数"></a>随机数</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#x3D;rand() &#x2F;&#x2F;生成随机数区间[0,1]</span><br><span class="line">&#x3D;randbetween(100,999)&#x2F;&#x2F;生成范围内随机整数</span><br></pre></td></tr></table></figure>
<h4 id="随机字符"><a href="#随机字符" class="headerlink" title="随机字符"></a>随机字符</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x3D;CHAR(INT(RAND()*25+65))</span><br></pre></td></tr></table></figure>
<h4 id="字符串拼接"><a href="#字符串拼接" class="headerlink" title="字符串拼接"></a>字符串拼接</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x3D;concat(&quot;id&quot;,&quot;0001&quot;)</span><br></pre></td></tr></table></figure>
<h4 id="随机日期"><a href="#随机日期" class="headerlink" title="随机日期"></a>随机日期</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x3D;TEXT(RAND()*(&quot;2019-11-11&quot;-&quot;2018-11-11&quot;)+&quot;2018-11-11&quot;,&quot;e&#x2F;m&#x2F;d&quot;)</span><br></pre></td></tr></table></figure>
<h4 id="批量取消科学计数法"><a href="#批量取消科学计数法" class="headerlink" title="批量取消科学计数法"></a>批量取消科学计数法</h4><p>格式化单元格 Number—Custom—0</p>
<h4 id="进制转换"><a href="#进制转换" class="headerlink" title="进制转换"></a>进制转换</h4><p> 16进制—&gt;十进制： HEX2DEC</p>
<h4 id="VLOOKUP"><a href="#VLOOKUP" class="headerlink" title="VLOOKUP"></a>VLOOKUP</h4><p>y=vlookup(x, source_table, column_index, boolean)<br>在source_table中找到x所在行，返回第column_index列的对应结果，boolean：TRUE 模糊匹配 FALSE 严格匹配</p>
<h4 id="条件格式"><a href="#条件格式" class="headerlink" title="条件格式"></a>条件格式</h4><p>如 Home—&gt;Conditional Formatting—&gt;Highlight Cell Rules—&gt;Duplicate Values<br><br>高亮显示所选区域中存在重复值的cell</p>
<h4 id="批量输入"><a href="#批量输入" class="headerlink" title="批量输入"></a>批量输入</h4><ul>
<li>Ctrl + D</li>
<li>Home —&gt; Editing —&gt; Fill</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://qqstone.github.io/qqsnote/2019/11/11/AngularLibrary/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/qqsnote/images/avatar.gif">
      <meta itemprop="name" content="QQs">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="QQs'Note">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/qqsnote/2019/11/11/AngularLibrary/" class="post-title-link" itemprop="url">Angular Library</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2019-11-11 10:45:55" itemprop="dateCreated datePublished" datetime="2019-11-11T10:45:55+08:00">2019-11-11</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2021-06-16 21:02:49" itemprop="dateModified" datetime="2021-06-16T21:02:49+08:00">2021-06-16</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/qqsnote/categories/%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF/" itemprop="url" rel="index"><span itemprop="name">前端技术</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="添加库"><a href="#添加库" class="headerlink" title="添加库"></a>添加库</h3><h4 id="add-library"><a href="#add-library" class="headerlink" title="add library"></a>add library</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ng new my-project --style less</span><br><span class="line">cd my-project</span><br><span class="line">ng add ng-alain</span><br></pre></td></tr></table></figure>
<h4 id="add-library-和-npm-install"><a href="#add-library-和-npm-install" class="headerlink" title="add library 和 npm install"></a>add library 和 npm install</h4><blockquote>
<p>ng add \<package> uses your package manager and installs the dependency. That dependency can have an installation script which can be used to do more job except the dependency installation. It can update your configurations, download another dependencies based on that one or create scaffold templates (with initial markup and logic).</p>
</blockquote>
<p>安装ng-alain库修改了angular.json文件，加入了上文提到的installation script。<br><br>项目中可以调用ng-alain库命令创建页面模板<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ng g ng-alain:module user</span><br><span class="line">ng g ng-alain:list list -m&#x3D;user</span><br></pre></td></tr></table></figure><br>根据ng-alain规则生成user模块，并为其添加一个list功能(自动生成组件，配置路由等)</p>
<blockquote>
<p>Caution! “download another dependencies” 并不会加入到 package.json(存疑))</p>
</blockquote>
<h3 id="创建库"><a href="#创建库" class="headerlink" title="创建库"></a>创建库</h3>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://qqstone.github.io/qqsnote/2019/11/07/LinuxResetPassword/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/qqsnote/images/avatar.gif">
      <meta itemprop="name" content="QQs">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="QQs'Note">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/qqsnote/2019/11/07/LinuxResetPassword/" class="post-title-link" itemprop="url">LinuxResetPassword</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2019-11-07 12:55:50" itemprop="dateCreated datePublished" datetime="2019-11-07T12:55:50+08:00">2019-11-07</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-01-13 19:47:30" itemprop="dateModified" datetime="2020-01-13T19:47:30+08:00">2020-01-13</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/qqsnote/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>c.f. <a target="_blank" rel="noopener" href="https://askubuntu.com/questions/24006/how-do-i-reset-a-lost-administrative-password">How do I reset a lost administrative password?</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://qqstone.github.io/qqsnote/2019/11/05/Docker-Container/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/qqsnote/images/avatar.gif">
      <meta itemprop="name" content="QQs">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="QQs'Note">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/qqsnote/2019/11/05/Docker-Container/" class="post-title-link" itemprop="url">Docker_Container</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2019-11-05 10:37:10" itemprop="dateCreated datePublished" datetime="2019-11-05T10:37:10+08:00">2019-11-05</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2024-06-15 16:30:40" itemprop="dateModified" datetime="2024-06-15T16:30:40+08:00">2024-06-15</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/qqsnote/categories/%E5%AE%B9%E5%99%A8/" itemprop="url" rel="index"><span itemprop="name">容器</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h4 id="启动一个Jenkins-docker"><a href="#启动一个Jenkins-docker" class="headerlink" title="启动一个Jenkins docker"></a>启动一个Jenkins docker</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">docker pull jenkins</span><br><span class="line">sudo mkdir &#x2F;var&#x2F;jenkins_home</span><br><span class="line">docker run </span><br><span class="line">-d </span><br><span class="line">-u root </span><br><span class="line">--rm </span><br><span class="line">--name myjenkins </span><br><span class="line">-p 8080:8080 -p 50000:50000 </span><br><span class="line">-v &#x2F;var&#x2F;jenkins_home:&#x2F;var&#x2F;jenkins_home </span><br><span class="line">--restart always </span><br><span class="line">jenkins</span><br></pre></td></tr></table></figure>
<p>说明</p>
<ul>
<li>docker run启动一个container </li>
<li>-d 后台运行</li>
<li>-u root 以root权限执行 尤其对于jenkins 权限不足会影响持久化卷的访问</li>
<li>—rm 容器退出后自动移除 实际上写这个会报与—restart always冲突</li>
<li>—name myjenkins容器Name命名为myjenkins</li>
<li>-p 8080:8080 -p 50000:50000 容器端口映射到宿主端口，前者是主机端口，后者是容器端口</li>
<li>-v volume设置（详见“卷和持久化数据”）</li>
<li>—restart always重启策略</li>
<li>jenkins 镜像</li>
</ul>
<p>参考<br> <a target="_blank" rel="noopener" href="https://www.runoob.com/docker/docker-command-manual.html">docker run命令</a></p>
<p>Docker提供了3种预置网络配置：桥接、主机、无网络<br>端口映射适应于桥接网络，是启动容器的默认网络设置，如果是主机网络，则可以直接使用主机上的剩余端口</p>
<p><strong>jenkins升级</strong><br>在jenkins ui中upgrade 重启后无法访问 查看docker container log发现需要升级JDK版本</p>
<p>由于我们启用jenkins时映射了宿主volume,不用担心丢失工作数据， 可以更新docker image 删除并重建容器</p>
<p><a target="_blank" rel="noopener" href="https://segmentfault.com/a/1190000043471705">如何进入无限重启的容器</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/renfng/article/details/120704334">更新docker jenkins环境(jdk, ant)</a></p>
<h4 id="连接到容器"><a href="#连接到容器" class="headerlink" title="连接到容器"></a>连接到容器</h4><p>docker attach [containerID]</p>
<p>docker exec -it [containerID] bash或sh</p>
<p>前者是直接进入容器启动命令的终端，不开启新的进程，退出终端意味着容器命令被终结<br>后者是打开一个新的终端(bash或sh)<br><br>在容器终端键入 exit 退出</p>
<h4 id="使用Container-ID-停止和重启等"><a href="#使用Container-ID-停止和重启等" class="headerlink" title="使用Container ID 停止和重启等"></a>使用Container ID 停止和重启等</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">docker ps -a</span><br><span class="line">docker ps | grep jenkins</span><br><span class="line">docker stop&#x2F;restart id</span><br><span class="line"></span><br><span class="line">docker rm id</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Issue：如何得知特定镜像需要的持久化卷配置，即我要创建哪些路径的映射呢？</p>
</blockquote>
<h4 id="tomcat-docker的卷设置"><a href="#tomcat-docker的卷设置" class="headerlink" title="tomcat docker的卷设置"></a>tomcat docker的卷设置</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run --name tomcat -p 8080:8080 -v $PWD&#x2F;test:&#x2F;usr&#x2F;local&#x2F;tomcat&#x2F;webapps&#x2F;test -d tomcat </span><br></pre></td></tr></table></figure>
<h4 id="容器重连"><a href="#容器重连" class="headerlink" title="容器重连"></a>容器重连</h4><p>有的封装服务的容器是可以docker run -d 保持后台运行的，很多容器如ubuntu等，断开终端连接往往会结束运行，在docker ps -a中看到状态是Exited。<br><br>启动容器并附加到当前进程<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker start -a -i &#96;docker ps -q -l&#96;</span><br></pre></td></tr></table></figure><br>说明：<br>docker start启动容器（需要名称或ID）<br> -a附加到容器<br> -i交互模式<br>docker ps列表容器<br> -q列表仅容器ID<br> -l列表仅最后创建容器</p>
<p>检索自<a target="_blank" rel="noopener" href="https://cloud.tencent.com/developer/ask/145603">腾讯云问答</a></p>
<p>另，对于这种容器，可以保持一个“前台”的进程运行，如<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run ubuntu &#x2F;bin&#x2F;bash -c &quot;while true; do echo docker connected; sleep 5; done&quot; &#x2F;&#x2F; 每5s 输出一次</span><br></pre></td></tr></table></figure></p>
<h4 id="docker-for-mysql-5-7"><a href="#docker-for-mysql-5-7" class="headerlink" title="docker for mysql 5.7"></a>docker for mysql 5.7</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">docker pull mysql:5.7</span><br><span class="line">docker run --name mysql_57_instance -v &#x2F;home&#x2F;qqs&#x2F;Workspace&#x2F;mysql:&#x2F;var&#x2F;lib&#x2F;mysql -e MYSQL_ROOT_PASSWORD&#x3D;123456 -d mysql:5.7</span><br><span class="line">docker exec -it mysql_57_instance bash</span><br><span class="line">mysql -u root -p</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Containers for the linked service will be reachable at a hostname identical to the alias, or the service name if no alias was specified.</p>
</blockquote>
<p>使用docker for mysql部署数据库，docker容器运行起后，不需要进入容器修改配置（事实上使用docker -it进入容器终端后，/etc/mysql/下面没有配置文件），在配置外部数据连接时，使用容器名代替localhost或127.0.0.1<br>参考<a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/40075065/using-docker-i-get-the-error-sqlstatehy000-2002-no-such-file-or-directory">issue: SQLSTATE[HY000] [2002] Connection refused</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://qqstone.github.io/qqsnote/2019/10/31/DockerInstallation/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/qqsnote/images/avatar.gif">
      <meta itemprop="name" content="QQs">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="QQs'Note">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/qqsnote/2019/10/31/DockerInstallation/" class="post-title-link" itemprop="url">Docker入门</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2019-10-31 09:48:11" itemprop="dateCreated datePublished" datetime="2019-10-31T09:48:11+08:00">2019-10-31</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2024-06-15 16:30:40" itemprop="dateModified" datetime="2024-06-15T16:30:40+08:00">2024-06-15</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/qqsnote/categories/%E5%AE%B9%E5%99%A8/" itemprop="url" rel="index"><span itemprop="name">容器</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h4 id="容器"><a href="#容器" class="headerlink" title="容器"></a>容器</h4><blockquote>
<p>容器时一种松散隔离(loosely, isolated)的环境，允许我们构建或运行软件包(software packages)。这些软件包包括源码和依赖，称为容器镜像。容器镜像是我们用于分发应用程序的单位。</p>
</blockquote>
<p>一般来说，下文只记录操作记录而不是详细步骤</p>
<ul>
<li><p>ubuntu install docker</p>
</li>
<li><p>usermod aG docker</p>
</li>
<li><p>自动启动systemctl enable docker</p>
</li>
<li><p>镜像列表docker image ls</p>
</li>
<li><p>从Docker Hub搜索并下载镜像</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">docker search httpd</span><br><span class="line"></span><br><span class="line">docker pull httpd:latest</span><br></pre></td></tr></table></figure>
<blockquote>
<p>这里的Docker Hub相当于npmjs.org仓库，镜像是容器的模板，镜像之于容器，如同class之于object。这里的httpd称为应用容器镜像，是包含指定应用的环境。</p>
</blockquote>
<p>  latest 是版本tag，下载非latest的指定版本镜像只能查Docker Hub</p>
</li>
<li><p>删除镜像 docker image rm hello-world</p>
</li>
<li><p>启动容器 docker container run [OPTIONS] IMAGE [COMMAND]</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">docker container run -it centos:latest &#x2F;bin&#x2F;bash</span><br><span class="line"></span><br><span class="line">docker container ls</span><br></pre></td></tr></table></figure></li>
<li>查看日志（输出到当前终端）docker logs -f contianderId </li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://qqstone.github.io/qqsnote/2019/10/30/ssh/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/qqsnote/images/avatar.gif">
      <meta itemprop="name" content="QQs">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="QQs'Note">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/qqsnote/2019/10/30/ssh/" class="post-title-link" itemprop="url">ssh</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2019-10-30 13:33:53" itemprop="dateCreated datePublished" datetime="2019-10-30T13:33:53+08:00">2019-10-30</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-03-02 20:11:18" itemprop="dateModified" datetime="2025-03-02T20:11:18+08:00">2025-03-02</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/qqsnote/categories/%E5%B7%A5%E5%85%B7/" itemprop="url" rel="index"><span itemprop="name">工具</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h4 id="ubuntu安装后无法ssh远程登录"><a href="#ubuntu安装后无法ssh远程登录" class="headerlink" title="ubuntu安装后无法ssh远程登录"></a>ubuntu安装后无法ssh远程登录</h4><p>检查是否安装ssh-server<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dpkg -l | grep ssh</span><br></pre></td></tr></table></figure><br>默认只有ssh-client,如下</p>
<p><img src="https://i0.wp.com/tvax1.sinaimg.cn/large/a60edd42gy1g8g662fyfoj20le059dgy.jpg" alt="20170210203338059"><br>安装命令：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install openssh-server</span><br></pre></td></tr></table></figure><br>通过进程确认服务已启动<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ps -e | grep ssh</span><br></pre></td></tr></table></figure><br>启动与停止<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo &#x2F;etc&#x2F;init.d&#x2F;ssh stop</span><br><span class="line">sudo &#x2F;etc&#x2F;init.d&#x2F;ssh start</span><br></pre></td></tr></table></figure></p>
<h4 id="ssh-key"><a href="#ssh-key" class="headerlink" title="ssh key"></a>ssh key</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 查看ssh key目录</span><br><span class="line"> ls -al ~&#x2F;.ssh</span><br><span class="line"> &#x2F;&#x2F; 生成</span><br><span class="line"> ssh-keygen -t rsa -C &quot;&quot;</span><br><span class="line"> &#x2F;&#x2F; 添加密钥到ssh-agent 注 见下文异常</span><br><span class="line"> ssh-add ~&#x2F;.ssh&#x2F;id_rsa.pub</span><br></pre></td></tr></table></figure>
<blockquote>
<p>异常：Could not open a connection to your authentication agent<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-agent bash</span><br></pre></td></tr></table></figure><br>异常：Permissions 0777 for ‘~/.ssh/id_rsa’ are too open.<br><br>It is recommended that your private key files are NOT accessible by others.<br><br>This private key will be ignored.</p>
</blockquote>
<p>keys need to be only readable to you<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 改为只读</span><br><span class="line">chmod 400 ~&#x2F;.ssh&#x2F;id_rsa </span><br><span class="line">ssh-add ~&#x2F;.ssh&#x2F;id_rsa.pub</span><br></pre></td></tr></table></figure><br>返回“identity added blablabla…”</p>
<h4 id="使用ssh-key连接GitHub"><a href="#使用ssh-key连接GitHub" class="headerlink" title="使用ssh key连接GitHub"></a>使用ssh key连接GitHub</h4><ul>
<li>复制public key</li>
<li>测试<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh -T git@github.com&#x2F;qqstone&#x2F;xxx.git</span><br></pre></td></tr></table></figure>
<blockquote>
<p>异常：Could not resolve hostname github.com:qqstone/xxx.git： Name or service not known;</p>
</blockquote>
</li>
</ul>
<p>尝试ping github.com 发现超时，说明dns给的地址连接超时，然而由于网页上是http协议，是可以有反向代理以及负载均衡配置的(具体原因存疑)，所以网页打开Github反而很流畅。<br><br>另一种情况，主机无法连接正确的dns，解析超时，可以在连接正常的环境中(如无线网络或4g网络)用nslookup查看域名解析，找到实际的公网ip，然后在超时的环境中尝试用ip连接</p>
<p><i>懒得去服务器上授权密钥，可以将已授权的 id_rsa + xxx.pub(公钥)拷贝覆盖到其他主机</i></p>
<blockquote>
<p>异常：The authenticity of host 192.168.xxx.xxx can’t be established.ECDSA key fingerprint is blablabla<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh  -o StrictHostKeyChecking&#x3D;no  192.168.xxx.xxx</span><br></pre></td></tr></table></figure><br>异常：ssh key在终端有效，在脚本中无效<br><br>在终端执行git 命令，ssh key认证可自动通过，将命令写入shell执行，git命令会要求当前用户访问Repository的密码。</p>
</blockquote>
<p>原因可能是ssh key隶属当前用户，而未配置到root用户，root用户默认是禁用的，尝试添加/home/root/.ssh/*无效，未尝试添加/root/.ssh/*。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config core.sshCommand &quot;ssh -i &#x2F;home&#x2F;csd&#x2F;.ssh&#x2F;id_rsa -o StrictHostKeyChecking&#x3D;no git@hostname&quot;</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p>异常：kex_exchange_identification: read: Software caused connection abort. banner exchange: Connection to 20.205.243.166 port 22: Software caused connection abort<br>fatal: Could not read from remote repository.</p>
</blockquote>
<p>use https than ssh</p>
<h4 id="linux系统之间的ssh授权访问"><a href="#linux系统之间的ssh授权访问" class="headerlink" title="linux系统之间的ssh授权访问"></a>linux系统之间的ssh授权访问</h4><p>一、概述</p>
<p>1、就是为了让两个linux机器之间使用ssh不需要用户名和密码。采用了数字签名RSA或者DSA来完成这个操作</p>
<p>2、模型分析</p>
<p>假设 A （192.168.20.59）为客户机器，B（192.168.20.60）为目标机；</p>
<p>要达到的目的：<br>A机器ssh登录B机器无需输入密码；<br>加密方式选 rsa|dsa均可以，默认dsa</p>
<p>二、具体操作流程</p>
<p>单向登陆的操作过程（能满足上边的目的）：<br>1、登录A机器<br>2、ssh-keygen -t [rsa|dsa]，将会生成密钥文件和私钥文件 id_rsa,id_rsa.pub或id_dsa,id_dsa.pub<br>3、将 .pub 文件复制到B机器的 .ssh 目录， 并 cat id_dsa.pub &gt;&gt; ~/.ssh/authorized_keys<br>4、大功告成，从A机器登录B机器的目标账户，不再需要密码了；（直接运行 #ssh 192.168.20.60 ）</p>
<p>双向登陆的操作过程：</p>
<p>1、ssh-keygen做密码验证可以使在向对方机器上ssh ,scp不用使用密码.具体方法如下:<br>2、两个节点都执行操作：#ssh-keygen -t rsa<br>  然后全部回车,采用默认值.</p>
<p>3、这样生成了一对密钥，存放在用户目录的~/.ssh下。<br>将公钥考到对方机器的用户目录下，并将其复制到~/.ssh/authorized_keys中（操作命令：#cat id_dsa.pub &gt;&gt; ~/.ssh/authorized_keys）。</p>
<h4 id="退出"><a href="#退出" class="headerlink" title="退出"></a>退出</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">exit</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://qqstone.github.io/qqsnote/2019/10/28/MySQL/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/qqsnote/images/avatar.gif">
      <meta itemprop="name" content="QQs">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="QQs'Note">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/qqsnote/2019/10/28/MySQL/" class="post-title-link" itemprop="url">MySQL</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2019-10-28 12:48:25" itemprop="dateCreated datePublished" datetime="2019-10-28T12:48:25+08:00">2019-10-28</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-03-02 20:11:18" itemprop="dateModified" datetime="2025-03-02T20:11:18+08:00">2025-03-02</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/qqsnote/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/" itemprop="url" rel="index"><span itemprop="name">数据库</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="前提"><a href="#前提" class="headerlink" title="前提"></a>前提</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select version()</span><br></pre></td></tr></table></figure>
<p>返回8.0.16</p>
<h4 id="root-初始密码"><a href="#root-初始密码" class="headerlink" title="root 初始密码"></a>root 初始密码</h4><p>mysql安装时为root用户创建初始密码，可以在日志中找到<br><br>/var/log/mysqld.log<br><img src="https://i0.wp.com/tvax1.sinaimg.cn/large/a60edd42gy1g8du7mi9ihj20j10eijv9.jpg" alt="mysqld.log"></p>
<p>登录之后会勒令重设密码</p>
<blockquote>
<p>You must reset your password using ALTER USRE statement before executing this statement.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alter user &#39;root&#39;@&#39;localhost&#39; identified by &#39;A_Za_z0_9&#39;</span><br></pre></td></tr></table></figure></p>
<h4 id="修改密码级别"><a href="#修改密码级别" class="headerlink" title="修改密码级别"></a>修改密码级别</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; set global validate_password.policy&#x3D;0;</span><br><span class="line">mysql&gt; set global validate_password.length&#x3D;3;</span><br></pre></td></tr></table></figure>
<p>现在可以设密码123了 </p>
</blockquote>
<h4 id="新建管理员"><a href="#新建管理员" class="headerlink" title="新建管理员"></a>新建管理员</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; create user &#39;admin&#39;@&#39;%&#39; identified by &#39;admin&#39;;</span><br><span class="line">mysql&gt; grant all privileges on *.* to &#39;admin&#39;@&#39;%&#39;;</span><br><span class="line">mysql&gt; flush privileges;</span><br></pre></td></tr></table></figure>
<h4 id="native-password"><a href="#native-password" class="headerlink" title="native password"></a>native password</h4><p>异常：</p>
<blockquote>
<p>Client does not support authentication protocol requested by server; consider upgrading MySQL client</p>
</blockquote>
<p>由于MySQL8 默认用编码口令代替了之前版本的native password，在使用第三方（如应用后台服务）连接数据库时，不符合协议</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ALTER USER &#39;admin&#39;@&#39;%&#39; IDENTIFIED WITH mysql_native_password BY &#39;admin&#39;;</span><br><span class="line">FLUSH PRIVILEGES;</span><br></pre></td></tr></table></figure>
<h4 id="配置远程连接"><a href="#配置远程连接" class="headerlink" title="配置远程连接"></a>配置远程连接</h4><p>Ubuntu :<br><br>/etc/mysql/mysqld.cnf<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bind-address &#x3D; 0.0.0.0</span><br></pre></td></tr></table></figure><br>可以注释掉（未验证）<br>CentOS<br><br>见/etc/my.conf指定了配置目录<br><br>曾修改主机ip时mysql启动失败（查看状态:service mysqld status），现象是在本地登录mysql -u xxx -p验证密码后报异常:<br><br><i>ERROR 2002 (HY000): Can’t connect to local MySQL server through socket ‘/var/run/mysqld/mysqld.sock’</i></p>
<h4 id="数据库时间"><a href="#数据库时间" class="headerlink" title="数据库时间"></a>数据库时间</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">select now();&#x2F;&#x2F; yyyy-MM-dd hh24:mi:ss</span><br><span class="line">select sysdate();&#x2F;&#x2F; yyyy-MM-dd hh24:mi:ss</span><br><span class="line"></span><br><span class="line">select current_date;&#x2F;&#x2F; yyyy-MM-dd 带()结果相同</span><br></pre></td></tr></table></figure>
<h4 id="使用自增int作为主键"><a href="#使用自增int作为主键" class="headerlink" title="使用自增int作为主键"></a>使用自增int作为主键</h4><p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/71022670">mysql为什么建议使用自增主键</a></p>
<p>关于删除表数据后重置auto increment:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">delete from table1;</span><br><span class="line">alter table1 AUTO_INCREMENT&#x3D;1;</span><br></pre></td></tr></table></figure><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">trancate table1;</span><br></pre></td></tr></table></figure></p>
<h4 id="使用时间戳"><a href="#使用时间戳" class="headerlink" title="使用时间戳"></a>使用时间戳</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE mytable CHANGE COLUMN ptime ptime TIMESTAMP  ON UPDATE CURRENT_TIMESTAMP</span><br></pre></td></tr></table></figure>
<h4 id="联合唯一"><a href="#联合唯一" class="headerlink" title="联合唯一"></a>联合唯一</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alter table all_user add unique key(employeeid, isvalid)</span><br></pre></td></tr></table></figure>
<p>CAUTION ! 上述语句是为了能在记录标记删除后，原纪录的唯一字段可以重新使用，但是如果isvalid是boolean(0-1)类型的，再次删除会造成违反联合唯一约束，解决方法是将isvalid以自增值标记，或以时间戳标记</p>
<h4 id="数据导入"><a href="#数据导入" class="headerlink" title="数据导入"></a>数据导入</h4><p>MySQL Workbench工具，支持csv，json格式的import wizard，其实可以直接用命令方式导入<br><img src="https://i0.wp.com/tvax4.sinaimg.cn/large/a60edd42gy1g9swbdtdpbj20rg0mijto.jpg" alt="Capture_mysql_workbench"><br>工具提供了直观图形界面和字段映射。<br><br>然而csv的支持是个大坑。</p>
<blockquote>
<p>Excel在读取csv的时候是通过读取文件头上的bom来识别编码的，如果文件头无bom信息，则默认按照unicode编码读取。</p>
<p>MySQL读取csv数据不能识别bom头，遇到utf8bom报“Can’t analyze file. Please try to change encoding type. If that doesn’t help, maybe the file is not: csv, or the file is empty.</p>
</blockquote>
<p>应如下操作：</p>
<ul>
<li>在Excel中整理待导入数据的格式，特别提示MySQL datetime类型字段数据源应调整为yyyy-mm-dd hh:mm:ss格式</li>
<li>第一行列头会作为导入field的标识，这一行不能为中文（此坑已踩）</li>
<li>保存为CSV UTF-8(Comma delimited) 在Excel365的SAVE AS选项中是这样。</li>
<li>用Notepad++打开保存的文件，可见此时默认为Encoding in UTF8-BOM，需Convert to UTF8 （此时再使用Excel打开，会发现出现中文乱码，原因如上所述，找不到BOM将以Unicode解码,应该打开Excel，使用数据导入向导，from text/csv）</li>
<li>使用Workbench Import Wizard导入</li>
</ul>
<h4 id="关于utf8-和-utf8mb4"><a href="#关于utf8-和-utf8mb4" class="headerlink" title="关于utf8 和 utf8mb4"></a>关于utf8 和 utf8mb4</h4><p><a target="_blank" rel="noopener" href="https://juejin.im/entry/5b3055046fb9a00e315c2849">记住，永远不要在MySQL中使用“utf8”</a></p>
<p>大致是说，，别人utf-8都是四个字节编码，就MySQL所谓的utf-8是3字节，为与标准对应，又出了utf8mb4，请在MySQL中使用utf8mb4</p>
<h4 id="数据库备份"><a href="#数据库备份" class="headerlink" title="数据库备份"></a>数据库备份</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysqldump -u$&#123;username&#125; -p$&#123;password&#125; schemaName tableName1 tableName2 tableName3 &gt; backup.sql</span><br></pre></td></tr></table></figure>
<blockquote>
<p>关于使用git实现快捷数据备份的实践<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">cd ~&#x2F;Workspace</span><br><span class="line">git clone git@projectX.git</span><br><span class="line">mkdir ~&#x2F;Workspace&#x2F;projectX&#x2F;db </span><br><span class="line">mysqldump -u admin -padmin schemaName tableName &gt; backup.sql</span><br><span class="line">git commit</span><br><span class="line">git push</span><br></pre></td></tr></table></figure><br>///<br>思考：我要是不在本地跑源码(node server.js),是否可以省略拉本地仓库的步骤？是否可以直接将备份文件“push”到远程仓库？<br><img src="https://i0.wp.com/tvax2.sinaimg.cn/large/a60edd42gy1gaj6h0z7e5j20m806btb2.jpg" alt=""><br>编辑文件在上图的workspace范畴中，我想，问题答案应该是否定的。</p>
<h4 id="常用查询"><a href="#常用查询" class="headerlink" title="常用查询"></a>常用查询</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">show databases;</span><br><span class="line">create database csc;</span><br><span class="line">use csc;</span><br><span class="line">show tables;</span><br></pre></td></tr></table></figure>
<h4 id="联合更新"><a href="#联合更新" class="headerlink" title="联合更新"></a>联合更新</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">update asset a inner join department d on a.depart_id&#x3D;d.depart_id set a.department&#x3D;d.depart_name </span><br><span class="line">where a.department &lt;&gt; d.depart_name </span><br></pre></td></tr></table></figure>
<h4 id="key-primary-key-unique-key"><a href="#key-primary-key-unique-key" class="headerlink" title="key, primary key, unique key"></a>key, primary key, unique key</h4></blockquote>
<h4 id="分组取第一条"><a href="#分组取第一条" class="headerlink" title="分组取第一条"></a>分组取第一条</h4><p>MySQl 8 之前的版本不支持partition by<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">select * from</span><br><span class="line">(</span><br><span class="line">select *,row_number() over(partition by Grade order by Score desc) as Sequence from Student</span><br><span class="line">)T where T.Sequence&lt;&#x3D;1</span><br></pre></td></tr></table></figure><br>workaround<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">SELECT </span><br><span class="line">        t1.*</span><br><span class="line">    FROM</span><br><span class="line">        action_history t1</span><br><span class="line">    INNER JOIN (SELECT </span><br><span class="line">        MAX(timestramp) AS newest, process_id</span><br><span class="line">    FROM</span><br><span class="line">        action_history</span><br><span class="line">    GROUP BY process_id) t2 ON t2.process_id &#x3D; t1.process_id</span><br><span class="line">        AND t2.newest &#x3D; t1.timestramp</span><br></pre></td></tr></table></figure></p>
<h4 id="加-减后缀"><a href="#加-减后缀" class="headerlink" title="加/减后缀"></a>加/减后缀</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">UPDATE all_user </span><br><span class="line">SET </span><br><span class="line">    email &#x3D; CONCAT(email, &#39;_disabled&#39;)</span><br><span class="line">WHERE</span><br><span class="line">    email NOT LIKE &#39;%yopmail.com&#39;</span><br><span class="line">        AND user_id &lt; 108</span><br></pre></td></tr></table></figure>
<p>去后缀，即取该字段的左起（总长度-后缀长度）个字符<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">UPDATE all_user </span><br><span class="line">SET </span><br><span class="line">    email &#x3D; LEFT(email, LENGTH(email) - 9)</span><br><span class="line">WHERE</span><br><span class="line">    email NOT LIKE &#39;%yopmail.com&#39;</span><br><span class="line">        AND user_id &lt; 108</span><br></pre></td></tr></table></figure></p>
<h4 id="查询各表数据条数"><a href="#查询各表数据条数" class="headerlink" title="查询各表数据条数"></a>查询各表数据条数</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">USE information_schema;</span><br><span class="line">SELECT table_name,table_rows FROM TABLES WHERE TABLE_SCHEMA &#x3D; &#39;ams&#39; </span><br></pre></td></tr></table></figure>
<h4 id="MySQL-Utilities"><a href="#MySQL-Utilities" class="headerlink" title="MySQL Utilities"></a>MySQL Utilities</h4><p>数据库更新工具<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ mysqldbcompare --server1&#x3D;admin:admin@10.196.98.83:3306 --server2&#x3D;admin:admin@10.196.98.107:3306 ams:ams --run-all-tests --changes-for&#x3D;server1 --difftype&#x3D;sql &gt;&gt; d:\temp\diff.sql</span><br></pre></td></tr></table></figure><br>该工具依赖表mysql.proc, mysql.event已在mysql8以上版本移除，如有需要宜寻5.7等版本数据库导出</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://qqstone.github.io/qqsnote/2019/10/24/jenkinsNodejs/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/qqsnote/images/avatar.gif">
      <meta itemprop="name" content="QQs">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="QQs'Note">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/qqsnote/2019/10/24/jenkinsNodejs/" class="post-title-link" itemprop="url">Jenkins对Node.js项目的持续集成</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2019-10-24 16:59:14" itemprop="dateCreated datePublished" datetime="2019-10-24T16:59:14+08:00">2019-10-24</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-07-09 21:17:11" itemprop="dateModified" datetime="2020-07-09T21:17:11+08:00">2020-07-09</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/qqsnote/categories/%E5%B7%A5%E5%85%B7/" itemprop="url" rel="index"><span itemprop="name">工具</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="安装NodeJS"><a href="#安装NodeJS" class="headerlink" title="安装NodeJS"></a>安装NodeJS</h3><p>Manage Jenkins菜单 —&gt; Manage Plugins<br>添加Node.js 并<b>重启Jenkins</b><br>进入 Manage Jenkins —&gt; Global Tool Configuration<br>找到NodeJS installations 此处可以配置安装多个版本的NodeJS<br>如有需要填写Global npm packages to install项<br>如<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">@angular&#x2F;cli@8.2.2 electron@6.0.2 electron-builder@21.2.0 node-gyp@6.1.0</span><br></pre></td></tr></table></figure></p>
<h3 id="添加和使用credentials-有用户名密码模式-ssh模式等"><a href="#添加和使用credentials-有用户名密码模式-ssh模式等" class="headerlink" title="添加和使用credentials 有用户名密码模式 ssh模式等"></a>添加和使用credentials 有用户名密码模式 ssh模式等</h3><p>ssh模式粘贴private key即可</p>
<h3 id="建立Job-选择Freestyle-project"><a href="#建立Job-选择Freestyle-project" class="headerlink" title="建立Job 选择Freestyle project"></a>建立Job 选择Freestyle project</h3><h3 id="配置git并选择credentials"><a href="#配置git并选择credentials" class="headerlink" title="配置git并选择credentials"></a>配置git并选择credentials</h3><h3 id="Build-Environment中-勾选-“Provide-Node-amp-npm-bin-folder-to-PATH”-并选择已安装的版本"><a href="#Build-Environment中-勾选-“Provide-Node-amp-npm-bin-folder-to-PATH”-并选择已安装的版本" class="headerlink" title="Build Environment中 勾选 “Provide Node &amp; npm bin/ folder to PATH” 并选择已安装的版本"></a>Build Environment中 勾选 “Provide Node &amp; npm bin/ folder to PATH” 并选择已安装的版本</h3><p>否则jenkins所在系统无法识别nodejs命令</p>
<h3 id="最后-Build-步骤可以直接用-“Windows-batch-command”-或者-“execuate-shell”调用"><a href="#最后-Build-步骤可以直接用-“Windows-batch-command”-或者-“execuate-shell”调用" class="headerlink" title="最后 Build 步骤可以直接用 “Windows batch command” 或者 “execuate shell”调用"></a>最后 Build 步骤可以直接用 “Windows batch command” 或者 “execuate shell”调用</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install &amp;&amp; npm run build</span><br></pre></td></tr></table></figure>
<p>注意 npm 命令是安装了node包管理工具之后的命令行指令，并非是nodejs命令,否则报 syntaxerror unexpected identifier</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://qqstone.github.io/qqsnote/2019/10/18/CSS3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/qqsnote/images/avatar.gif">
      <meta itemprop="name" content="QQs">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="QQs'Note">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/qqsnote/2019/10/18/CSS3/" class="post-title-link" itemprop="url">CSS3</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2019-10-18 14:58:47" itemprop="dateCreated datePublished" datetime="2019-10-18T14:58:47+08:00">2019-10-18</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-03-02 20:11:18" itemprop="dateModified" datetime="2025-03-02T20:11:18+08:00">2025-03-02</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/qqsnote/categories/%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF/" itemprop="url" rel="index"><span itemprop="name">前端技术</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h4 id="边框"><a href="#边框" class="headerlink" title="边框"></a>边框</h4><ul>
<li><a target="_blank" rel="noopener" href="https://getcssscan.com/css-box-shadow-examples?ref=producthunt">box-shadow example</a><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">box-shadow: red 0 0 5px 5px</span><br></pre></td></tr></table></figure>
颜色可以放在开头或结尾，也可缺省(即#fff) 数值顺序依次x-offset, y-offset, blur radius, spread radius</li>
<li>border-image<h4 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#example1 &#123; </span><br><span class="line">    background-image: url(img_flwr.gif), url(paper.gif); </span><br><span class="line">    background-position: right bottom, left top; </span><br><span class="line">    background-repeat: no-repeat, repeat; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="渐变"><a href="#渐变" class="headerlink" title="渐变"></a>渐变</h4></li>
<li>线性渐变 liner-gradient</li>
<li>径向渐变 radial-gradient<h4 id="文字特效"><a href="#文字特效" class="headerlink" title="文字特效"></a>文字特效</h4></li>
<li>text-shadow<h4 id="转换-过渡-动画"><a href="#转换-过渡-动画" class="headerlink" title="转换 过渡 动画"></a>转换 过渡 动画</h4>transform 转换 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">translate() &#x2F;&#x2F; 移动</span><br><span class="line">rotate() </span><br><span class="line">scale() &#x2F;&#x2F; 缩放</span><br><span class="line">skew() &#x2F;&#x2F; 倾斜</span><br><span class="line">matrix() &#x2F;&#x2F; 上述转换的综合</span><br></pre></td></tr></table></figure>
居中：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">position: &#39;absolute&#39;,</span><br><span class="line">margin: &#39;auto&#39;,</span><br><span class="line">top: &#39;50%&#39;,</span><br><span class="line">left: &#39;50%&#39;,</span><br><span class="line">transform: &#96;translate(-50%, -50%)&#96;,</span><br></pre></td></tr></table></figure>
transition 过渡<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">transition:transform 0.5s</span><br></pre></td></tr></table></figure>
将某个样式的变化加入一定过渡动画<br>animation 动画<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">div</span><br><span class="line">&#123;</span><br><span class="line">    animation: myfirst 5s;</span><br><span class="line">    -webkit-animation: myfirst 5s; &#x2F;* Safari 与 Chrome *&#x2F;</span><br><span class="line">&#125;</span><br><span class="line">@keyframes myfirst</span><br><span class="line">&#123;</span><br><span class="line">    from &#123;background: red;&#125;</span><br><span class="line">    to &#123;background: yellow;&#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">@-webkit-keyframes myfirst &#x2F;* Safari 与 Chrome *&#x2F;</span><br><span class="line">&#123;</span><br><span class="line">    from &#123;background: red;&#125;</span><br><span class="line">    to &#123;background: yellow;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="transparent-vs-rgba-0-0-0-0"><a href="#transparent-vs-rgba-0-0-0-0" class="headerlink" title="transparent vs rgba(0,0,0,0)"></a>transparent vs rgba(0,0,0,0)</h4></li>
</ul>
<h4 id="优先级"><a href="#优先级" class="headerlink" title="优先级"></a>优先级</h4><ul>
<li>相同选择器 层叠覆盖</li>
<li>具体、特异性强的选择器优先级高：类选择器 &gt; 元素选择器<h4 id="中空元素"><a href="#中空元素" class="headerlink" title="中空元素"></a>中空元素</h4><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/clip-path">clip-patch</a><h4 id="css实现toggle-switch"><a href="#css实现toggle-switch" class="headerlink" title="css实现toggle switch"></a>css实现toggle switch</h4><a href="w3schools.com/howto/howto_css_switch.asp">how to css switch</a><br>tip：在html中 input:type=checkbox 天生具有bool特征 即以checked属性跟踪状态<h4 id="3d效果-prespective-xyz"><a href="#3d效果-prespective-xyz" class="headerlink" title="3d效果-prespective, xyz"></a>3d效果-prespective, xyz</h4><a target="_blank" rel="noopener" href="https://3dtransforms.desandro.com/">Css 3D</a><h4 id="HTML-CSS-实现点击旋转"><a href="#HTML-CSS-实现点击旋转" class="headerlink" title="HTML + CSS 实现点击旋转"></a>HTML + CSS 实现点击旋转</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;html&gt;</span><br><span class="line">  ...</span><br><span class="line">  &lt;input type&#x3D;&quot;button&quot; class&#x3D;&quot;csd-icon icon-refresh&quot;&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>
目标元素要改为input，因为要用到focus伪类<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">.csd-icon.icon-refresh &#123;</span><br><span class="line">  width: 24px;</span><br><span class="line">  height: 24px;</span><br><span class="line">  padding: 0;</span><br><span class="line">  cursor: pointer;</span><br><span class="line">  position: absolute;</span><br><span class="line">  border:hidden;</span><br><span class="line">  background: url(&quot;data:image&#x2F;svg+xml,&quot; + map-get($icon,refresh) + &quot;&quot;) no-repeat top left;</span><br><span class="line">  right: 0;</span><br><span class="line">  &amp;:focus&#123;</span><br><span class="line">    outline: none;</span><br><span class="line">    animation: rotatefresh 1s;</span><br><span class="line">  &#125;</span><br><span class="line">  &amp;:active&#123;</span><br><span class="line">    animation: none;  </span><br><span class="line">    &#x2F;&#x2F;background: &#39;#eee&#39;;</span><br><span class="line">  &#125;</span><br><span class="line">  @keyframes rotatefresh &#123;</span><br><span class="line">    from &#123; transform: rotate(0deg) &#125;</span><br><span class="line">    to &#123;</span><br><span class="line">        transform: rotate(180deg);</span><br><span class="line">        transition: all 0.6s;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="磨砂特效"><a href="#磨砂特效" class="headerlink" title="磨砂特效"></a>磨砂特效</h4><a target="_blank" rel="noopener" href="https://www.w3cplus.com/css3/css-secrets/frosted-glass-effect.html">CSS秘密花园:磨砂玻璃效果</a><h4 id="减少异步"><a href="#减少异步" class="headerlink" title="减少异步"></a>减少异步</h4>使用形如background: url(‘../../icon.svg’)的样式无疑在渲染页面时又添加了异步调用，页面会出现从图片空缺到图片加载的’跳变’，可以用F12—Performance—Network：slow 3G<br>如果是img:src可以直接把svg代码贴在页面上，优点是图像作为页面代码的一部分一次性从服务端获取，缺点是布局代码会被推至很下面，且svg代码的可读性比较差。<br>另一种方式是将图片转为encodeURL贴在css中，这样使图片作为css的一部分从服务端获取<br>css形如<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">background: url(&quot;data:image&#x2F;svg+xml,%3Csvg%20width%3D%2218%22%20height%3D%2218%22%20viewBox...&quot;);</span><br></pre></td></tr></table></figure>
一个在线转换工具<br>见<a target="_blank" rel="noopener" href="http://www.asiteaboutnothing.net/c_decode-url.html">URL Decoder</a><br>将源码\<svg>…\</svg>贴入，进行转码<br>另用scss的预编译过程转换<br>见<a target="_blank" rel="noopener" href="https://github.com/davidkpiano/sass-svg">sass-svg</a><h4 id="box-sizing"><a href="#box-sizing" class="headerlink" title="box-sizing"></a>box-sizing</h4>当元素特效使用2px border代替1px border时，发现元素宽高变化 布局略微‘抖动’<br>应将box-sizing设为border-box<br>另可考虑margin减1px<br>另margin和box-sizing在flex布局下是无效的</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://segmentfault.com/a/1190000023290140">前端小智 CSS特效</a></p>
<h4 id="Container-Query"><a href="#Container-Query" class="headerlink" title="Container Query"></a>Container Query</h4><h4 id="文字对齐"><a href="#文字对齐" class="headerlink" title="文字对齐"></a>文字对齐</h4><p>单行文字可以调整line-hight<br>行内元素文字内容换行 会向上堆叠 元素高出其他行内元素，竖直方向对齐时，调整其他元素的vertical-align<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class&#x3D;&quot;field-label&quot;&gt;content:&lt;&#x2F;div&gt;</span><br><span class="line">&lt;div class&#x3D;&quot;field-text&quot;&gt;blablablah&lt;&#x2F;div&gt;</span><br><span class="line">&lt;style&gt;</span><br><span class="line">  .field-label&#123;</span><br><span class="line">    display: inline-block;</span><br><span class="line">    width: 8em;</span><br><span class="line">    vertical-align: top;</span><br><span class="line">  &#125;</span><br><span class="line">  .field-text&#123;</span><br><span class="line">    display: inline-block;</span><br><span class="line">    width: 8em;</span><br><span class="line">    word-break: break-word;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure></p>
<h4 id="混合模式-mix-blend-mode"><a href="#混合模式-mix-blend-mode" class="headerlink" title="混合模式 mix-blend-mode"></a>混合模式 mix-blend-mode</h4><p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/CSS/mix-blend-mode">mix-blend-mode</a><br>将所处位置的层叠像素叠加 可以叠加视频背景<br>区别于<a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/CSS/-webkit-text-fill-color">text-fill-color</a></p>
<h4 id="三角"><a href="#三角" class="headerlink" title="三角"></a>三角</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">triangle:&#123;</span><br><span class="line">    position:&#39;absolute&#39;,</span><br><span class="line">    top:42,</span><br><span class="line">    right:28,</span><br><span class="line">    width:0,</span><br><span class="line">    height:0,</span><br><span class="line">    backgroundColor:&#39;transparent&#39;,</span><br><span class="line">    borderWidth:10,</span><br><span class="line">    borderStyle:&#39;solid&#39;,</span><br><span class="line">    borderTopColor:&#39;transparent&#39;,</span><br><span class="line">    borderRightColor:&#39;transparent&#39;,</span><br><span class="line">    borderBottomColor:&#39;white&#39;,</span><br><span class="line">    borderLeftColor:&#39;transparent&#39;,</span><br><span class="line">    justifyContent:&#39;center&#39;,</span><br><span class="line">    alignItems:&#39;center&#39;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/qqsnote/page/25/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/qqsnote/">1</a><span class="space">&hellip;</span><a class="page-number" href="/qqsnote/page/25/">25</a><span class="page-number current">26</span><a class="page-number" href="/qqsnote/page/27/">27</a><span class="space">&hellip;</span><a class="page-number" href="/qqsnote/page/32/">32</a><a class="extend next" rel="next" href="/qqsnote/page/27/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">QQs</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/qqsnote/archives/">
        
          <span class="site-state-item-count">317</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/qqsnote/categories/">
        <span class="site-state-item-count">20</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/qqsnote/tags/">
        <span class="site-state-item-count">116</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>



      </div>

      <div class="tag-cloud-tags">
        <a href="/qqsnote/tags/Net/" style="font-size: 30px; color: #fff">.Net</a> <a href="/qqsnote/tags/4G/" style="font-size: 12px; color: #ccc">4G</a> <a href="/qqsnote/tags/AI/" style="font-size: 21.82px; color: #e8e8e8">AI</a> <a href="/qqsnote/tags/Android/" style="font-size: 12px; color: #ccc">Android</a> <a href="/qqsnote/tags/Angular/" style="font-size: 30px; color: #fff">Angular</a> <a href="/qqsnote/tags/Apache/" style="font-size: 13.64px; color: #d1d1d1">Apache</a> <a href="/qqsnote/tags/Azure/" style="font-size: 26.73px; color: #f6f6f6">Azure</a> <a href="/qqsnote/tags/Babylon/" style="font-size: 12px; color: #ccc">Babylon</a> <a href="/qqsnote/tags/C/" style="font-size: 16.91px; color: #dadada">C#</a> <a href="/qqsnote/tags/C/" style="font-size: 16.91px; color: #dadada">C++</a> <a href="/qqsnote/tags/CSS/" style="font-size: 20.18px; color: #e3e3e3">CSS</a> <a href="/qqsnote/tags/DevOps/" style="font-size: 15.27px; color: #d5d5d5">DevOps</a> <a href="/qqsnote/tags/Docker/" style="font-size: 16.91px; color: #dadada">Docker</a> <a href="/qqsnote/tags/ES6/" style="font-size: 12px; color: #ccc">ES6</a> <a href="/qqsnote/tags/ESLint/" style="font-size: 12px; color: #ccc">ESLint</a> <a href="/qqsnote/tags/ElasticSearch/" style="font-size: 12px; color: #ccc">ElasticSearch</a> <a href="/qqsnote/tags/Electron/" style="font-size: 16.91px; color: #dadada">Electron</a> <a href="/qqsnote/tags/ElementUI/" style="font-size: 12px; color: #ccc">ElementUI</a> <a href="/qqsnote/tags/EntityFramework/" style="font-size: 13.64px; color: #d1d1d1">EntityFramework</a> <a href="/qqsnote/tags/Excel/" style="font-size: 12px; color: #ccc">Excel</a> <a href="/qqsnote/tags/FastDFS/" style="font-size: 12px; color: #ccc">FastDFS</a> <a href="/qqsnote/tags/Figma/" style="font-size: 12px; color: #ccc">Figma</a> <a href="/qqsnote/tags/Go/" style="font-size: 12px; color: #ccc">Go</a> <a href="/qqsnote/tags/GraphQL/" style="font-size: 12px; color: #ccc">GraphQL</a> <a href="/qqsnote/tags/Jasmine/" style="font-size: 12px; color: #ccc">Jasmine</a> <a href="/qqsnote/tags/Java/" style="font-size: 13.64px; color: #d1d1d1">Java</a> <a href="/qqsnote/tags/Jenkins/" style="font-size: 21.82px; color: #e8e8e8">Jenkins</a> <a href="/qqsnote/tags/Linux/" style="font-size: 23.45px; color: #ececec">Linux</a> <a href="/qqsnote/tags/MQ/" style="font-size: 12px; color: #ccc">MQ</a> <a href="/qqsnote/tags/Markdown/" style="font-size: 13.64px; color: #d1d1d1">Markdown</a> <a href="/qqsnote/tags/MongoDB/" style="font-size: 12px; color: #ccc">MongoDB</a> <a href="/qqsnote/tags/MySQL/" style="font-size: 12px; color: #ccc">MySQL</a> <a href="/qqsnote/tags/NSIS/" style="font-size: 12px; color: #ccc">NSIS</a> <a href="/qqsnote/tags/Nginx/" style="font-size: 12px; color: #ccc">Nginx</a> <a href="/qqsnote/tags/NoSQL/" style="font-size: 12px; color: #ccc">NoSQL</a> <a href="/qqsnote/tags/Node-js/" style="font-size: 18.55px; color: #dfdfdf">Node.js</a> <a href="/qqsnote/tags/OData/" style="font-size: 13.64px; color: #d1d1d1">OData</a> <a href="/qqsnote/tags/OpenCV/" style="font-size: 18.55px; color: #dfdfdf">OpenCV</a> <a href="/qqsnote/tags/PHP/" style="font-size: 12px; color: #ccc">PHP</a> <a href="/qqsnote/tags/PWA/" style="font-size: 12px; color: #ccc">PWA</a> <a href="/qqsnote/tags/Python/" style="font-size: 25.09px; color: #f1f1f1">Python</a> <a href="/qqsnote/tags/React/" style="font-size: 21.82px; color: #e8e8e8">React</a> <a href="/qqsnote/tags/SQL/" style="font-size: 12px; color: #ccc">SQL</a> <a href="/qqsnote/tags/SQL-Server/" style="font-size: 15.27px; color: #d5d5d5">SQL_Server</a> <a href="/qqsnote/tags/ServiceWorker/" style="font-size: 12px; color: #ccc">ServiceWorker</a> <a href="/qqsnote/tags/Shell/" style="font-size: 12px; color: #ccc">Shell</a> <a href="/qqsnote/tags/TypeScript/" style="font-size: 13.64px; color: #d1d1d1">TypeScript</a> <a href="/qqsnote/tags/UE/" style="font-size: 12px; color: #ccc">UE</a> <a href="/qqsnote/tags/UI/" style="font-size: 12px; color: #ccc">UI</a> <a href="/qqsnote/tags/UML/" style="font-size: 12px; color: #ccc">UML</a> <a href="/qqsnote/tags/Virtualbox/" style="font-size: 12px; color: #ccc">Virtualbox</a> <a href="/qqsnote/tags/WPF/" style="font-size: 12px; color: #ccc">WPF</a> <a href="/qqsnote/tags/WebGL/" style="font-size: 20.18px; color: #e3e3e3">WebGL</a> <a href="/qqsnote/tags/WebService/" style="font-size: 12px; color: #ccc">WebService</a> <a href="/qqsnote/tags/Web%E5%8D%8F%E8%AE%AE/" style="font-size: 12px; color: #ccc">Web协议</a> <a href="/qqsnote/tags/Web%E5%BC%80%E5%8F%91/" style="font-size: 26.73px; color: #f6f6f6">Web开发</a> <a href="/qqsnote/tags/Wechat/" style="font-size: 12px; color: #ccc">Wechat</a> <a href="/qqsnote/tags/object-Object/" style="font-size: 12px; color: #ccc">[object Object]</a> <a href="/qqsnote/tags/aigc/" style="font-size: 12px; color: #ccc">aigc</a> <a href="/qqsnote/tags/auth/" style="font-size: 12px; color: #ccc">auth</a> <a href="/qqsnote/tags/axios/" style="font-size: 12px; color: #ccc">axios</a> <a href="/qqsnote/tags/canvas/" style="font-size: 12px; color: #ccc">canvas</a> <a href="/qqsnote/tags/css/" style="font-size: 12px; color: #ccc">css</a> <a href="/qqsnote/tags/express/" style="font-size: 12px; color: #ccc">express</a> <a href="/qqsnote/tags/ftp/" style="font-size: 12px; color: #ccc">ftp</a> <a href="/qqsnote/tags/git/" style="font-size: 13.64px; color: #d1d1d1">git</a> <a href="/qqsnote/tags/hexo/" style="font-size: 12px; color: #ccc">hexo</a> <a href="/qqsnote/tags/http/" style="font-size: 12px; color: #ccc">http</a> <a href="/qqsnote/tags/https/" style="font-size: 12px; color: #ccc">https</a> <a href="/qqsnote/tags/ionic/" style="font-size: 12px; color: #ccc">ionic</a> <a href="/qqsnote/tags/javascript/" style="font-size: 28.36px; color: #fafafa">javascript</a> <a href="/qqsnote/tags/k8s/" style="font-size: 12px; color: #ccc">k8s</a> <a href="/qqsnote/tags/login/" style="font-size: 12px; color: #ccc">login</a> <a href="/qqsnote/tags/loopback/" style="font-size: 12px; color: #ccc">loopback</a> <a href="/qqsnote/tags/npm/" style="font-size: 12px; color: #ccc">npm</a> <a href="/qqsnote/tags/nsis/" style="font-size: 13.64px; color: #d1d1d1">nsis</a> <a href="/qqsnote/tags/redis/" style="font-size: 12px; color: #ccc">redis</a> <a href="/qqsnote/tags/sqlServer/" style="font-size: 12px; color: #ccc">sqlServer</a> <a href="/qqsnote/tags/ssh/" style="font-size: 12px; color: #ccc">ssh</a> <a href="/qqsnote/tags/svg/" style="font-size: 12px; color: #ccc">svg</a> <a href="/qqsnote/tags/vtk/" style="font-size: 16.91px; color: #dadada">vtk</a> <a href="/qqsnote/tags/vuejs/" style="font-size: 16.91px; color: #dadada">vuejs</a> <a href="/qqsnote/tags/webassembly/" style="font-size: 13.64px; color: #d1d1d1">webassembly</a> <a href="/qqsnote/tags/webpack/" style="font-size: 12px; color: #ccc">webpack</a> <a href="/qqsnote/tags/websocket/" style="font-size: 12px; color: #ccc">websocket</a> <a href="/qqsnote/tags/windows/" style="font-size: 12px; color: #ccc">windows</a> <a href="/qqsnote/tags/yarn/" style="font-size: 12px; color: #ccc">yarn</a> <a href="/qqsnote/tags/%E4%B8%8A%E4%BC%A0/" style="font-size: 12px; color: #ccc">上传</a> <a href="/qqsnote/tags/%E5%8A%A0%E5%AF%86/" style="font-size: 16.91px; color: #dadada">加密</a> <a href="/qqsnote/tags/%E5%8C%BB%E5%AD%A6%E5%9B%BE%E5%83%8F/" style="font-size: 12px; color: #ccc">医学图像</a> <a href="/qqsnote/tags/%E5%8D%8F%E8%AE%AE%E5%92%8C%E8%A7%84%E8%8C%83/" style="font-size: 12px; color: #ccc">协议和规范</a> <a href="/qqsnote/tags/%E5%8D%9A%E5%BC%88%E8%AE%BA/" style="font-size: 12px; color: #ccc">博弈论</a> <a href="/qqsnote/tags/%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86/" style="font-size: 13.64px; color: #d1d1d1">图像处理</a> <a href="/qqsnote/tags/%E5%A4%9A%E8%AF%AD%E8%A8%80/" style="font-size: 13.64px; color: #d1d1d1">多语言</a> <a href="/qqsnote/tags/%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B/" style="font-size: 12px; color: #ccc">存储过程</a> <a href="/qqsnote/tags/%E6%80%A7%E8%83%BD/" style="font-size: 12px; color: #ccc">性能</a> <a href="/qqsnote/tags/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/" style="font-size: 12px; color: #ccc">性能优化</a> <a href="/qqsnote/tags/%E6%88%90%E9%95%BF%E6%80%9D%E7%BB%B4/" style="font-size: 12px; color: #ccc">成长思维</a> <a href="/qqsnote/tags/%E6%91%84%E5%BD%B1/" style="font-size: 12px; color: #ccc">摄影</a> <a href="/qqsnote/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/" style="font-size: 12px; color: #ccc">操作系统</a> <a href="/qqsnote/tags/%E6%95%B0%E5%AD%97%E7%AD%BE%E5%90%8D/" style="font-size: 12px; color: #ccc">数字签名</a> <a href="/qqsnote/tags/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/" style="font-size: 12px; color: #ccc">数据可视化</a> <a href="/qqsnote/tags/%E6%95%B0%E6%8D%AE%E5%BA%93%E9%94%81/" style="font-size: 12px; color: #ccc">数据库锁</a> <a href="/qqsnote/tags/%E6%A0%91%E8%8E%93%E6%B4%BE/" style="font-size: 12px; color: #ccc">树莓派</a> <a href="/qqsnote/tags/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/" style="font-size: 12px; color: #ccc">正则表达式</a> <a href="/qqsnote/tags/%E7%89%A9%E8%81%94%E7%BD%91/" style="font-size: 12px; color: #ccc">物联网</a> <a href="/qqsnote/tags/%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F/" style="font-size: 13.64px; color: #d1d1d1">环境变量</a> <a href="/qqsnote/tags/%E7%AE%97%E6%B3%95/" style="font-size: 15.27px; color: #d5d5d5">算法</a> <a href="/qqsnote/tags/%E7%BC%96%E7%A0%81%E8%A7%84%E8%8C%83/" style="font-size: 12px; color: #ccc">编码规范</a> <a href="/qqsnote/tags/%E8%A7%86%E9%A2%91%E6%B5%81/" style="font-size: 12px; color: #ccc">视频流</a> <a href="/qqsnote/tags/%E8%A7%A6%E5%8F%91%E5%99%A8/" style="font-size: 12px; color: #ccc">触发器</a> <a href="/qqsnote/tags/%E8%AE%A4%E8%AF%81-%E6%8E%88%E6%9D%83/" style="font-size: 21.82px; color: #e8e8e8">认证&授权</a> <a href="/qqsnote/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" style="font-size: 12px; color: #ccc">设计模式</a> <a href="/qqsnote/tags/%E8%AF%BB%E4%B9%A6/" style="font-size: 12px; color: #ccc">读书</a> <a href="/qqsnote/tags/%E8%BF%9B%E7%A8%8B%E5%AE%88%E6%8A%A4/" style="font-size: 12px; color: #ccc">进程守护</a> <a href="/qqsnote/tags/%E9%9D%A2%E8%AF%95/" style="font-size: 13.64px; color: #d1d1d1">面试</a>
      </div>
    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">QQs</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/qqsnote/lib/anime.min.js"></script>
  <script src="/qqsnote/lib/velocity/velocity.min.js"></script>
  <script src="/qqsnote/lib/velocity/velocity.ui.min.js"></script>

<script src="/qqsnote/js/utils.js"></script>

<script src="/qqsnote/js/motion.js"></script>


<script src="/qqsnote/js/schemes/muse.js"></script>


<script src="/qqsnote/js/next-boot.js"></script>




  















  

  

  

</body>
</html>
