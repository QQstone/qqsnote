<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.1">
  <link rel="apple-touch-icon" sizes="180x180" href="/qqsnote/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/qqsnote/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/qqsnote/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/qqsnote/images/logo.svg" color="#222">

<link rel="stylesheet" href="/qqsnote/css/main.css">


<link rel="stylesheet" href="/qqsnote/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"qqstone.github.io","root":"/qqsnote/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.json"};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="QQs&#39;Note">
<meta property="og:url" content="http://qqstone.github.io/qqsnote/page/22/index.html">
<meta property="og:site_name" content="QQs&#39;Note">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="QQs">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://qqstone.github.io/qqsnote/page/22/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'en'
  };
</script>

  <title>QQs'Note</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/qqsnote/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">QQs'Note</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/qqsnote/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/qqsnote/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://qqstone.github.io/qqsnote/2020/06/11/dotNetCore-DataAccess/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/qqsnote/images/avatar.gif">
      <meta itemprop="name" content="QQs">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="QQs'Note">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/qqsnote/2020/06/11/dotNetCore-DataAccess/" class="post-title-link" itemprop="url">.Net Core 数据访问</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-06-11 10:23:42" itemprop="dateCreated datePublished" datetime="2020-06-11T10:23:42+08:00">2020-06-11</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-07-05 10:07:52" itemprop="dateModified" datetime="2025-07-05T10:07:52+08:00">2025-07-05</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h4 id="关于ORM"><a href="#关于ORM" class="headerlink" title="关于ORM"></a>关于ORM</h4><p>参考阮一峰<a target="_blank" rel="noopener" href="http://www.ruanyifeng.com/blog/2019/02/orm-tutorial.html">《ORM 实例教程》</a>:<br>面向对象编程（我们的后台）把所以实体看成对象（即Object），关系型数据库则是采用实体之间的关系（即Relation）连接数据，打通后台对象和关系数据库之间的关系而做的映射（Mapping）就是ORM。或者说ORM是通过对象实例语法，完成关系型数据库操作的技术。</p>
<p>举个栗子<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT id, first_name, last_name, phone, birth_date, sex</span><br><span class="line"> FROM persons </span><br><span class="line"> WHERE id &#x3D; 10</span><br></pre></td></tr></table></figure><br>编程调用SQL的写法大致是<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">res &#x3D; db.execSql(sql);</span><br><span class="line">name &#x3D; res[0][&quot;FIRST_NAME&quot;];</span><br></pre></td></tr></table></figure><br>ORM要实现的写法是<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">p &#x3D; Person.get(10);</span><br><span class="line">name &#x3D; p.first_name;</span><br></pre></td></tr></table></figure><br>优点：</p>
<ul>
<li>数据模型都在一个地方定义，更容易更新和维护，也利于重用代码。</li>
<li>ORM 有现成的工具，很多功能都可以自动完成，比如数据消毒、预处理、事务等等。</li>
<li>它迫使你使用 MVC 架构，ORM 就是天然的 Model，最终使代码更清晰。</li>
<li>基于 ORM 的业务代码比较简单，代码量少，语义性好，容易理解。</li>
<li><del>你不必编写性能不佳的 SQL。</del></li>
</ul>
<p>缺点</p>
<ul>
<li>ORM 库不是轻量级工具，往往需要花很多精力学习和设置。</li>
<li>对于复杂的查询，ORM 要么是无法表达，要么是性能不如原生的 SQL。</li>
<li><del>ORM 抽象掉了数据库层，开发者无法了解底层的数据库操作，也无法定制一些特殊的 SQL。</del></li>
</ul>
<p>(删除线部分QQs不是特别赞同)</p>
<p>同属ORM技术的比如 Hibernate, MyBatis<sup><a target="_blank" rel="noopener" href="https://www.zhihu.com/question/39454008">注</a></sup></p>
<h4 id="关于ODBC"><a href="#关于ODBC" class="headerlink" title="关于ODBC"></a>关于ODBC</h4><p>开放式数据库连接(Open Database Connection),连接数据库进行查询的规范(specification)</p>
<h4 id="entity-framwork-dbcontext-datarepository"><a href="#entity-framwork-dbcontext-datarepository" class="headerlink" title="entity framwork,dbcontext, datarepository"></a>entity framwork,dbcontext, datarepository</h4><p>Include, ThenInclude:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">result &#x3D; await _context.employees.Where(employee &#x3D;&gt; employee.level &#x3D;&#x3D; highlvl)</span><br><span class="line">    .Include(employee &#x3D;&gt; employee.department)</span><br><span class="line">    .ThenInclude(department &#x3D;&gt; department.bills).ToListAsync();</span><br></pre></td></tr></table></figure><br>多对多关系会造成循环引用(circular reference)，默认情况下序列化类会报异常，参考<a target="_blank" rel="noopener" href="https://github.com/dotnet/runtime/issues/30820">Add mechanism to handle circular references when serializing
</a></p>
<h4 id="Dapper-net"><a href="#Dapper-net" class="headerlink" title="Dapper.net"></a>Dapper.net</h4>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://qqstone.github.io/qqsnote/2020/06/09/vsftp/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/qqsnote/images/avatar.gif">
      <meta itemprop="name" content="QQs">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="QQs'Note">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/qqsnote/2020/06/09/vsftp/" class="post-title-link" itemprop="url">vsftp</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-06-09 14:19:52" itemprop="dateCreated datePublished" datetime="2020-06-09T14:19:52+08:00">2020-06-09</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-07-05 10:07:52" itemprop="dateModified" datetime="2025-07-05T10:07:52+08:00">2025-07-05</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>据说vsftp是very safe FTP, vsftp服务以ssl保护数据传输，使用22端口而不是21端口。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install vsftpd</span><br></pre></td></tr></table></figure><br>参数配置：/etc/vsftpd.conf,用cp命令备份下先<br>参数定义—&gt;<a target="_blank" rel="noopener" href="https://security.appspot.com/vsftpd/vsftpd_conf.html">here</a></p>
<p>修改配置后重启<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">service vsftpd restart</span><br></pre></td></tr></table></figure><br><a target="_blank" rel="noopener" href="https://filezilla-project.org/">FileZilla</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://qqstone.github.io/qqsnote/2020/06/05/fastDFS/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/qqsnote/images/avatar.gif">
      <meta itemprop="name" content="QQs">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="QQs'Note">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/qqsnote/2020/06/05/fastDFS/" class="post-title-link" itemprop="url">FastDFS</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-06-05 16:36:14" itemprop="dateCreated datePublished" datetime="2020-06-05T16:36:14+08:00">2020-06-05</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-07-05 10:07:52" itemprop="dateModified" datetime="2025-07-05T10:07:52+08:00">2025-07-05</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <blockquote>
<p>FastDFS是国人大神开发的用于小文件（&lt;500Mb）存储的分布式文件管理系统</p>
</blockquote>
<p><a target="_blank" rel="noopener" href="https://github.com/happyfish100/fastdfs">Github: happyfish100/fastdfs</a></p>
<p>戳—&gt;<a target="_blank" rel="noopener" href="https://github.com/happyfish100/fastdfs/wiki">详细配置步骤</a>，超级详细，傻瓜式，环境是Centos。对于ubuntu，安装编译环境的方式会有不同</p>
<h4 id="centos编译环境"><a href="#centos编译环境" class="headerlink" title="centos编译环境"></a>centos编译环境</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">yum install git gcc gcc-c++ make automake autoconf libtool pcre pcre-devel zlib zlib-devel openssl-devel wget vi -y</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="ubuntu编译环境"><a href="#ubuntu编译环境" class="headerlink" title="ubuntu编译环境"></a>ubuntu编译环境</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt install git gcc g++ make automake autoconf libtool libpcre3 libpcre3-dev zlib1g zlib1g-dev  libssl-dev wget vi</span><br></pre></td></tr></table></figure>
<h4 id="tracker和storage"><a href="#tracker和storage" class="headerlink" title="tracker和storage"></a>tracker和storage</h4><p><img src="https://i0.wp.com/tvax4.sinaimg.cn/large/a60edd42gy1gfip5ah0saj20f70dln0y.jpg" alt="fdfs"><br>如配置步骤所述，fdfs安装好后有tracker配置文件和storage配置文件，前者配置tracker用于上传下载的调度，后者配置storage作为文件存储。<br><br>tracher监听storage的状态同步消息，使当client上传或下载时，提供可用的storage路径<br><br>storage可以配置为group，相同group的文件会相互拷贝（这个是需要一定时间的，在集群方案中需要考虑）<br></p>
<p>上传文件<br><br><img src="https://tva1.sinaimg.cn/large/a60edd42gy1gfirk6itslj20td0ey75n.jpg" alt="上传"><br>为使业务应用服务器实现上传fDFS，应实现client功能，即</p>
<ul>
<li>请求tracker 获取可用storage的 ip port等</li>
<li>调用相应的storage接口上传文件，接受返回的file_id信息</li>
</ul>
<p>下载文件<br></p>
<p><img src="https://i0.wp.com/tvax1.sinaimg.cn/large/a60edd42gy1gfirmkezk3j20mw0akjug.jpg" alt="下载"><br>如图，client实现下载，需</p>
<ul>
<li>请求tracker 获拉取下载的storage的 ip port等</li>
<li>调用相应的storage接口下载文件</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://qqstone.github.io/qqsnote/2020/06/03/NSIS/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/qqsnote/images/avatar.gif">
      <meta itemprop="name" content="QQs">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="QQs'Note">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/qqsnote/2020/06/03/NSIS/" class="post-title-link" itemprop="url">NSIS 基础</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-06-03 10:49:20" itemprop="dateCreated datePublished" datetime="2020-06-03T10:49:20+08:00">2020-06-03</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-07-05 10:07:52" itemprop="dateModified" datetime="2025-07-05T10:07:52+08:00">2025-07-05</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h4 id="变量和常量"><a href="#变量和常量" class="headerlink" title="变量和常量"></a>变量和常量</h4><p>a. 用var关键字来定义变量，使用$来引用变量。</p>
<p>b. 寄存器变量 $0~$9,$R0~$R9</p>
<p>c. 系统预置变量</p>
<ul>
<li>$INSTDIR<br>用户定义的解压路径。</li>
<li>$PROGRAMFILES<br>程序文件目录(通常为 C:\Program Files 但是运行时会检测)。</li>
<li>$COMMONFILES<br>公用文件目录。这是应用程序共享组件的目录(通常为 C:\Program Files\Common Files 但是运行时会检测)。</li>
<li>$DESKTOP<br>Windows 桌面目录(通常为 C:\windows\desktop 但是运行时会检测)。该常量的内容(所有用户或当前用户)取决于 SetShellVarContext 设置。默认为当前用户。</li>
<li>$EXEDIR<br>安装程序运行时的位置。(从技术上来说你可以修改改变量，但并不是一个好方法)。</li>
<li>${NSISDIR}<br>包含 NSIS 安装目录的一个标记。在编译时会检测到。常用于在你想调用一个在 NSIS 目录下的资源时，例如：图标、界面……</li>
<li>$WINDIR<br>Windows 目录(通常为 C:\windows 或 C:\winnt 但在运行时会检测)</li>
<li>$SYSDIR<br>Windows 系统目录(通常为 C:\windows\system 或 C:\winnt\system32 但在运行时会检测)</li>
<li>$TEMP<br>系统临时目录(通常为 C:\windows\temp 但在运行时会检测)</li>
<li>$STARTMENU<br>开始菜单目录(常用于添加一个开始菜单项，使用 CreateShortCut)。该常量的内容(所有用户或当前用户)取决于 SetShellVarContext 设置。默认为当前用户。</li>
<li>$SMPROGRAMS<br>开始菜单程序目录(当你想定位 + $STARTMENU\程序 时可以使用它)。该常量的内容(所有用户或当前用户)取决于 SetShellVarContext 设置。默认为当前用户。</li>
<li>$SMSTARTUP<br>开始菜单程序/启动 目录。该常量的内容(所有用户或当前用户)取决于 SetShellVarContext 设置。默认为当前用户。</li>
<li>$QUICKLAUNCH<br>在 IE4 活动桌面及以上的快速启动目录。如果快速启动不可用，仅仅返回和 + $TEMP 一样。</li>
<li>$DOCUMENTS<br>文档目录。一个当前用户典型的路径形如 C:\Documents and Settings\Foo\My Documents。这个常量的内容(所有用户或当前用户)取决于 SetShellVarContext 设置。默认为当前用户。<br>该常量在 Windows 95 且 Internet Explorer 4 没有安装时无效。</li>
<li>$SENDTO<br>该目录包含了“发送到”菜单快捷项。</li>
<li>$RECENT<br>该目录包含了指向用户最近文档的快捷方式。</li>
<li>$FAVORITES<br>该目录包含了指向用户网络收藏夹、文档等的快捷方式。这个常量的内容(所有用户或当前用户)取决于 SetShellVarContext 设置。默认为当前用户。<br>该常量在 Windows 95 且 Internet Explorer 4 没有安装时无效。</li>
<li>$MUSIC<br>用户的音乐文件目录。这个常量的内容(所有用户或当前用户)取决于 SetShellVarContext 设置。默认为当前用户。<br>该常量仅在 Windows XP、ME 及以上才有效。</li>
<li>$PICTURES<br>用户的图片目录。这个常量的内容(所有用户或当前用户)取决于 SetShellVarContext 设置。默认为当前用户。<br>该常量仅在 Windows 2000、XP、ME 及以上才有效。</li>
<li>$VIDEOS<br>用户的视频文件目录。这个常量的内容(所有用户或当前用户)取决于 SetShellVarContext 设置。默认为当前用户。<br>该常量仅在 Windows XP、ME 及以上才有效。</li>
<li>$NETHOOD<br>该目录包含了可能存在于我的网络位置、网上邻居文件夹的链接对象。<br>该常量在 Windows 95 且 Internet Explorer 4 和活动桌面没有安装时无效。</li>
<li>$FONTS<br>系统字体目录。</li>
<li>$TEMPLATES<br>文档模板目录。这个常量的内容(所有用户或当前用户)取决于 SetShellVarContext 设置。默认为当前用户。</li>
<li>$APPDATA<br>应用程序数据目录。当前用户路径的检测需要 Internet Explorer 4 及以上。所有用户路径的检测需要 Internet Explorer 5 及以上。这个常量的内容(所有用户或当前用户)取决于 SetShellVarContext 设置。默认为当前用户。<br>该常量在 Windows 95 且 Internet Explorer 4 和活动桌面没有安装时无效。</li>
<li>$PRINTHOOD<br>该目录包含了可能存在于打印机文件夹的链接对象。<br>该常量在 Windows 95 和 Windows 98 上无效。</li>
<li>$INTERNET_CACHE<br>Internet Explorer 的临时文件目录。<br>该常量在 Windows 95 和 Windows NT 且 Internet Explorer 4 和活动桌面没有安装时无效。</li>
<li>$COOKIES<br>Internet Explorer 的 Cookies 目录。<br>该常量在 Windows 95 和 Windows NT 且 Internet Explorer 4 和活动桌面没有安装时无效。</li>
<li>$HISTORY<br>Internet Explorer 的历史记录目录。<br>该常量在 Windows 95 和 Windows NT 且 Internet Explorer 4 和活动桌面没有安装时无效。</li>
<li>$PROFILE<br>用户的个人配置目录。一个典型的路径如 C:\Documents and Settings\Foo。<br>该常量在 Windows 2000 及以上有效。</li>
<li>$ADMINTOOLS<br>一个保存管理工具的目录。这个常量的内容(所有用户或当前用户)取决于 SetShellVarContext 设置。默认为当前用户。<br>该常量在 Windows 2000、ME 及以上有效。</li>
<li>$RESOURCES<br>该资源目录保存了主题和其他 Windows 资源(通常为 C:\Windows\Resources 但在运行时会检测)。<br>该常量在 Windows XP 及以上有效。</li>
<li>$RESOURCES_LOCALIZED<br>该本地的资源目录保存了主题和其他 Windows 资源(通常为 C:\Windows\Resources\1033 但在运行时会检测)。<br>该常量在 Windows XP 及以上有效。</li>
<li>$CDBURN_AREA<br>一个在烧录 CD 时储存文件的目录。.<br>该常量在 Windows XP 及以上有效。</li>
<li>$HWNDPARENT<br>父窗口的十进制 HWND。</li>
<li>$PLUGINSDIR<br>该路径是一个临时目录，当第一次使用一个插件或一个调用 InitPluginsDir 时被创建。该文件夹当解压包退出时会被自动删除。这个文件夹的用意是用来保存给 InstallOptions 使用的 INI 文件、启动画面位图或其他插件运行需要的文件。</li>
</ul>
<h4 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h4><p>NSIS函数本身没有输出输出，但是可以访问变量和堆栈<br><br>使用Pop Push实现输入输出<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">Function LCIDtoTAG </span><br><span class="line">    $&#123;case&#125; &quot;1036&quot;</span><br><span class="line">    Push &quot;fr_FR&quot;</span><br><span class="line">    $&#123;break&#125;</span><br><span class="line">    $&#123;case&#125; &quot;1049&quot;</span><br><span class="line">    Push &quot;ru_RU&quot;</span><br><span class="line">    $&#123;break&#125;</span><br><span class="line">    $&#123;case&#125; &quot;1041&quot;</span><br><span class="line">    Push &quot;ja_JP&quot;</span><br><span class="line">    $&#123;break&#125;</span><br><span class="line">    $&#123;case&#125; &quot;2052&quot;</span><br><span class="line">    Push &quot;zh_CN&quot;</span><br><span class="line">    $&#123;break&#125;</span><br><span class="line">    $&#123;default&#125;</span><br><span class="line">    Push &quot;en_US&quot;</span><br><span class="line">    $&#123;break&#125;</span><br><span class="line">    $&#123;endswitch&#125;</span><br><span class="line">FunctionEnd</span><br><span class="line">Section</span><br><span class="line">    Call LCIDtoTAG</span><br><span class="line">    Pop $0</span><br><span class="line">SectionEnd</span><br></pre></td></tr></table></figure></p>
<h4 id="跳转"><a href="#跳转" class="headerlink" title="跳转"></a>跳转</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">StrCmp $1 &quot;&quot; +1 +2</span><br><span class="line">DetailPrint &quot;parameter is empty&quot;</span><br><span class="line"></span><br><span class="line">DetailPrint &quot;parameter is not empty&quot;</span><br></pre></td></tr></table></figure>
<p>+n是从该语句向下偏移的“指针”，空行过滤掉不计入偏移量</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://qqstone.github.io/qqsnote/2020/06/01/NSIS-plugin/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/qqsnote/images/avatar.gif">
      <meta itemprop="name" content="QQs">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="QQs'Note">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/qqsnote/2020/06/01/NSIS-plugin/" class="post-title-link" itemprop="url">NSIS插件</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-06-01 12:52:11" itemprop="dateCreated datePublished" datetime="2020-06-01T12:52:11+08:00">2020-06-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-07-05 10:07:52" itemprop="dateModified" datetime="2025-07-05T10:07:52+08:00">2025-07-05</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>—&gt; NSIS收录插件 <a target="_blank" rel="noopener" href="https://nsis.sourceforge.io/Category:Plugins">https://nsis.sourceforge.io/Category:Plugins</a></p>
<p>—&gt; 插件本体是托管dll文件，区分unicode编码和ansi编码</p>
<p>—&gt; NSIS默认检索在NSIS代码目录下的Plugins文件夹，作为插件路径，或可使用标识符!addplugindir 指定其他目录</p>
<p>一个栗子<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">!ifndef TARGETDIR</span><br><span class="line">!ifdef NSIS_UNICODE</span><br><span class="line">!define TARGETDIR &quot;..\binU&quot;</span><br><span class="line">!else</span><br><span class="line">!define TARGETDIR &quot;..\bin&quot;</span><br><span class="line">!endif</span><br><span class="line">!endif</span><br><span class="line"></span><br><span class="line">!addplugindir &quot;$&#123;TARGETDIR&#125;&quot;</span><br></pre></td></tr></table></figure><br>曾将!ifdef误解为if not define，NSIS用！xxx做关键字真的是坑。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://qqstone.github.io/qqsnote/2020/05/21/Ngx-translate/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/qqsnote/images/avatar.gif">
      <meta itemprop="name" content="QQs">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="QQs'Note">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/qqsnote/2020/05/21/Ngx-translate/" class="post-title-link" itemprop="url">Ngx-translate</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-05-21 16:18:45" itemprop="dateCreated datePublished" datetime="2020-05-21T16:18:45+08:00">2020-05-21</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-07-05 10:07:52" itemprop="dateModified" datetime="2025-07-05T10:07:52+08:00">2025-07-05</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/qqsnote/categories/%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF/" itemprop="url" rel="index"><span itemprop="name">前端技术</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <blockquote>
<p><a target="_blank" rel="noopener" href="https://github.com/ngx-translate/core">NGX-Translate</a> is an internationalization library for Angular. NGX-Translate is also extremely modular. It is written in a way that makes it really easy to replace any part with a custom implementation in case the existing one doesn’t fit your needs.</p>
<p><a target="_blank" rel="noopener" href="https://github.com/ngx-translate/core/issues/495#issuecomment-291158036">Why ngx-translate exists if we already have built-in Angular i18n</a></p>
</blockquote>
<h4 id="关于载入翻译文件"><a href="#关于载入翻译文件" class="headerlink" title="关于载入翻译文件"></a>关于载入翻译文件</h4><ul>
<li><a target="_blank" rel="noopener" href="https://github.com/ngx-translate/http-loader">Http Loader</a>: load json translation files with http</li>
<li><a target="_blank" rel="noopener" href="https://gist.github.com/ocombe/593d21598d988bf6a8609ba5fc00b67e">Angular Universal Loader</a>: load json translation files with fs instead of http</li>
<li><a target="_blank" rel="noopener" href="https://github.com/biesbjerg/ng2-translate-po-loader">Po Loader</a>: load .po files with http</li>
</ul>
<h4 id="集成步骤"><a href="#集成步骤" class="headerlink" title="集成步骤"></a>集成步骤</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install @ngx-translate&#x2F;core @ngx-translate&#x2F;http-loader --save</span><br></pre></td></tr></table></figure>
<p>在模块中引入<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">import &#123;TranslateModule&#125; from &#39;@ngx-translate&#x2F;core&#39;;</span><br><span class="line"></span><br><span class="line">export function createTranslateLoader(http: HttpClient) &#123;</span><br><span class="line">  return new TranslateHttpLoader(http, &#39;.&#x2F;assets&#x2F;i18n&#x2F;&#39;, &#39;.json&#39;);</span><br><span class="line">&#125;</span><br><span class="line">@NgModule(&#123;</span><br><span class="line">    imports: [</span><br><span class="line">        BrowserModule,</span><br><span class="line">        HttpClientModule,</span><br><span class="line">        TranslateModule.forRoot(&#123;</span><br><span class="line">            loader: &#123;</span><br><span class="line">            provide: TranslateLoader,</span><br><span class="line">            useFactory: createTranslateLoader,</span><br><span class="line">            deps: [HttpClient]</span><br><span class="line">      &#125;,</span><br><span class="line">      defaultLanguage: &#39;en&#39;</span><br><span class="line">        &#125;)</span><br><span class="line">    ],</span><br><span class="line">    bootstrap: [AppComponent]</span><br><span class="line">&#125;)</span><br><span class="line">export class AppModule &#123; &#125;</span><br></pre></td></tr></table></figure><br>组件注入及初始化<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">export class AppComponent &#123;</span><br><span class="line">    constructor(translate: TranslateService) &#123;</span><br><span class="line">        &#x2F;&#x2F; this language will be used as a fallback when a translation isn&#39;t found in the current language</span><br><span class="line">        translate.setDefaultLang(&#39;en&#39;);</span><br><span class="line">         &#x2F;&#x2F; the lang to use, if the lang isn&#39;t available, it will use the current loader to get them</span><br><span class="line">        translate.use(&#39;en&#39;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>在模板中使用管道标记待翻译标记<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;p&gt;&#123;&#123;&quot;sayHi&quot; | translate&#125;&#125;&lt;&#x2F;p&gt;</span><br><span class="line"></span><br><span class="line">&lt;p&gt;&#123;&#123;&#39;sayHiWithParameter&#39; | translate:userObj&#125;&#125;&lt;&#x2F;p&gt;</span><br><span class="line"></span><br><span class="line">&lt;p&gt;&#123;&#123; &#39;ROLES.&#39; + role | uppercase | translate &#125;&#125;&lt;&#x2F;p&gt;</span><br></pre></td></tr></table></figure><br>翻译文件，对于HTTP Loader是以Locale_ID命名的Json<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">src</span><br><span class="line">├───assets</span><br><span class="line">│   ├───i18n</span><br><span class="line">│   │       en.json</span><br><span class="line">│   │       fr.json</span><br><span class="line">│   │       zh.json</span><br></pre></td></tr></table></figure><br>翻译格式<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;introductionHeader&quot;:&quot;你好&quot;,</span><br><span class="line">    &quot;ROLE&quot;:&#123;</span><br><span class="line">        &quot;ADMIN&quot;: &quot;管理员&quot;，</span><br><span class="line">        &quot;USER&quot;: &quot;用户&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;sayHiWithParameter&quot;:&quot;你好，&#123;&#123;pride&#125;&#125;的&#123;&#123;lastname&#125;&#125;&#125;先生&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>在ts代码中引用翻译<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">translate.get(&#39;HELLO&#39;, &#123;value: &#39;world&#39;&#125;).subscribe((res: string) &#x3D;&gt; &#123;</span><br><span class="line">    console.log(res);</span><br><span class="line">    &#x2F;&#x2F;&#x3D;&gt; &#39;hello world&#39;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><br>使用 PO Loader<br><br>官方提供给的 @biesbjerg/ngx-translate-po-http-loader，很遗憾，并不好使，或许是因为新版本的gettext-parser将msgctxt（信息上下文）作为一级父节点，而ngx-translate-po-http-loader一直没有更新使支持msgctxt<br><br>部分zh_CN.po文件:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">msgid &quot;&quot;</span><br><span class="line">msgstr &quot;&quot;</span><br><span class="line">&quot;MIME-Version: 1.0\n&quot;</span><br><span class="line">&quot;Content-Type: text&#x2F;plain; charset&#x3D;UTF-8\n&quot;</span><br><span class="line">&quot;Content-Transfer-Encoding: 8bit\n&quot;</span><br><span class="line">&quot;Plural-Forms: nplurals&#x3D;1; plural&#x3D;0;\n&quot;</span><br><span class="line">&quot;X-Language: zh_CN\n&quot;</span><br><span class="line">&quot;X-Qt-Contexts: true\n&quot;</span><br><span class="line"></span><br><span class="line">#: ..&#x2F;scanflow&#x2F;res&#x2F;qml&#x2F;Dialog&#x2F;AboutDialog.qml:25</span><br><span class="line">msgctxt &quot;AboutDialog|&quot;</span><br><span class="line">msgid &quot;About&quot;</span><br><span class="line">msgstr &quot;关于&quot;</span><br><span class="line"></span><br><span class="line">#: ..&#x2F;scanflow&#x2F;res&#x2F;qml&#x2F;Dialog&#x2F;AboutDialog.qml:52</span><br><span class="line">msgctxt &quot;AboutDialog|&quot;</span><br><span class="line">msgid &quot;Product Version&quot;</span><br><span class="line">msgstr &quot;产品版本&quot;</span><br></pre></td></tr></table></figure><br>通过上文“翻译格式”可知，ngx-translate允许多级属性mapping，如<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;h1&gt;&#123;&#123; &quot;AboutDialog|.About&quot; |translate&#125;&#125;&lt;&#x2F;h1&gt;</span><br></pre></td></tr></table></figure><br>另外，gettext-parser会将分段的msgid和msgstr进行合并，即<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">msgctxt &quot;ErrorMessage|&quot;</span><br><span class="line">msgid &quot;&quot;</span><br><span class="line">&quot;Application preferences have been damaged. Reinstall the application to &quot;</span><br><span class="line">&quot;solve the problem.&quot;</span><br><span class="line">msgstr &quot;&quot;</span><br><span class="line">&quot;Předvolby aplikace byly poškozeny. Problém vyřešíte opětovnou instalací &quot;</span><br><span class="line">&quot;aplikace.&quot;</span><br><span class="line">&#x3D;&#x3D;&#x3D;&#x3D;&gt;</span><br><span class="line">&#123;</span><br><span class="line">    ...</span><br><span class="line">    &quot;ErrorMessage|&quot;:&#123;</span><br><span class="line">        msgctxt:&quot;ErrorMessage|&quot;,</span><br><span class="line">        msgid:&quot;Application preferences have been damaged. Reinstall the application to solve the problem.&quot;,</span><br><span class="line">        msgstr:[&quot;Předvolby aplikace byly poškozeny. Problém vyřešíte opětovnou instalací aplikace.&quot;]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>原理见@ngx-translate/core/fesm2015/ngx-translate-core.js<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">getValue(target, key) &#123;</span><br><span class="line">    &#x2F;** @type &#123;?&#125; *&#x2F;</span><br><span class="line">    let keys &#x3D; typeof key &#x3D;&#x3D;&#x3D; &#39;string&#39; ? key.split(&#39;.&#39;) : [key];</span><br><span class="line">    key &#x3D; &#39;&#39;;</span><br><span class="line">    do &#123;</span><br><span class="line">        key +&#x3D; keys.shift();</span><br><span class="line">        if (isDefined(target) &amp;&amp; isDefined(target[key]) &amp;&amp; (typeof target[key] &#x3D;&#x3D;&#x3D; &#39;object&#39; || !keys.length)) &#123;</span><br><span class="line">            target &#x3D; target[key];</span><br><span class="line">            key &#x3D; &#39;&#39;;</span><br><span class="line">        &#125;</span><br><span class="line">        else if (!keys.length) &#123;</span><br><span class="line">            target &#x3D; undefined;</span><br><span class="line">        &#125;</span><br><span class="line">        else &#123;</span><br><span class="line">            key +&#x3D; &#39;.&#39;;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; while (keys.length);</span><br><span class="line">    return target;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>结合ngx-translate解析翻译时的逻辑，在实现PO Loader的getTranslation方法（关于自定义loader的继承和实现，ngx-translate有指引 -&gt; <a target="_blank" rel="noopener" href="https://github.com/ngx-translate/core#write--use-your-own-loader">link</a>）时，应将msgctxt，msgid转为父子属性形式<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">public getTranslation(lang: string): Observable&lt;any&gt; &#123;</span><br><span class="line">    return this._http</span><br><span class="line">        .get(&#96;$&#123;this._prefix&#125;&#x2F;$&#123;lang&#125;$&#123;this._suffix&#125;&#96;, &#123; responseType: &#39;text&#39; &#125;)</span><br><span class="line">        .pipe(</span><br><span class="line">            map((contents: string) &#x3D;&gt; this.parse(contents)));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;**</span><br><span class="line">* Parse po file</span><br><span class="line">* @param contents</span><br><span class="line">* @returns &#123;any&#125;</span><br><span class="line">*&#x2F;</span><br><span class="line">public parse(contents: string): any &#123;</span><br><span class="line">    let translations: &#123; [key: string]: object | string &#125; &#x3D; &#123;&#125;;</span><br><span class="line"></span><br><span class="line">    const po &#x3D; gettext.po.parse(contents, &#39;utf-8&#39;);</span><br><span class="line">    if (!po.translations.hasOwnProperty(this.domain)) &#123;</span><br><span class="line">        return translations;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    Object.keys(po.translations)</span><br><span class="line">        .forEach(domain &#x3D;&gt; &#123;</span><br><span class="line">            if (domain.length &#x3D;&#x3D;&#x3D; 0) &#123; return; &#125;</span><br><span class="line">            if (po.translations[domain].msgstr) &#123; &#x2F;&#x2F; there is no msgctxt</span><br><span class="line">                translations[domain] &#x3D; po.translations[domain].msgstr;</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">                &#x2F;&#x2F; context</span><br><span class="line">                translations[domain] &#x3D; &#123;&#125;;</span><br><span class="line">                Object.keys(po.translations[domain]).forEach(key &#x3D;&gt; &#123;</span><br><span class="line">                    let translation: string | Array&lt;string&gt; &#x3D; po.translations[domain][key].msgstr.pop();</span><br><span class="line">                    if (translation instanceof Array &amp;&amp; translation.length &gt; 0) &#123;</span><br><span class="line">                        translation &#x3D; translation[0];</span><br><span class="line">                    &#125;</span><br><span class="line">                    if (key.length &gt; 0 &amp;&amp; translation.length &gt; 0) &#123;</span><br><span class="line">                        translations[domain][key] &#x3D; translation;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    return translations;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>引入自己的 loader module<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">import &#123; TranslatePoHttpLoader &#125; from &#39;.&#x2F;edited-po-loader&#39;;</span><br><span class="line">export function createTranslateLoader(http: HttpClient) &#123;</span><br><span class="line">	return new TranslatePoHttpLoader(http, &#39;assets&#x2F;i18n&#39;, &#39;.po&#39;);</span><br></pre></td></tr></table></figure><br>缺失的翻译 handle missing translations<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">import &#123;MissingTranslationHandler, MissingTranslationHandlerParams&#125; from &#39;@ngx-translate&#x2F;core&#39;;</span><br><span class="line"></span><br><span class="line">export class MyMissingTranslationHandler implements MissingTranslationHandler &#123;</span><br><span class="line">    handle(params: MissingTranslationHandlerParams) &#123;</span><br><span class="line">        return &#39;some value&#39;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">@NgModule(&#123;</span><br><span class="line">    imports: [</span><br><span class="line">        BrowserModule,</span><br><span class="line">        TranslateModule.forRoot(&#123;</span><br><span class="line">            missingTranslationHandler: &#123;provide: MissingTranslationHandler, useClass: MyMissingTranslationHandler&#125;,</span><br><span class="line">            useDefaultLang: false</span><br><span class="line">        &#125;)</span><br><span class="line">    ],</span><br><span class="line">    providers: [</span><br><span class="line"></span><br><span class="line">    ],</span><br><span class="line">    bootstrap: [AppComponent]</span><br><span class="line">&#125;)</span><br><span class="line">export class AppModule &#123; &#125;</span><br></pre></td></tr></table></figure></p>
<h4 id="plural-and-select"><a href="#plural-and-select" class="headerlink" title="plural and select"></a>plural and select</h4><p>这个库没有相应的api与i18n的 plural / select 模式相对应，对于这些场景需要使用ngIf或ngSwitch指令实现</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://qqstone.github.io/qqsnote/2020/05/21/AngularAOTandJIT/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/qqsnote/images/avatar.gif">
      <meta itemprop="name" content="QQs">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="QQs'Note">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/qqsnote/2020/05/21/AngularAOTandJIT/" class="post-title-link" itemprop="url">AngularAOTandJIT</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-05-21 10:29:17" itemprop="dateCreated datePublished" datetime="2020-05-21T10:29:17+08:00">2020-05-21</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-07-05 10:07:52" itemprop="dateModified" datetime="2025-07-05T10:07:52+08:00">2025-07-05</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/qqsnote/categories/%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF/" itemprop="url" rel="index"><span itemprop="name">前端技术</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <blockquote>
<p><del>ng build, ng serve是JIT， ng build —aot, ng build —prod, ng serve —aot是AOT</del> 从Angular 9开始，默认情况下，对于提前编译器，编译选项设置为true。</p>
</blockquote>
<p>JIT(Just in Time)由浏览器将源码编译成js执行，QQs:浏览器居然可以编译代码！<br>AOT(Ahead of Time)先编译成可执行的js，再交给浏览器 </p>
<blockquote>
<p>The Angular ahead-of-time (AOT) compiler converts Angular HTML and TypeScript code into efficient JavaScript code during the build phase, before the browser downloads and runs that code. This is the best compilation mode for production environments, with decreased load time and increased performance compared to just-in-time (JIT) compilation.AOT 编译器在浏览器下载并运行之前，将Angular HTML、 ts代码转为es5代码，是生产环境的最佳实践，相比JIT更能缩短加载时间并提高性能<br><del>（aot会根据angular.json 的配置生成到/dist之类的目录）</del> 在angular.json中配置build命令的选项，包括生成目录等</p>
</blockquote>
<p><a target="_blank" rel="noopener" href="https://www.geeksforgeeks.org/what-is-aot-and-jit-compiler-in-angular/">what is aot and jit compiler in angular</a></p>
<p><a target="_blank" rel="noopener" href="https://limeii.github.io/2019/08/angular-compiler/">Li Mei’s Blog: Angular深入理解编译机制</a><br>采取两种编译方式，注意修改angular.json architect.build.option.aot改为false，比较不使用—aot和使用时生成js的内容(见main.js, vendor.js是包含compiler等工具链的源码)，可见生成的js包含angular模板语法，只是ts编译成了es5</p>
<p>另，使用source-map-explorer工具分析编译生成的js文件<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npx source-map-explorer dist&#x2F;main.js --no-border-checks</span><br></pre></td></tr></table></figure><br><a target="_blank" rel="noopener" href="https://angular.cn/guide/aot-compiler#how-aot-works">Angular Doc: AOT工作原理</a><br><a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=RXYjPYkFwy4&amp;t=74s">YouTube: ng-conf</a><br><a target="_blank" rel="noopener" href="https://segmentfault.com/a/1190000011562077">Angular编译机制（AOT、JIT）</a><br>AOT和ngc<br>ngc是专用于Angular项目的tsc替代者。它内部封装了tsc，还额外增加了用于Angular的选项、输出额外的文件。配置见于tsconfig.json, tsc读取tsconfig配置文件的compilerOptions部分，ngc读取angularCompilerOptions部分。</p>
<p>to be continue</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://qqstone.github.io/qqsnote/2020/05/19/DAC/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/qqsnote/images/avatar.gif">
      <meta itemprop="name" content="QQs">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="QQs'Note">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/qqsnote/2020/05/19/DAC/" class="post-title-link" itemprop="url">DAC</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-05-19 14:09:02" itemprop="dateCreated datePublished" datetime="2020-05-19T14:09:02+08:00">2020-05-19</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-07-05 10:07:52" itemprop="dateModified" datetime="2025-07-05T10:07:52+08:00">2025-07-05</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/qqsnote/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/" itemprop="url" rel="index"><span itemprop="name">数据库</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <blockquote>
<p>数据层应用程序 (DAC) 是一个逻辑数据库管理实体，用于定义与用户数据库关联的所有 SQL Server 对象，如表、视图和实例对象（包括登录名）。 DAC 是 SQL Server 数据库部署的一个自包含单元，它使数据层开发人员和数据库管理员能够将 SQL Server 对象打包到一个名为“DAC 包”（也称作 DACPAC）的可移植项目中。</p>
</blockquote>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://qqstone.github.io/qqsnote/2020/05/19/TransactSQL/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/qqsnote/images/avatar.gif">
      <meta itemprop="name" content="QQs">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="QQs'Note">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/qqsnote/2020/05/19/TransactSQL/" class="post-title-link" itemprop="url">TransactSQL</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-05-19 12:39:34" itemprop="dateCreated datePublished" datetime="2020-05-19T12:39:34+08:00">2020-05-19</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-07-05 10:07:52" itemprop="dateModified" datetime="2025-07-05T10:07:52+08:00">2025-07-05</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/qqsnote/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/" itemprop="url" rel="index"><span itemprop="name">数据库</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <blockquote>
<p>Transact-SQL（又称T-SQL），是在Microsoft SQL Server和Sybase SQL Server上的ANSI SQL实现，与Oracle的PL/SQL性质相近（不只是实现ANSI SQL，也为自身数据库系统的特性提供实现支持），当前在Microsoft SQL Server和Sybase Adaptive Server中仍然被使用为核心的查询语言。</p>
</blockquote>
<p>下文涉及的函数/方法限T-SQL使用，在MySQL和Oracle中未必兼容</p>
<h4 id="存储过程的查询条件"><a href="#存储过程的查询条件" class="headerlink" title="存储过程的查询条件"></a>存储过程的查询条件</h4><p>待改进的一种条件拼接：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM LocalExport where </span><br><span class="line">SSO&#x3D;IIF(@SSO is null, SSO, @SSO)</span><br><span class="line">and SN&#x3D;IIF(@SN is null, SN, @SN)</span><br></pre></td></tr></table></figure><br>T-SQL方法 <br> IIF(expression, return value when ture, return value when false)<br><br>待改进是因为存在下述bug：当缺省SN过滤条件（即@SN为null）时，记录中SN列的值为空的行不会查出，即null=null为false<br><br>可以这么表达<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT * from LocalExport where </span><br><span class="line">(ISNULL(@SSO, &#39;&#39;)&#x3D;&#39;&#39; OR SSO&#x3D;@SSO)</span><br><span class="line">and (ISNULL(@SN, &#39;&#39;)&#x3D;&#39;&#39; OR SN&#x3D;@SN)</span><br></pre></td></tr></table></figure><br>动态SQL语句<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">SET @SQL&#x3D;&#39;select * from LocalExport where 1&#x3D;1&#39;;</span><br><span class="line">IF  @SSO is not null</span><br><span class="line">BEGIN</span><br><span class="line">    SET @SQL&#x3D;@SQL+&#39; AND SSO&#x3D;@SSO&#39;</span><br><span class="line">END</span><br><span class="line">IF  @SN is not null</span><br><span class="line">BEGIN</span><br><span class="line">    SET @SQL&#x3D;@SQL+&#39; AND SN&#x3D;@SN&#39;</span><br><span class="line">END</span><br><span class="line">EXEC sp_executesql  @SQL </span><br></pre></td></tr></table></figure></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://qqstone.github.io/qqsnote/2020/05/11/Angular-i18n/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/qqsnote/images/avatar.gif">
      <meta itemprop="name" content="QQs">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="QQs'Note">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/qqsnote/2020/05/11/Angular-i18n/" class="post-title-link" itemprop="url">Angular 多语言</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-05-11 14:07:27" itemprop="dateCreated datePublished" datetime="2020-05-11T14:07:27+08:00">2020-05-11</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-07-05 10:07:52" itemprop="dateModified" datetime="2025-07-05T10:07:52+08:00">2025-07-05</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/qqsnote/categories/%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF/" itemprop="url" rel="index"><span itemprop="name">前端技术</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h4 id="国际化和本地化"><a href="#国际化和本地化" class="headerlink" title="国际化和本地化"></a>国际化和本地化</h4><blockquote>
<p>Internationalization is the process of designing and preparing your app to be usable in different languages. Localization is the process of translating your internationalized app into specific languages for particular locales.</p>
</blockquote>
<p>国际化是将应用程序设计以及预备，使之支持不同的语言的过程。 本地化是一个把国际化的应用根据区域配置翻译成特定语言的过程。</p>
<p>国际化设计是实现“多语言切换”的前提，angular框架的国际化基础是i18n模块</p>
<h4 id="框架本地化（Localization）"><a href="#框架本地化（Localization）" class="headerlink" title="框架本地化（Localization）"></a>框架本地化（Localization）</h4><p>为应用配置“地区”，这个地区成为查找相应的本地化数据的依据。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ng add @angular&#x2F;localize</span><br></pre></td></tr></table></figure><br>异常：</p>
<blockquote>
<p>Uncaught Error: It looks like your application or one of its dependencies is using i18n.<br>Angular 9 introduced a global `$localize()` function that needs to be loaded.<br>Please run `ng add @angular/localize` from the Angular CLI.<br>(For non-CLI projects, add `import ‘@angular/localize/init’;` to your `polyfills.ts` file.</p>
</blockquote>
<p>如上所述，需要添加 import ‘@angular/localize/init’ 到 polyfills.ts</p>
<h4 id="模板翻译"><a href="#模板翻译" class="headerlink" title="模板翻译"></a>模板翻译</h4><ol>
<li><p>在组件模板中标记需要翻译的静态文本信息。</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;h1 i18n&gt;Hello QQs&lt;&#x2F;h1&gt;</span><br><span class="line">&lt;h1 i18n&#x3D;&quot;say hello|translate hello&quot;&gt;Hello QQs&lt;&#x2F;h1&gt;</span><br></pre></td></tr></table></figure>
<p> 在组件上添加i18n属性，标记该文本待翻译，另外可附上“&lt;意图&gt;|&lt;描述&gt;”，注意这些文字并不作为翻译条目的标识符，只是增强代码的可读性<br><br> i18n提取工具会为这些标记的单元生成一个随机的id，这个才是标识符，该id可自定义如下</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;h1 i18n&#x3D;&quot;@@introductionHeader&quot;&gt;Hello QQs&lt;&#x2F;h1&gt;</span><br></pre></td></tr></table></figure>
<p> 非文本内容标签（待翻译文本是组件属性，而非内容）的标记</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;img [src]&#x3D;&quot;logo&quot; i18n-title title&#x3D;&quot;Angular logo&quot; &#x2F;&gt;</span><br></pre></td></tr></table></figure>
<p> 单复数问题</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;span i18n&gt;Updated &#123;minutes, plural, &#x3D;0 &#123;just now&#125; &#x3D;1 &#123;one minute ago&#125; other &#123;&#123;&#123;minutes&#125;&#125; minutes ago&#125;&#125;&lt;&#x2F;span&gt;</span><br><span class="line">&lt;!-- 期望： --&gt;</span><br><span class="line">&lt;!-- 当minutes&#x3D;0时，翻译文本“Updated just now” --&gt;</span><br><span class="line">&lt;!-- 当minutes&#x3D;1时，翻译文本“Updated one minute ago” --&gt;</span><br><span class="line">&lt;!-- 其他，翻译文本“Updated xx minutes ago” --&gt;</span><br></pre></td></tr></table></figure>
<p> plural /ˈplʊərəl/ 复数的 这里是复数翻译模式的关键字</p>
<p> 选择问题</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;span i18n&gt;The author is &#123;gender, select, male &#123;male&#125; female &#123;female&#125; other &#123;other&#125;&#125;&lt;&#x2F;span&gt;</span><br></pre></td></tr></table></figure></li>
<li>创建翻译文件：使用 Angular CLI 的 xi18n 命令，把标记过的文本提取到一个符合行业标准的翻译源文件中。<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ng xi18n --i18n-format&#x3D;xlf --output-path src&#x2F;locale --out-file translate.xlf</span><br></pre></td></tr></table></figure>
 得到的是一个xml语言的标准格式文件 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;UTF-8&quot; ?&gt;</span><br><span class="line">    &lt;xliff version&#x3D;&quot;1.2&quot; xmlns&#x3D;&quot;urn:oasis:names:tc:xliff:document:1.2&quot;&gt;</span><br><span class="line">    &lt;file source-language&#x3D;&quot;en&quot; datatype&#x3D;&quot;plaintext&quot; original&#x3D;&quot;ng2.template&quot;&gt;</span><br><span class="line">        &lt;body&gt;</span><br><span class="line">        &lt;trans-unit id&#x3D;&quot;introductionHeader&quot; datatype&#x3D;&quot;html&quot;&gt;</span><br><span class="line">            &lt;source&gt;Hello QQs&lt;&#x2F;source&gt;</span><br><span class="line">            &lt;context-group purpose&#x3D;&quot;location&quot;&gt;</span><br><span class="line">            &lt;context context-type&#x3D;&quot;sourcefile&quot;&gt;src&#x2F;app&#x2F;app.component.html&lt;&#x2F;context&gt;</span><br><span class="line">            &lt;context context-type&#x3D;&quot;linenumber&quot;&gt;353&lt;&#x2F;context&gt;</span><br><span class="line">            &lt;&#x2F;context-group&gt;</span><br><span class="line">        &lt;&#x2F;trans-unit&gt;</span><br><span class="line">        &lt;trans-unit id&#x3D;&quot;updatetime&quot; datatype&#x3D;&quot;html&quot;&gt;</span><br><span class="line">            &lt;source&gt;Updated &lt;x id&#x3D;&quot;ICU&quot; equiv-text&#x3D;&quot;&#123;minutes, plural, &#x3D;0 &#123;...&#125; &#x3D;1 &#123;...&#125; other &#123;...&#125;&#125;&quot;&#x2F;&gt;&lt;&#x2F;source&gt;</span><br><span class="line">            &lt;context-group purpose&#x3D;&quot;location&quot;&gt;</span><br><span class="line">            &lt;context context-type&#x3D;&quot;sourcefile&quot;&gt;src&#x2F;app&#x2F;app.component.html&lt;&#x2F;context&gt;</span><br><span class="line">            &lt;context context-type&#x3D;&quot;linenumber&quot;&gt;354&lt;&#x2F;context&gt;</span><br><span class="line">            &lt;&#x2F;context-group&gt;</span><br><span class="line">        &lt;&#x2F;trans-unit&gt;</span><br><span class="line">        &lt;trans-unit id&#x3D;&quot;5a134dee893586d02bffc9611056b9cadf9abfad&quot; datatype&#x3D;&quot;html&quot;&gt;</span><br><span class="line">            &lt;source&gt;&#123;VAR_PLURAL, plural, &#x3D;0 &#123;just now&#125; &#x3D;1 &#123;one minute ago&#125; other &#123;&lt;x id&#x3D;&quot;INTERPOLATION&quot; equiv-text&#x3D;&quot;&#123;&#123;minutes&#125;&#125;&quot;&#x2F;&gt; minutes ago&#125; &#125;&lt;&#x2F;source&gt;</span><br><span class="line">            &lt;context-group purpose&#x3D;&quot;location&quot;&gt;</span><br><span class="line">            &lt;context context-type&#x3D;&quot;sourcefile&quot;&gt;src&#x2F;app&#x2F;app.component.html&lt;&#x2F;context&gt;</span><br><span class="line">            &lt;context context-type&#x3D;&quot;linenumber&quot;&gt;354&lt;&#x2F;context&gt;</span><br><span class="line">            &lt;&#x2F;context-group&gt;</span><br><span class="line">        &lt;&#x2F;trans-unit&gt;</span><br><span class="line">        &lt;&#x2F;body&gt;</span><br><span class="line">    &lt;&#x2F;file&gt;</span><br><span class="line">    &lt;&#x2F;xliff&gt;</span><br></pre></td></tr></table></figure></li>
<li><p>编辑所生成的翻译文件：把提取出的文本翻译成目标语言。<br>复制上面生成的翻译格式文件，填入翻译后的文本</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;trans-unit id&#x3D;&quot;introductionHeader&quot; datatype&#x3D;&quot;html&quot;&gt;</span><br><span class="line">    &lt;source&gt;Hello QQs&lt;&#x2F;source&gt;</span><br><span class="line">    &lt;target&gt;你好，爸爸&lt;&#x2F;target&gt;</span><br><span class="line">&lt;&#x2F;trans-unit&gt;</span><br><span class="line">&lt;trans-unit id&#x3D;&quot;updatetime&quot; datatype&#x3D;&quot;html&quot;&gt;</span><br><span class="line">    &lt;source&gt;Updated &lt;x id&#x3D;&quot;ICU&quot; equiv-text&#x3D;&quot;&#123;minutes, plural, &#x3D;0 &#123;...&#125; &#x3D;1 &#123;...&#125; other &#123;...&#125;&#125;&quot;&#x2F;&gt;&lt;&#x2F;source&gt;</span><br><span class="line">    &lt;target&gt;&#123;VAR_PLURAL, plural, &#x3D;0 &#123;方才&#125; &#x3D;1 &#123;il y 刚片刻&#125; other &#123;il y a &lt;x id&#x3D;&quot;INTERPOLATION&quot; equiv-text&#x3D;&quot;&#123;&#123;minutes&#125;&#125;&quot;&#x2F;&gt; 分钟前&#125; &#125;&lt;&#x2F;target&gt;</span><br><span class="line">&lt;&#x2F;trans-unit&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>将目标语言环境和语言翻译添加到应用程序的配置中。<br></p>
<p>a. 配置AOT编译<br></p>
<p><b>警告</b>,此处存在版本差异：<br><br>Angular v9 angular.json </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&quot;projects&quot;: &#123;</span><br><span class="line">    ...</span><br><span class="line">    &quot;my-project&quot;: &#123;</span><br><span class="line">        ...</span><br><span class="line">        &quot;i18n&quot;: &#123;</span><br><span class="line">            &quot;sourceLocale&quot;: &quot;en-US&quot;,</span><br><span class="line">            &quot;locales&quot;: &#123;</span><br><span class="line">                &quot;fr&quot;: &quot;src&#x2F;locale&#x2F;messages.fr.xlf&quot;,</span><br><span class="line">                &quot;zh&quot;: &quot;src&#x2F;locale&#x2F;translate.zh-cn.xlf&quot;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>调用ng build —prod —localize构建 i18n 下定义的所有语言环境。生成若干套静态资源：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">dist</span><br><span class="line">  └───my-project</span><br><span class="line">        ├───en-US</span><br><span class="line">        ├───fr</span><br><span class="line">        └───zh</span><br></pre></td></tr></table></figure>
<p>配置特定的语言环境，指定Locale_ID</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&quot;build&quot;: &#123;</span><br><span class="line">    &quot;configurations&quot;: &#123;</span><br><span class="line">        &quot;fr&quot;: &#123;</span><br><span class="line">             &quot;aot&quot;: true,</span><br><span class="line">             &quot;outputPath&quot;: &quot;dist&#x2F;my-project-fr&#x2F;&quot;,</span><br><span class="line">             &quot;i18nFile&quot;: &quot;src&#x2F;locale&#x2F;messages.fr.xlf&quot;,</span><br><span class="line">             &quot;i18nFormat&quot;: &quot;xlf&quot;,</span><br><span class="line">             &quot;i18nLocale&quot;: &quot;fr&quot;,</span><br><span class="line">             &quot;i18nMissingTranslation&quot;: &quot;error&quot; &#x2F;&#x2F;报告缺失的翻译 提醒级别为error</span><br><span class="line">         &#125;</span><br><span class="line">         ...</span><br><span class="line">    &#125;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Angular v8 angular.json </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line">&quot;architect&quot;: &#123;</span><br><span class="line">    &quot;build&quot;: &#123;</span><br><span class="line">        &quot;builder&quot;: &quot;@angular-devkit&#x2F;build-angular:browser&quot;,</span><br><span class="line">        &quot;options&quot;: &#123; ... &#125;,</span><br><span class="line">        &quot;configurations&quot;: &#123;</span><br><span class="line">            &quot;fr&quot;: &#123;</span><br><span class="line">                &quot;aot&quot;: true,</span><br><span class="line">                &quot;outputPath&quot;: &quot;dist&#x2F;my-project-fr&#x2F;&quot;,</span><br><span class="line">                &quot;i18nFile&quot;: &quot;src&#x2F;locale&#x2F;messages.fr.xlf&quot;,</span><br><span class="line">                &quot;i18nFormat&quot;: &quot;xlf&quot;,</span><br><span class="line">                &quot;i18nLocale&quot;: &quot;fr&quot;,</span><br><span class="line">                &quot;i18nMissingTranslation&quot;: &quot;error&quot;,</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    ...</span><br><span class="line">    &quot;serve&quot;: &#123;</span><br><span class="line">        &quot;builder&quot;: &quot;@angular-devkit&#x2F;build-angular:dev-server&quot;,</span><br><span class="line">        &quot;options&quot;: &#123;</span><br><span class="line">            &quot;browserTarget&quot;: &quot;my-project:build&quot;</span><br><span class="line">        &#125;,</span><br><span class="line">        &quot;configurations&quot;: &#123;</span><br><span class="line">            &quot;production&quot;: &#123;</span><br><span class="line">                &quot;browserTarget&quot;: &quot;my-project:build:production&quot;</span><br><span class="line">            &#125;,</span><br><span class="line">            &quot;fr&quot;: &#123;</span><br><span class="line">                &quot;browserTarget&quot;: &quot;my-project:build:fr&quot;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>可见 angular.json中，为ng build命令添加了3个用于国际化的参数i18nFile，i18nFormat，i18nLocale。另外指定outputPath用以区分不同语言版本, 这些参数也可以通过cli附加命令的配置项</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ng build --prod --i18n-file src&#x2F;locale&#x2F;messages.fr.xlf --i18n-format xlf --i18n-locale fr</span><br></pre></td></tr></table></figure>
<p>ng serve 命令是通过browsertarget:my-project:build使用ng build 的配置，并不直接支持上述用于国际化的参数，而以下面的方式调用</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ng serve --configuration&#x3D;fr</span><br></pre></td></tr></table></figure>
<p>b. 配置JIT编译<br></p>
<ul>
<li>载入合适的翻译文件，作为字符串常量</li>
<li>创建相应的translation provider</li>
<li>使用translation provider启动app</li>
</ul>
<p>main.ts</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">import &#123; enableProdMode, TRANSLATIONS, TRANSLATIONS_FORMAT, MissingTranslationStrategy &#125; from &#39;@angular&#x2F;core&#39;;</span><br><span class="line">import &#123; platformBrowserDynamic &#125; from &#39;@angular&#x2F;platform-browser-dynamic&#39;;</span><br><span class="line"></span><br><span class="line">import &#123; AppModule &#125; from &#39;.&#x2F;app&#x2F;app.module&#39;;</span><br><span class="line">import &#123; environment &#125; from &#39;.&#x2F;environments&#x2F;environment&#39;;</span><br><span class="line"></span><br><span class="line">if (environment.production) &#123;</span><br><span class="line">enableProdMode();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; use the require method provided by webpack</span><br><span class="line">declare const require;</span><br><span class="line">&#x2F;&#x2F; we use the webpack raw-loader to return the content as a string</span><br><span class="line">const translations &#x3D; require(&#39;raw-loader!.&#x2F;locale&#x2F;translate.fr.xlf&#39;).default;</span><br><span class="line"></span><br><span class="line">platformBrowserDynamic().bootstrapModule(AppModule,&#123;</span><br><span class="line">missingTranslation: MissingTranslationStrategy.Error,</span><br><span class="line">providers: [</span><br><span class="line">    &#123;provide: TRANSLATIONS, useValue: translations&#125;,</span><br><span class="line">    &#123;provide: TRANSLATIONS_FORMAT, useValue: &#39;xlf&#39;&#125;</span><br><span class="line">]</span><br><span class="line">&#125;)</span><br><span class="line">.catch(err &#x3D;&gt; console.error(err));</span><br></pre></td></tr></table></figure>
<p>app.module.ts</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">@NgModule(&#123;</span><br><span class="line">declarations: [</span><br><span class="line">    AppComponent</span><br><span class="line">],</span><br><span class="line">imports: [</span><br><span class="line">    BrowserModule,</span><br><span class="line">    AppRoutingModule</span><br><span class="line">],</span><br><span class="line">providers: [&#123; provide: LOCALE_ID, useValue: &#39;fr&#39; &#125;],</span><br><span class="line">bootstrap: [AppComponent]</span><br><span class="line">&#125;)</span><br><span class="line">export class AppModule &#123; &#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h4 id="多语言切换-ngx-translate"><a href="#多语言切换-ngx-translate" class="headerlink" title="多语言切换 ngx-translate"></a>多语言切换 ngx-translate</h4><p>关于ngx-translate <a href="/qqsnote/2020/05/21/Ngx-translate/" title="Ngx-translate文章">Ngx-translate文章</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/qqsnote/page/21/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/qqsnote/">1</a><span class="space">&hellip;</span><a class="page-number" href="/qqsnote/page/21/">21</a><span class="page-number current">22</span><a class="page-number" href="/qqsnote/page/23/">23</a><span class="space">&hellip;</span><a class="page-number" href="/qqsnote/page/34/">34</a><a class="extend next" rel="next" href="/qqsnote/page/23/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">QQs</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/qqsnote/archives/">
        
          <span class="site-state-item-count">336</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/qqsnote/categories/">
        <span class="site-state-item-count">21</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/qqsnote/tags/">
        <span class="site-state-item-count">128</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>



      </div>

      <div class="tag-cloud-tags">
        <a href="/qqsnote/tags/Net/" style="font-size: 30px; color: #fff">.Net</a> <a href="/qqsnote/tags/4G/" style="font-size: 12px; color: #ccc">4G</a> <a href="/qqsnote/tags/AI/" style="font-size: 22.5px; color: #eaeaea">AI</a> <a href="/qqsnote/tags/Android/" style="font-size: 12px; color: #ccc">Android</a> <a href="/qqsnote/tags/Angular/" style="font-size: 30px; color: #fff">Angular</a> <a href="/qqsnote/tags/Apache/" style="font-size: 13.5px; color: #d0d0d0">Apache</a> <a href="/qqsnote/tags/Azure/" style="font-size: 25.5px; color: #f2f2f2">Azure</a> <a href="/qqsnote/tags/Babylon/" style="font-size: 12px; color: #ccc">Babylon</a> <a href="/qqsnote/tags/C/" style="font-size: 16.5px; color: #d9d9d9">C#</a> <a href="/qqsnote/tags/C/" style="font-size: 16.5px; color: #d9d9d9">C++</a> <a href="/qqsnote/tags/CSS/" style="font-size: 19.5px; color: #e1e1e1">CSS</a> <a href="/qqsnote/tags/DevOps/" style="font-size: 15px; color: #d5d5d5">DevOps</a> <a href="/qqsnote/tags/Docker/" style="font-size: 16.5px; color: #d9d9d9">Docker</a> <a href="/qqsnote/tags/ES6/" style="font-size: 12px; color: #ccc">ES6</a> <a href="/qqsnote/tags/ESLint/" style="font-size: 12px; color: #ccc">ESLint</a> <a href="/qqsnote/tags/ElasticSearch/" style="font-size: 12px; color: #ccc">ElasticSearch</a> <a href="/qqsnote/tags/Electron/" style="font-size: 16.5px; color: #d9d9d9">Electron</a> <a href="/qqsnote/tags/ElementUI/" style="font-size: 12px; color: #ccc">ElementUI</a> <a href="/qqsnote/tags/EntityFramework/" style="font-size: 13.5px; color: #d0d0d0">EntityFramework</a> <a href="/qqsnote/tags/EventBus/" style="font-size: 12px; color: #ccc">EventBus</a> <a href="/qqsnote/tags/Excel/" style="font-size: 12px; color: #ccc">Excel</a> <a href="/qqsnote/tags/FastDFS/" style="font-size: 12px; color: #ccc">FastDFS</a> <a href="/qqsnote/tags/Figma/" style="font-size: 12px; color: #ccc">Figma</a> <a href="/qqsnote/tags/Go/" style="font-size: 12px; color: #ccc">Go</a> <a href="/qqsnote/tags/GraphQL/" style="font-size: 12px; color: #ccc">GraphQL</a> <a href="/qqsnote/tags/Jasmine/" style="font-size: 12px; color: #ccc">Jasmine</a> <a href="/qqsnote/tags/Java/" style="font-size: 13.5px; color: #d0d0d0">Java</a> <a href="/qqsnote/tags/Jenkins/" style="font-size: 21px; color: #e6e6e6">Jenkins</a> <a href="/qqsnote/tags/Linux/" style="font-size: 22.5px; color: #eaeaea">Linux</a> <a href="/qqsnote/tags/MQ/" style="font-size: 12px; color: #ccc">MQ</a> <a href="/qqsnote/tags/Markdown/" style="font-size: 13.5px; color: #d0d0d0">Markdown</a> <a href="/qqsnote/tags/MongoDB/" style="font-size: 12px; color: #ccc">MongoDB</a> <a href="/qqsnote/tags/Monorepo/" style="font-size: 12px; color: #ccc">Monorepo</a> <a href="/qqsnote/tags/MySQL/" style="font-size: 12px; color: #ccc">MySQL</a> <a href="/qqsnote/tags/NSIS/" style="font-size: 12px; color: #ccc">NSIS</a> <a href="/qqsnote/tags/Nginx/" style="font-size: 12px; color: #ccc">Nginx</a> <a href="/qqsnote/tags/NoSQL/" style="font-size: 12px; color: #ccc">NoSQL</a> <a href="/qqsnote/tags/Node-js/" style="font-size: 18px; color: #ddd">Node.js</a> <a href="/qqsnote/tags/OData/" style="font-size: 13.5px; color: #d0d0d0">OData</a> <a href="/qqsnote/tags/OpenCV/" style="font-size: 18px; color: #ddd">OpenCV</a> <a href="/qqsnote/tags/OpenGL/" style="font-size: 13.5px; color: #d0d0d0">OpenGL</a> <a href="/qqsnote/tags/PHP/" style="font-size: 12px; color: #ccc">PHP</a> <a href="/qqsnote/tags/PWA/" style="font-size: 12px; color: #ccc">PWA</a> <a href="/qqsnote/tags/PyCharm/" style="font-size: 12px; color: #ccc">PyCharm</a> <a href="/qqsnote/tags/Python/" style="font-size: 24px; color: #eee">Python</a> <a href="/qqsnote/tags/R3F/" style="font-size: 12px; color: #ccc">R3F</a> <a href="/qqsnote/tags/React/" style="font-size: 21px; color: #e6e6e6">React</a> <a href="/qqsnote/tags/SQL/" style="font-size: 12px; color: #ccc">SQL</a> <a href="/qqsnote/tags/SQL-Server/" style="font-size: 15px; color: #d5d5d5">SQL_Server</a> <a href="/qqsnote/tags/ServiceWorker/" style="font-size: 12px; color: #ccc">ServiceWorker</a> <a href="/qqsnote/tags/Shell/" style="font-size: 12px; color: #ccc">Shell</a> <a href="/qqsnote/tags/Three-js/" style="font-size: 16.5px; color: #d9d9d9">Three.js</a> <a href="/qqsnote/tags/TypeScript/" style="font-size: 13.5px; color: #d0d0d0">TypeScript</a> <a href="/qqsnote/tags/UE/" style="font-size: 12px; color: #ccc">UE</a> <a href="/qqsnote/tags/UI/" style="font-size: 12px; color: #ccc">UI</a> <a href="/qqsnote/tags/UML/" style="font-size: 12px; color: #ccc">UML</a> <a href="/qqsnote/tags/Virtualbox/" style="font-size: 12px; color: #ccc">Virtualbox</a> <a href="/qqsnote/tags/WPF/" style="font-size: 12px; color: #ccc">WPF</a> <a href="/qqsnote/tags/WebGL/" style="font-size: 21px; color: #e6e6e6">WebGL</a> <a href="/qqsnote/tags/WebService/" style="font-size: 12px; color: #ccc">WebService</a> <a href="/qqsnote/tags/Web%E5%8D%8F%E8%AE%AE/" style="font-size: 12px; color: #ccc">Web协议</a> <a href="/qqsnote/tags/Web%E5%BC%80%E5%8F%91/" style="font-size: 27px; color: #f7f7f7">Web开发</a> <a href="/qqsnote/tags/Wechat/" style="font-size: 12px; color: #ccc">Wechat</a> <a href="/qqsnote/tags/aigc/" style="font-size: 12px; color: #ccc">aigc</a> <a href="/qqsnote/tags/auth/" style="font-size: 12px; color: #ccc">auth</a> <a href="/qqsnote/tags/axios/" style="font-size: 12px; color: #ccc">axios</a> <a href="/qqsnote/tags/canvas/" style="font-size: 12px; color: #ccc">canvas</a> <a href="/qqsnote/tags/css/" style="font-size: 12px; color: #ccc">css</a> <a href="/qqsnote/tags/express/" style="font-size: 12px; color: #ccc">express</a> <a href="/qqsnote/tags/ftp/" style="font-size: 12px; color: #ccc">ftp</a> <a href="/qqsnote/tags/git/" style="font-size: 13.5px; color: #d0d0d0">git</a> <a href="/qqsnote/tags/hexo/" style="font-size: 12px; color: #ccc">hexo</a> <a href="/qqsnote/tags/http/" style="font-size: 12px; color: #ccc">http</a> <a href="/qqsnote/tags/http2/" style="font-size: 12px; color: #ccc">http2</a> <a href="/qqsnote/tags/https/" style="font-size: 12px; color: #ccc">https</a> <a href="/qqsnote/tags/ionic/" style="font-size: 12px; color: #ccc">ionic</a> <a href="/qqsnote/tags/javascript/" style="font-size: 28.5px; color: #fbfbfb">javascript</a> <a href="/qqsnote/tags/k8s/" style="font-size: 12px; color: #ccc">k8s</a> <a href="/qqsnote/tags/login/" style="font-size: 12px; color: #ccc">login</a> <a href="/qqsnote/tags/loopback/" style="font-size: 12px; color: #ccc">loopback</a> <a href="/qqsnote/tags/ngrok/" style="font-size: 12px; color: #ccc">ngrok</a> <a href="/qqsnote/tags/npm/" style="font-size: 12px; color: #ccc">npm</a> <a href="/qqsnote/tags/nsis/" style="font-size: 13.5px; color: #d0d0d0">nsis</a> <a href="/qqsnote/tags/redis/" style="font-size: 12px; color: #ccc">redis</a> <a href="/qqsnote/tags/sqlServer/" style="font-size: 12px; color: #ccc">sqlServer</a> <a href="/qqsnote/tags/ssh/" style="font-size: 12px; color: #ccc">ssh</a> <a href="/qqsnote/tags/svg/" style="font-size: 12px; color: #ccc">svg</a> <a href="/qqsnote/tags/trea/" style="font-size: 12px; color: #ccc">trea</a> <a href="/qqsnote/tags/vtk/" style="font-size: 16.5px; color: #d9d9d9">vtk</a> <a href="/qqsnote/tags/vuejs/" style="font-size: 19.5px; color: #e1e1e1">vuejs</a> <a href="/qqsnote/tags/webassembly/" style="font-size: 15px; color: #d5d5d5">webassembly</a> <a href="/qqsnote/tags/webpack/" style="font-size: 12px; color: #ccc">webpack</a> <a href="/qqsnote/tags/websocket/" style="font-size: 12px; color: #ccc">websocket</a> <a href="/qqsnote/tags/windows/" style="font-size: 12px; color: #ccc">windows</a> <a href="/qqsnote/tags/yarn/" style="font-size: 12px; color: #ccc">yarn</a> <a href="/qqsnote/tags/%E4%B8%8A%E4%BC%A0/" style="font-size: 12px; color: #ccc">上传</a> <a href="/qqsnote/tags/%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F/" style="font-size: 12px; color: #ccc">内网穿透</a> <a href="/qqsnote/tags/%E5%8A%A0%E5%AF%86/" style="font-size: 16.5px; color: #d9d9d9">加密</a> <a href="/qqsnote/tags/%E5%8C%BB%E5%AD%A6%E5%9B%BE%E5%83%8F/" style="font-size: 13.5px; color: #d0d0d0">医学图像</a> <a href="/qqsnote/tags/%E5%8D%9A%E5%BC%88%E8%AE%BA/" style="font-size: 12px; color: #ccc">博弈论</a> <a href="/qqsnote/tags/%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86/" style="font-size: 12px; color: #ccc">图像处理</a> <a href="/qqsnote/tags/%E5%9B%BE%E5%BD%A2%E5%AD%A6/" style="font-size: 18px; color: #ddd">图形学</a> <a href="/qqsnote/tags/%E5%A4%9A%E8%AF%AD%E8%A8%80/" style="font-size: 13.5px; color: #d0d0d0">多语言</a> <a href="/qqsnote/tags/%E5%A4%A7%E6%A8%A1%E5%9E%8B/" style="font-size: 12px; color: #ccc">大模型</a> <a href="/qqsnote/tags/%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B/" style="font-size: 12px; color: #ccc">存储过程</a> <a href="/qqsnote/tags/%E6%80%A7%E8%83%BD/" style="font-size: 15px; color: #d5d5d5">性能</a> <a href="/qqsnote/tags/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/" style="font-size: 13.5px; color: #d0d0d0">性能优化</a> <a href="/qqsnote/tags/%E6%88%90%E9%95%BF%E6%80%9D%E7%BB%B4/" style="font-size: 12px; color: #ccc">成长思维</a> <a href="/qqsnote/tags/%E6%91%84%E5%BD%B1/" style="font-size: 12px; color: #ccc">摄影</a> <a href="/qqsnote/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/" style="font-size: 12px; color: #ccc">操作系统</a> <a href="/qqsnote/tags/%E6%95%B0%E5%AD%97%E7%AD%BE%E5%90%8D/" style="font-size: 12px; color: #ccc">数字签名</a> <a href="/qqsnote/tags/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/" style="font-size: 12px; color: #ccc">数据可视化</a> <a href="/qqsnote/tags/%E6%95%B0%E6%8D%AE%E5%BA%93%E9%94%81/" style="font-size: 12px; color: #ccc">数据库锁</a> <a href="/qqsnote/tags/%E6%A0%91%E8%8E%93%E6%B4%BE/" style="font-size: 12px; color: #ccc">树莓派</a> <a href="/qqsnote/tags/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/" style="font-size: 12px; color: #ccc">正则表达式</a> <a href="/qqsnote/tags/%E7%89%A9%E8%81%94%E7%BD%91/" style="font-size: 12px; color: #ccc">物联网</a> <a href="/qqsnote/tags/%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F/" style="font-size: 13.5px; color: #d0d0d0">环境变量</a> <a href="/qqsnote/tags/%E7%AE%97%E6%B3%95/" style="font-size: 16.5px; color: #d9d9d9">算法</a> <a href="/qqsnote/tags/%E7%BC%96%E7%A0%81%E8%A7%84%E8%8C%83/" style="font-size: 12px; color: #ccc">编码规范</a> <a href="/qqsnote/tags/%E8%8B%B1%E8%AF%AD/" style="font-size: 12px; color: #ccc">英语</a> <a href="/qqsnote/tags/%E8%A7%86%E9%A2%91%E6%B5%81/" style="font-size: 12px; color: #ccc">视频流</a> <a href="/qqsnote/tags/%E8%A7%A6%E5%8F%91%E5%99%A8/" style="font-size: 12px; color: #ccc">触发器</a> <a href="/qqsnote/tags/%E8%AE%A4%E8%AF%81-%E6%8E%88%E6%9D%83/" style="font-size: 21px; color: #e6e6e6">认证&授权</a> <a href="/qqsnote/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" style="font-size: 12px; color: #ccc">设计模式</a> <a href="/qqsnote/tags/%E8%AF%BB%E4%B9%A6/" style="font-size: 12px; color: #ccc">读书</a> <a href="/qqsnote/tags/%E8%BF%9B%E7%A8%8B%E5%AE%88%E6%8A%A4/" style="font-size: 12px; color: #ccc">进程守护</a> <a href="/qqsnote/tags/%E9%9D%A2%E8%AF%95/" style="font-size: 13.5px; color: #d0d0d0">面试</a> <a href="/qqsnote/tags/%E9%A6%99%E6%A9%99%E6%B4%BE/" style="font-size: 12px; color: #ccc">香橙派</a>
      </div>
    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">QQs</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/qqsnote/lib/anime.min.js"></script>
  <script src="/qqsnote/lib/velocity/velocity.min.js"></script>
  <script src="/qqsnote/lib/velocity/velocity.ui.min.js"></script>

<script src="/qqsnote/js/utils.js"></script>

<script src="/qqsnote/js/motion.js"></script>


<script src="/qqsnote/js/schemes/muse.js"></script>


<script src="/qqsnote/js/next-boot.js"></script>




  




  
<script src="/qqsnote/js/local-search.js"></script>













  

  

  

</body>
</html>
