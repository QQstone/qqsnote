<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.1">
  <link rel="apple-touch-icon" sizes="180x180" href="/qqsnote/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/qqsnote/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/qqsnote/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/qqsnote/images/logo.svg" color="#222">

<link rel="stylesheet" href="/qqsnote/css/main.css">


<link rel="stylesheet" href="/qqsnote/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"qqstone.github.io","root":"/qqsnote/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.json"};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="QQs&#39;Note">
<meta property="og:url" content="http://qqstone.github.io/qqsnote/page/25/index.html">
<meta property="og:site_name" content="QQs&#39;Note">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="QQs">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://qqstone.github.io/qqsnote/page/25/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'en'
  };
</script>

  <title>QQs'Note</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/qqsnote/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">QQs'Note</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/qqsnote/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/qqsnote/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://qqstone.github.io/qqsnote/2020/03/24/Rxjs/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/qqsnote/images/avatar.gif">
      <meta itemprop="name" content="QQs">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="QQs'Note">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/qqsnote/2020/03/24/Rxjs/" class="post-title-link" itemprop="url">Rxjs</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-03-24 12:54:34" itemprop="dateCreated datePublished" datetime="2020-03-24T12:54:34+08:00">2020-03-24</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-07-05 10:07:52" itemprop="dateModified" datetime="2025-07-05T10:07:52+08:00">2025-07-05</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <blockquote>
<p>current version: 6.5.2</p>
<h4 id="关于响应式编程"><a href="#关于响应式编程" class="headerlink" title="关于响应式编程"></a>关于响应式编程</h4><p><a href="zhuanlan.zhihu.com/p/27678951">知乎：响应式编程</a></p>
<h4 id="Observable-的发布和订阅"><a href="#Observable-的发布和订阅" class="headerlink" title="Observable 的发布和订阅"></a>Observable 的发布和订阅</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; Create simple observable that emits three values</span><br><span class="line">const myObservable &#x3D; of(1, 2, 3); &#x2F;&#x2F; or from([1,2,3])</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; Create observer object</span><br><span class="line">const myObserver &#x3D; &#123;</span><br><span class="line">  next: x &#x3D;&gt; console.log(&#39;Observer got a next value: &#39; + x),</span><br><span class="line">  error: err &#x3D;&gt; console.error(&#39;Observer got an error: &#39; + err),</span><br><span class="line">  complete: () &#x3D;&gt; console.log(&#39;Observer got a complete notification&#39;),</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; Execute with the observer object</span><br><span class="line">myObservable.subscribe(myObserver);</span><br><span class="line">&#x2F;&#x2F; Logs:</span><br><span class="line">&#x2F;&#x2F; Observer got a next value: 1</span><br><span class="line">&#x2F;&#x2F; Observer got a next value: 2</span><br><span class="line">&#x2F;&#x2F; Observer got a next value: 3</span><br><span class="line">&#x2F;&#x2F; Observer got a complete notification</span><br></pre></td></tr></table></figure>
<p>of(…items) from(iterable)是自带常用产生Observable对象的工具</p>
<h4 id="Observable-可观察对象"><a href="#Observable-可观察对象" class="headerlink" title="Observable 可观察对象"></a>Observable 可观察对象</h4><p>在http请求中，可观察对象不是new构造的，而是由httpclient的get或post方法返回一个Observable\<any\>. 私以为是成功调用接口后就发布一个结果，这个结果可以用管道加工<br><br>参考 <a target="_blank" rel="noopener" href="https://cn.rx.js.org/manual/overview.html#h16">Observable 的操作符</a><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">getDict(dictname): Observable&lt;DictItem[]&gt; &#123;</span><br><span class="line">    return this.http.get(&#96;dict&#x2F;$&#123;dictname&#125;&#96;).pipe(</span><br><span class="line">      map((res: HttpResponse) &#x3D;&gt; &#123;</span><br><span class="line">        if (res.status &#x3D;&#x3D;&#x3D; &#39;ok&#39;) &#123;</span><br><span class="line">          return res.data;</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">          return [];</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;),</span><br><span class="line">    );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>获取这个结果就需要订阅（subscribe）这个Observable，这个Observable是匿名的，每次获取它需要调用函数来返回 </p>
<p>QQs:为什么httpclient方法不需要取消订阅</p>
</blockquote>
<p>据说这些方法被实现为只next一次 </p>
<h4 id="Subject"><a href="#Subject" class="headerlink" title="Subject"></a>Subject</h4><blockquote>
<p>A Subject is a special type of Observable which shares a single execution path among observers.</p>
</blockquote>
<p>被比喻成广播者<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">const subject &#x3D; new Subject();</span><br><span class="line"></span><br><span class="line">subject.subscribe(log(&#39;s1 subject&#39;));</span><br><span class="line">subject.subscribe(log(&#39;s2 subject&#39;));</span><br><span class="line"></span><br><span class="line">subject.next(&#39;r&#39;);</span><br><span class="line">subject.next(&#39;x&#39;);</span><br></pre></td></tr></table></figure></p>
<h4 id="同步数据转Observable"><a href="#同步数据转Observable" class="headerlink" title="同步数据转Observable"></a>同步数据转Observable</h4><p>场景：组件粒度小，在视图中多次实例化，或者重复初始化，为防止频繁调用后台接口应加入数据缓存，<br>基础数据缓存实现为，第一次调用，从httpclient获取接口数据的Observable对象，并用管道处理加入缓存，之后将缓存数据取出转为Observable对象<br>basicdata.service.ts<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">import &#123; Observable, of, from &#125; from &#39;rxjs&#39;;</span><br><span class="line">import &#123; map &#125; from &#39;rxjs&#x2F;operators&#39;;</span><br><span class="line"></span><br><span class="line">users: User[];</span><br><span class="line">getUserList(): Observable&lt;User[]&gt; &#123;</span><br><span class="line">  if (this.users) &#123;</span><br><span class="line">    return of(this.users);</span><br><span class="line">  &#125; else &#123;</span><br><span class="line">    return this.http.post(&#96;user&#x2F;search&#96;, &#123; isvalid: 1 &#125;).pipe(</span><br><span class="line">      map((res) &#x3D;&gt; &#123;</span><br><span class="line">        this.users &#x3D; res as User[];</span><br><span class="line">        return this.users;</span><br><span class="line">      &#125;)</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>app.component.ts<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">this.basicData.getUserList().subscribe(list &#x3D;&gt; &#123;</span><br><span class="line">  this.userlist &#x3D; list;</span><br><span class="line">  this.getUserName();</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p>
<h4 id="Promise转Observable"><a href="#Promise转Observable" class="headerlink" title="Promise转Observable"></a>Promise转Observable</h4><p>起初为了用async await编码以及利用链式调用，很多异步操作封装成了Promise，Promise转Observable用from方法转换<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">import &#123; Observable, of, from &#125; from &#39;rxjs&#39;;</span><br><span class="line">import &#123; map &#125; from &#39;rxjs&#x2F;operators&#39;;</span><br><span class="line"></span><br><span class="line">getCurrentUserToken(): Observable&lt;any&gt; &#123;</span><br><span class="line">  if (this.currentUser) &#123;</span><br><span class="line">      return of(this.currentUser);</span><br><span class="line">  &#125; else &#123;</span><br><span class="line">      return from(this.ipcService.call(&#39;currentuser&#39;)).pipe(</span><br><span class="line">          map(arg &#x3D;&gt; &#123;</span><br><span class="line">              if (arg) &#123;</span><br><span class="line">                  return typeof arg &#x3D;&#x3D;&#x3D; &#39;string&#39; ? JSON.parse(arg) : arg;</span><br><span class="line">              &#125; else &#123;</span><br><span class="line">                  return null;</span><br><span class="line">              &#125;</span><br><span class="line">          &#125;)</span><br><span class="line">      );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h4 id="Observable的链式调用"><a href="#Observable的链式调用" class="headerlink" title="Observable的链式调用"></a>Observable的链式调用</h4><h4 id="操作符"><a href="#操作符" class="headerlink" title="操作符"></a>操作符</h4><p>操作符实在太多了<br><br>实现一个乘10的operator<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">function multiplyByTen(input: Observable&lt;any&gt;): Observable&lt;any&gt; &#123;</span><br><span class="line">  return Rx.Observable.create(observer &#x3D;&gt; &#123;</span><br><span class="line">    input.subscribe(&#123;</span><br><span class="line">      next: (v) &#x3D;&gt; observer.next(10 * v),</span><br><span class="line">      error: (err) &#x3D;&gt; observer.error(err),</span><br><span class="line">      complete: () &#x3D;&gt; observer.complete()</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h5 id="创建操作符-of-from-interval等："><a href="#创建操作符-of-from-interval等：" class="headerlink" title="创建操作符 of from interval等："></a>创建操作符 of from interval等：</h5><p>from  <br><br>转化Promise对象、类数组对象、<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Iteration_protocols#iterable">迭代器对象</a>转化为 Observables<br>将数组转化为 Observable<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">var array &#x3D; [10, 20, 30];</span><br><span class="line">var result &#x3D; Rx.Observable.from(array);</span><br><span class="line">result.subscribe(x &#x3D;&gt; console.log(x));</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 结果如下:</span><br><span class="line">&#x2F;&#x2F; 10 20 30</span><br></pre></td></tr></table></figure><br>将一个无限的迭代器(来自于 generator)转化为 Observable。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">function* generateDoubles(seed) &#123;</span><br><span class="line">  var i &#x3D; seed;</span><br><span class="line">  while (true) &#123;</span><br><span class="line">    yield i;</span><br><span class="line">    i &#x3D; 2 * i; &#x2F;&#x2F; double it</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var iterator &#x3D; generateDoubles(3);</span><br><span class="line">var result &#x3D; Rx.Observable.from(iterator).take(10);</span><br><span class="line">result.subscribe(x &#x3D;&gt; console.log(x));</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; Results in the following:</span><br><span class="line">&#x2F;&#x2F; 3 6 12 24 48 96 192 384 768 1536</span><br></pre></td></tr></table></figure></p>
<h5 id="转化操作符-map-mapTo-merge-mergeMap等："><a href="#转化操作符-map-mapTo-merge-mergeMap等：" class="headerlink" title="转化操作符 map mapTo merge mergeMap等："></a>转化操作符 map mapTo merge mergeMap等：</h5><p>map类似于Array.prototype.map投射函数应用于每个值;mapTo相当于忽略实际订阅接受结果，替换为指定值；<br><br>merge将多个订阅捋直成一个订阅；mergeMap将投射函数应用于每个值，并将多个订阅捋直(啥?不懂)</p>
<h5 id="take"><a href="#take" class="headerlink" title="take"></a>take</h5><h5 id="filter"><a href="#filter" class="headerlink" title="filter"></a>filter</h5><h5 id="tap"><a href="#tap" class="headerlink" title="tap"></a>tap</h5><blockquote>
<p>Perform a side effect for every emission on the source Observable, but return an Observable that is identical to the source.对源可观察对象的每个‘发射’应用一个副作用，但仍然返回与源相同的可观察对象<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">tap&lt;T&gt;(nextOrObserver?: NextObserver&lt;T&gt; | ErrorObserver&lt;T&gt; | CompletionObserver&lt;T&gt; | (</span><br><span class="line">  (x: T) &#x3D;&gt; void),</span><br><span class="line">  error?: (e: any) &#x3D;&gt; void,</span><br><span class="line">  complete?: () &#x3D;&gt; void): MonoTypeOperatorFunction&lt;T&gt;</span><br></pre></td></tr></table></figure><br>参数可以是可观察对象或回调方法<br>常见于附上一个log操作<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">getHeroes(): Observable&lt;Hero[]&gt; &#123;</span><br><span class="line">  return this.http.get&lt;Hero[]&gt;(this.heroesUrl)</span><br><span class="line">    .pipe(</span><br><span class="line">      tap(heroes &#x3D;&gt; this.log(&#96;fetched heroes&#96;)),</span><br><span class="line">      catchError(this.handleError(&#39;getHeroes&#39;))</span><br><span class="line">    ) as Observable&lt;Hero[]&gt;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h5 id="BehaviorSubject"><a href="#BehaviorSubject" class="headerlink" title="BehaviorSubject"></a>BehaviorSubject</h5><p>Subject 的作用是实现 Observable 的多播。由于其 Observable execution 是在多个订阅者之间共享的，所以它可以确保每个订阅者接收到的数据绝对相等。不仅使用 Subject 可以实现多播，RxJS 还提供了一些 Subject 的变体以应对不同场景，那就是：BehaviorSubject、ReplaySubject 以及 AsyncSubject。</p>
</blockquote>
<p>BehaviorSubject 的特性就是它会存储“当前”的值。这意味着你始终可以直接拿到 BehaviorSubject 最后一次发出的值<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">const subject &#x3D; new Rx.BehaviorSubject(Math.random());</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 订阅者 A</span><br><span class="line">subject.subscribe((data) &#x3D;&gt; &#123;</span><br><span class="line">  console.log(&#39;Subscriber A:&#39;, data);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">subject.next(Math.random());</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 订阅者 B</span><br><span class="line">subject.subscribe((data) &#x3D;&gt; &#123;</span><br><span class="line">  console.log(&#39;Subscriber B:&#39;, data);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">subject.next(Math.random());</span><br></pre></td></tr></table></figure></p>
<h4 id="toPromise-deprecated"><a href="#toPromise-deprecated" class="headerlink" title="toPromise deprecated"></a>toPromise deprecated</h4><p>Rxjs v8版本后toPromise方法弃用， 原因基于Observable与Promise前后返回值不一致的issue<br><a target="_blank" rel="noopener" href="https://indepth.dev/posts/1287/rxjs-heads-up-topromise-is-being-deprecated">RxJS heads up: toPromise is being deprecated</a></p>
<p>曾常使用的<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">public async loadCategories() &#123;</span><br><span class="line">  this.categories &#x3D; await this.inventoryService</span><br><span class="line">    .getCategories()</span><br><span class="line">    .toPromise()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>变更为<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">import &#123; lastValueFrom &#125; from &#39;rxjs&#39;;</span><br><span class="line">...</span><br><span class="line">public async loadCategories() &#123;</span><br><span class="line">  const categories$ &#x3D; this.inventoryService.getCategories();</span><br><span class="line">  this.categories &#x3D; await lastValueFrom(categories$);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><a target="_blank" rel="noopener" href="http://www.proyy.com/7079091621215600677.html">rxjs 6中被废弃的toPromise</a></p>
<blockquote>
<p>The lastValueFrom is almost exactly the same as toPromise() meaning that it will resolve with the last value that has arrived when the Observable completes, but with the difference in behavior when Observable completes without emitting a single value. When Observable completes without emitting, toPromise() will successfully resolve with undefined (thus the return type change), while the lastValueFrom will reject with the EmptyError. Thus, the return type of the lastValueFrom is Promise<T>, just like toPromise() had in RxJS 6.lastValueFrom几乎与toPromise() 一个意思，在Observable complete的时候，lastValueFrom会带着Observable最后一个产生的值resolve，但是不同之处在于Observable不带值complete的情况下。<br>当Observable不产生值并且complete时，toPromise方法会成功resolve为undefined（也就是返回类型改变了，不再是T），但是lastValueFrom会带着EmptyErrorreject。因此，就如同在RxJS 6里一样，它的返回类型是Promise<T>。</p>
<p>However, you might want to take the first value as it arrives without waiting an Observable to complete, thus you can use firstValueFrom. The firstValueFrom will resolve a Promise with the first value that was emitted from the Observable and will immediately unsubscribe to retain resources. The firstValueFrom will also reject with an EmptyError if the Observable completes with no values emitted.然而，你可能不等Observable complete，想要使用其第一个生产的值，因此可以用firstValueFrom。firstValueFrom会将Observable第一个生产的值resolve并且立刻unsubscribe保存该值。firstValueFrom也会在Observable没有值产生而complete的情况下带着 EmptyErrorreject。</p>
</blockquote>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://qqstone.github.io/qqsnote/2020/03/20/SavePassword/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/qqsnote/images/avatar.gif">
      <meta itemprop="name" content="QQs">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="QQs'Note">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/qqsnote/2020/03/20/SavePassword/" class="post-title-link" itemprop="url">用户密码应该如何存储</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-03-20 12:35:05" itemprop="dateCreated datePublished" datetime="2020-03-20T12:35:05+08:00">2020-03-20</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-07-05 10:07:52" itemprop="dateModified" datetime="2025-07-05T10:07:52+08:00">2025-07-05</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/qqsnote/categories/%E7%AE%97%E6%B3%95/" itemprop="url" rel="index"><span itemprop="name">算法</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <blockquote>
<p>风险一 用户数据库泄露导致用户密码泄露<br><br>风险二 网站管理人员、数据库管理员获取用户密码</p>
</blockquote>
<p><a target="_blank" rel="noopener" href="http://blog.jianguoyun.com/?p=438">如何安全的存储密码</a><br>要点如下</p>
<ul>
<li>加密（对称加密）存储无法防止风险二</li>
<li>通用的以hash（单向散列算法如md5）获取的 digest（摘要）无法还原完整的原数据，但是存在rainbow table的隐患</li>
</ul>
<blockquote>
<p>rainbow table: 多数人所使用的密码为常见的组合，攻击者可以将所有密码的常见组合进行单向哈希，得到一个摘要组合, 然后与数据库中的摘要进行比对即可获得对应的密码(QQs理解的是，这里的密码或许与用户密码并不完全一致，但是可以通过网站的摘要核对)。这个摘要组合也被称为rainbow table。在当今计算机处理能力下，这种破译方式是可行而且可取的。</p>
<p><a target="_blank" rel="noopener" href="https://www.cmd5.com/">在线彩虹表</a></p>
</blockquote>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">明文</th>
<th style="text-align:left">摘要(32bit MD5)</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">111111</td>
<td style="text-align:left">96e79218965eb72c92a549dd5a330112</td>
</tr>
<tr>
<td style="text-align:left">123456</td>
<td style="text-align:left">E10ADC3949BA59ABBE56E057F20F883E</td>
</tr>
<tr>
<td style="text-align:left">000000</td>
<td style="text-align:left">670b14728ad9902aecba32e22fa4f6bd</td>
</tr>
<tr>
<td style="text-align:left">…</td>
<td style="text-align:left">…</td>
</tr>
</tbody>
</table>
</div>
<ul>
<li><p>Salted Hash 改进的单项hash算法，明文密码混入“随机因素“，然后进行单向哈希后存储，其结果是rainbow table因salt不同而不同</p>
<p>  QQs按：做到这个份上，应该足够安全了，然而据说随着显卡并行计算能力的发展，存在破解出rainbow table的可能，我想可能是暴力破解salt。因此有了Salted Hash的各种改进方案</p>
</li>
<li>慢哈希 如bcrypt，迭代执行多次hash运算，现实是增加了计算时间，使得暴力破解实际不可行</li>
</ul>
<blockquote>
<p>如设置 bcrypt 计算一次需要 0.5 秒，遍历 6 位的简单密码，需要的时间为：((26 * 2 + 10)^6) / 2 秒，约 900 年。</p>
</blockquote>
<p><a target="_blank" rel="noopener" href="https://github.com/dcodeIO/bcrypt.js/blob/master/src/bcrypt.js">bcrypt</a></p>
<p>文章略老，基于以上原理，单向hash算法有了更多的发展</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://qqstone.github.io/qqsnote/2020/03/16/DockerBuild/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/qqsnote/images/avatar.gif">
      <meta itemprop="name" content="QQs">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="QQs'Note">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/qqsnote/2020/03/16/DockerBuild/" class="post-title-link" itemprop="url">Dockerfile</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-03-16 17:00:21" itemprop="dateCreated datePublished" datetime="2020-03-16T17:00:21+08:00">2020-03-16</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-07-05 10:07:52" itemprop="dateModified" datetime="2025-07-05T10:07:52+08:00">2025-07-05</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/qqsnote/categories/%E5%AE%B9%E5%99%A8/" itemprop="url" rel="index"><span itemprop="name">容器</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h4 id="docker-build"><a href="#docker-build" class="headerlink" title="docker build"></a>docker build</h4><p>Dockerfile是构建docker的脚本，<a target="_blank" rel="noopener" href="https://hub.docker.com/">docker Hub</a>很多应用容器以Dockerfile方式分享。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker build -t tomcat8.5.51 .</span><br></pre></td></tr></table></figure><br>命令格式 docker build [option] [url]</p>
<ul>
<li>选项-t tomcat8.5.51将build完成的镜像命名为tomcat8.5.51</li>
<li>. 是当前目录,即执行当前目录下的Dockerfile</li>
</ul>
<p>执行完成后可在 docker images中查到tomcat8.5.51</p>
<h4 id="docker-compose"><a href="#docker-compose" class="headerlink" title="docker compose"></a>docker compose</h4><p>Compose 定位是 「定义和运行多个 Docker 容器的应用（Defining and running multi-container Docker applications）」</p>
<p>我们知道使用一个 Dockerfile 模板文件，可以让用户很方便的定义一个单独的应用容器。然而，在日常工作中，经常会碰到需要<strong>多个容器</strong>相互配合来完成某项任务的情况。例如,要实现一个 Web 项目，除了 Web 服务容器本身，往往还需要再加上后端的数据库服务容器，甚至还包括负载均衡容器等。</p>
<p>Compose 恰好满足了这样的需求。它允许用户通过一个单独的 docker-compose.yml 模板文件（YAML 格式）来定义一组相关联的应用容器为一个项目（project）。</p>
<p>安装docker-compose<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ sudo curl -L &quot;https:&#x2F;&#x2F;github.com&#x2F;docker&#x2F;compose&#x2F;releases&#x2F;download&#x2F;v2.17.2&#x2F;docker-compose-$(uname -s)-$(uname -m)&quot; -o &#x2F;usr&#x2F;local&#x2F;bin&#x2F;docker-compose</span><br><span class="line"></span><br><span class="line">$ sudo chmod +x &#x2F;usr&#x2F;local&#x2F;bin&#x2F;docker-compose</span><br><span class="line">$ sudo ln -s &#x2F;usr&#x2F;local&#x2F;bin&#x2F;docker-compose &#x2F;usr&#x2F;bin&#x2F;docker-compose</span><br></pre></td></tr></table></figure><br><a target="_blank" rel="noopener" href="https://www.runoob.com/docker/docker-compose.html">菜鸟教程</a></p>
<h4 id="使用docker为某项开发封装开发环境（存目）"><a href="#使用docker为某项开发封装开发环境（存目）" class="headerlink" title="使用docker为某项开发封装开发环境（存目）"></a>使用docker为某项开发封装开发环境（存目）</h4>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://qqstone.github.io/qqsnote/2020/03/09/Electron-Cpp-Addon/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/qqsnote/images/avatar.gif">
      <meta itemprop="name" content="QQs">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="QQs'Note">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/qqsnote/2020/03/09/Electron-Cpp-Addon/" class="post-title-link" itemprop="url">Electron C++ 插件</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-03-09 13:24:15" itemprop="dateCreated datePublished" datetime="2020-03-09T13:24:15+08:00">2020-03-09</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-07-05 10:07:52" itemprop="dateModified" datetime="2025-07-05T10:07:52+08:00">2025-07-05</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/qqsnote/categories/%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF/" itemprop="url" rel="index"><span itemprop="name">前端技术</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><a target="_blank" rel="noopener" href="http://nodejs.cn/api/addons.html">Node.js 官方文档 C++ Addon</a></p>
<blockquote>
<p>基于Node.js c++ Addons机制对接动态链接库，以实现现有Node.js接口外的底层访问</p>
<p>“Chromium和Node.js大部分的代码都是用c++实现的，所以理所当然地也可以用C++为它们开发插件。” ——— <a target="_blank" rel="noopener" href="https://systemisbusy.info/blog/2019/09/03/%E7%BB%99electron%E5%81%9Ac%E5%BC%80%E5%8F%91%E7%9A%84%E9%82%A3%E4%BA%9B%E5%9D%91/">&lt;给electron做c开发的那些坑&gt;</a></p>
</blockquote>
<h4 id="node-gyp"><a href="#node-gyp" class="headerlink" title="node-gyp"></a><a target="_blank" rel="noopener" href="https://github.com/nodejs/node-gyp">node-gyp</a></h4><p>GYP is short for ‘Generate Your Projects’，顾名思义，GYP工具用于生成在相应平台上的项目，如在windows平台上生成Visual Studio解决方案(.sln), Mac下则是XCode项目配置以及Scons工具。</p>
<blockquote>
<p>node-gyp is a cross-platform command-line tool written in Node.js for compiling native addon modules for Node.js. It contains a fork of the gyp project that was previously used by the Chromium team, extended to support the development of Node.js native addons.<br><br>node-gyp 用于编译nodejs原生addon模块的，跨平台的命令行工具，fork了Chromium team使用的gyp项目，该项目用户开发Node.js C++插件<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install -g node-gyp</span><br><span class="line">npm install --global --production windows-build-tools</span><br></pre></td></tr></table></figure><br>Caution！安装过程中出现 issue#147 <a target="_blank" rel="noopener" href="https://github.com/felixrieseberg/windows-build-tools/issues/147">Hangs on Python is already installed, not installing again.</a> 原因是VisualStudio有进程占用了相关工具链，结束VS进程并重新安装windows-build-tools即可</p>
</blockquote>
<p>当前版本node-gyp使用 vs2017 build tools而不支持2019版本，下文中记述了workaround</p>
<p>python依赖</p>
<p>支持v2.7, v3.5, v3.6, or v3.7 v3.8 （QQs已实践2.7，3.8）<br><br>如果安装了多个版本 应使用下述命令注明python路径<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">node-gyp &lt;command&gt; --python &#x2F;path&#x2F;to&#x2F;executable&#x2F;python</span><br></pre></td></tr></table></figure><br>抑或修改npm调用设置<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm config set python &#x2F;path&#x2F;to&#x2F;executable&#x2F;python</span><br></pre></td></tr></table></figure><br>否则会调用默认版本（环境变量Path中指向的版本）</p>
<p>binding.gyp<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;targets&quot;: [</span><br><span class="line">    &#123;</span><br><span class="line">      &quot;target_name&quot;: &quot;hello&quot;,</span><br><span class="line">      &quot;sources&quot;: [ &quot;src&#x2F;hello.cc&quot; ]</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>关于gyp配置，但凡要比hello world走的远，都需要阅读下列文档</p>
<ul>
<li><a target="_blank" rel="noopener" href="http://nodeschool.io/#goingnative">“Going Native” a nodeschool.io tutorial</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/nodejs/node/tree/master/test/addons/hello-world">“Hello World” node addon example</a></li>
<li><a target="_blank" rel="noopener" href="https://gyp.gsrc.io/docs/UserDocumentation.md">gyp user documentation</a></li>
<li><a target="_blank" rel="noopener" href="https://gyp.gsrc.io/docs/InputFormatReference.md">gyp input format reference</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/nodejs/node-gyp/wiki/%22binding.gyp%22-files-out-in-the-wild"><em>“binding.gyp” files out in the wild</em> wiki page</a><br>执行配置和构建<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">node-gyp configure</span><br></pre></td></tr></table></figure>
为当前平台生成相应的项目构建文件。 这会在 build/ 目录下生成一个 Makefile 文件（Unix 平台）或 vcxproj 文件（Windows平台）。<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">node-gyp build</span><br></pre></td></tr></table></figure>
生成编译后的 *.node 的文件。 它会被放进 build/Release/ 目录。<h4 id="Electron-rebuild"><a href="#Electron-rebuild" class="headerlink" title="Electron-rebuild"></a><a target="_blank" rel="noopener" href="https://github.com/electron/electron-rebuild">Electron-rebuild</a></h4>开源社区提供，基于node-gyp进一步封装的工具，用于Electron原生模块的编译，不需要node-gyp的一些额外配置（头文件下载地址、版本映射等）<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i electron-rebuild --save-dev</span><br></pre></td></tr></table></figure>
package.json<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&quot;scripts&quot;: &#123;</span><br><span class="line">    ...</span><br><span class="line">    &quot;rebuild&quot;: &quot;electron-rebuild -f -w yourmodule&quot;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="node-pre-gyp"><a href="#node-pre-gyp" class="headerlink" title="node-pre-gyp"></a><a target="_blank" rel="noopener" href="https://github.com/mapbox/node-pre-gyp">node-pre-gyp</a></h4><blockquote>
<p>node-pre-gyp makes it easy to publish and install Node.js C++ addons from binaries.<br><br>node-pre-gyp stands between npm and node-gyp and offers a cross-platform method of binary deployment.</p>
</blockquote>
<p>Features :</p>
<ul>
<li>使用node-pre-gyp命令行工具安装依赖二进制C++模块（install your package’s C++ module from a binary）</li>
<li>使用node-pre-gyp模块动态引入js模块 require(‘node-pre-gyp’).find</li>
<li>其他开发命令如 test, publish (详见—help)</li>
</ul>
<p>配置package.json</p>
<ul>
<li>依赖 + node-pre-gyp</li>
<li>开发依赖 + aws-sdk</li>
<li>install命令脚本 node-pre-gyp install —fallback-to-build</li>
<li>声明需要的二进制模块<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&quot;dependencies&quot;  : &#123;</span><br><span class="line">    &quot;node-pre-gyp&quot;: &quot;0.6.x&quot;</span><br><span class="line">&#125;,</span><br><span class="line">&quot;devDependencies&quot;: &#123;</span><br><span class="line">    &quot;aws-sdk&quot;: &quot;2.x&quot;</span><br><span class="line">&#125;</span><br><span class="line">&quot;scripts&quot;: &#123;</span><br><span class="line">    &quot;install&quot;: &quot;node-pre-gyp install --fallback-to-build&quot;</span><br><span class="line">&#125;,</span><br><span class="line">&quot;binary&quot;: &#123;</span><br><span class="line">    &quot;module_name&quot;: &quot;your_module&quot;,</span><br><span class="line">    &quot;module_path&quot;: &quot;.&#x2F;lib&#x2F;binding&#x2F;&quot;,</span><br><span class="line">    &quot;host&quot;: &quot;https:&#x2F;&#x2F;your_module.s3-us-west-1.amazonaws.com&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
这就是为什么英国人的项目使用npm install —build-from-source来打包addon的原理</li>
</ul>
<p>导学列表：</p>
<ul>
<li>编译一个hello QQs C++ Addon的实践</li>
<li>可以交互的manager插件</li>
<li><del>为什么CSActivation可以用 npm install —build-from-source 打包插件</li>
</ul>
<p>参考 <a target="_blank" rel="noopener" href="https://juejin.im/post/5c5ee440f265da2deb6a82bb">Electron-利用DLL实现不可能</a></p>
<h4 id="编译方法"><a href="#编译方法" class="headerlink" title="编译方法"></a>编译方法</h4><p><a target="_blank" rel="noopener" href="https://github.com/nodejs/node-addon-examples">官方example</a></p>
<ul>
<li>nan: C++-based abstraction between Node and direct V8 APIs.</li>
<li>napi: C-based API guaranteeing ABI stability across different node versions as well as JavaScript engines.</li>
<li>node-addon-api: header-only C++ wrapper classes which simplify the use of the C-based N-API.</li>
</ul>
<p>文件结构</p>
<p>hello.cc<br><br>binding.gyp<br><br>package.json<br></p>
<p>编译后的二进制插件的文件扩展名是 .node</p>
<p>所有的 Node.js 插件必须导出一个如下模式的初始化函数：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">void Initialize(Local&lt;Object&gt; exports);</span><br><span class="line">NODE_MODULE(NODE_GYP_MODULE_NAME, Initialize)</span><br></pre></td></tr></table></figure><br>使用 node-gyp 构建插件时，使用宏 NODE_GYP_MODULE_NAME 作为 NODE_MODULE() 的第一个参数将确保会将最终二进制文件的名称传给 NODE_MODULE()。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">node-gyp configure</span><br></pre></td></tr></table></figure>
<p>为当前平台生成相应的项目构建文件。 这会在 build/ 目录下生成一个 Makefile 文件（Unix 平台）或 vcxproj 文件（Windows平台）。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">node-gyp build</span><br></pre></td></tr></table></figure><br>生成编译后的 *.node 的文件。 它会被放进 build/Release/ 目录。</p>
<h4 id="关于VS2019-找不到C-build-tool的问题"><a href="#关于VS2019-找不到C-build-tool的问题" class="headerlink" title="关于VS2019 找不到C++ build tool的问题"></a>关于VS2019 找不到C++ build tool的问题</h4><p>私以为比较好的workaround是创建一个用2017替代2019的shim,详见<a target="_blank" rel="noopener" href="https://github.com/nodejs/node-gyp/issues/1663#issuecomment-480762647">node-gyp issue#1663</a><br><br>经实践可行</p>
<h4 id="关于rebuild-ffi-error的问题"><a href="#关于rebuild-ffi-error的问题" class="headerlink" title="关于rebuild ffi error的问题"></a>关于rebuild ffi error的问题</h4><p><a target="_blank" rel="noopener" href="https://github.com/electron/electron-rebuild/issues/308">electron-rebuild issue#308</a></p>
<h4 id="需求：使用Crypt32加密（编码-解码）"><a href="#需求：使用Crypt32加密（编码-解码）" class="headerlink" title="需求：使用Crypt32加密（编码/解码）"></a>需求：使用Crypt32加密（编码/解码）</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i ffi-napi ref ref-struct</span><br></pre></td></tr></table></figure>
<p>后面两个包是映射C语言类型的接口<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">const fs &#x3D; require(&quot;fs&quot;);</span><br><span class="line">const ref &#x3D; require(&quot;ref&quot;);</span><br><span class="line">const ffi &#x3D; require(&quot;ffi-napi&quot;);</span><br><span class="line">const Struct &#x3D; require(&quot;ref-struct&quot;);</span><br><span class="line"></span><br><span class="line">const DATA_BLOB &#x3D; Struct(&#123;</span><br><span class="line">    cbData: ref.types.uint32,</span><br><span class="line">    pbData: ref.refType(ref.types.byte)</span><br><span class="line">&#125;);</span><br><span class="line">const PDATA_BLOB &#x3D; new ref.refType(DATA_BLOB);</span><br><span class="line">const Crypto &#x3D; new ffi.Library(&#39;Crypt32&#39;, &#123;</span><br><span class="line">    &quot;CryptUnprotectData&quot;: [&#39;bool&#39;, [PDATA_BLOB, &#39;string&#39;, &#39;string&#39;, &#39;void *&#39;, &#39;string&#39;, &#39;int&#39;, PDATA_BLOB]],</span><br><span class="line">    &quot;CryptProtectData&quot; : [&#39;bool&#39;, [PDATA_BLOB, &#39;string&#39;, &#39;string&#39;, &#39;void *&#39;, &#39;string&#39;, &#39;int&#39;, PDATA_BLOB]]</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">function encrypt(plaintext) &#123;</span><br><span class="line">    let buf &#x3D; Buffer.from(plaintext, &#39;utf16le&#39;);</span><br><span class="line">    let dataBlobInput &#x3D; new DATA_BLOB();</span><br><span class="line">    dataBlobInput.pbData &#x3D; buf;</span><br><span class="line">    dataBlobInput.cbData &#x3D; buf.length;</span><br><span class="line">    let dataBlobOutput &#x3D; ref.alloc(DATA_BLOB);</span><br><span class="line">    let result &#x3D; Crypto.CryptProtectData(dataBlobInput.ref(), null, null, null, null, 0, dataBlobOutput);    </span><br><span class="line">    let outputDeref &#x3D; dataBlobOutput.deref();</span><br><span class="line">    let ciphertext &#x3D; ref.reinterpret(outputDeref.pbData, outputDeref.cbData, 0);</span><br><span class="line">    return ciphertext.toString(&#39;base64&#39;);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">function decrypt(ciphertext) &#123;</span><br><span class="line">    let buf &#x3D; Buffer.from(ciphertext, &#39;base64&#39;);</span><br><span class="line">    let dataBlobInput &#x3D; new DATA_BLOB();</span><br><span class="line">    dataBlobInput.pbData &#x3D; buf;</span><br><span class="line">    dataBlobInput.cbData &#x3D; buf.length;</span><br><span class="line">    let dataBlobOutput &#x3D; ref.alloc(DATA_BLOB);</span><br><span class="line">    let result &#x3D; Crypto.CryptUnprotectData(dataBlobInput.ref(), null, null, null, null, 0, dataBlobOutput);</span><br><span class="line">    let outputDeref &#x3D; dataBlobOutput.deref();</span><br><span class="line">    let plaintext &#x3D; ref.reinterpret(outputDeref.pbData, outputDeref.cbData, 0);</span><br><span class="line">    return plaintext.toString(&#39;utf16le&#39;);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">let text &#x3D; &quot;有死之荣，无生之耻&quot;;</span><br><span class="line">let ciphertext &#x3D; encrypt(text);</span><br><span class="line">let plaintext &#x3D; decrypt(ciphertext);</span><br><span class="line"></span><br><span class="line">console.log(&quot;text:&quot;, text);</span><br><span class="line">console.log(&quot;ciphertext:&quot;, ciphertext);</span><br><span class="line">console.log(&quot;plaintext:&quot;, plaintext);</span><br></pre></td></tr></table></figure><br>以上代码白嫖自<a target="_blank" rel="noopener" href="https://github.com/node-ffi/node-ffi/issues/355#issuecomment-338391498">Github node-ffi Issue#355 comments from Wackerberg</a> 侵删</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://qqstone.github.io/qqsnote/2020/03/04/ElementUI/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/qqsnote/images/avatar.gif">
      <meta itemprop="name" content="QQs">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="QQs'Note">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/qqsnote/2020/03/04/ElementUI/" class="post-title-link" itemprop="url">ElementUI</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-03-04 15:41:08" itemprop="dateCreated datePublished" datetime="2020-03-04T15:41:08+08:00">2020-03-04</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-07-05 10:07:52" itemprop="dateModified" datetime="2025-07-05T10:07:52+08:00">2025-07-05</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <blockquote>
<p><a target="_blank" rel="noopener" href="https://element.eleme.cn/">ElementUI</a>, a Vue 2.0 based component library</p>
<h3 id="Caution-限定的引入顺序："><a href="#Caution-限定的引入顺序：" class="headerlink" title="Caution! 限定的引入顺序："></a>Caution! 限定的引入顺序：</h3><p>UI.css —&gt; template —&gt; vue.js —&gt; UI.js —&gt; vue controller <br><br>其中 template 和 vue.js 交换没有影响</p>
<h4 id="响应式栅格布局"><a href="#响应式栅格布局" class="headerlink" title="响应式栅格布局"></a>响应式栅格布局</h4><p>基础栅格，基于24划分。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-row&gt;</span><br><span class="line">  &lt;el-col :span&#x3D;&quot;6&quot;&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;grid-content bg-purple&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">  &lt;&#x2F;el-col&gt;</span><br><span class="line">  &lt;el-col :span&#x3D;&quot;6&quot;&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;grid-content bg-purple-light&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">  &lt;&#x2F;el-col&gt;</span><br><span class="line">  &lt;el-col :span&#x3D;&quot;6&quot;&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;grid-content bg-purple&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">  &lt;&#x2F;el-col&gt;</span><br><span class="line">  &lt;el-col :span&#x3D;&quot;6&quot;&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;grid-content bg-purple-light&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">  &lt;&#x2F;el-col&gt;</span><br><span class="line">&lt;&#x2F;el-row&gt;</span><br></pre></td></tr></table></figure><br>间隔（ :gutter ）<br><br>栅格之间的水平间距<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-row :gutter&#x3D;&quot;20&quot;&gt;</span><br><span class="line">  ...</span><br><span class="line">&lt;&#x2F;el-col&gt;</span><br></pre></td></tr></table></figure><br>偏移（ :offset ）<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-col :span&#x3D;&quot;6&quot; :offset&#x3D;&quot;6&quot;&gt;&lt;div class&#x3D;&quot;grid-content&quot;&gt;&lt;&#x2F;div&gt;&lt;&#x2F;el-col&gt;</span><br></pre></td></tr></table></figure><br>弹性盒子（ flex ）<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-row type&#x3D;&quot;flex&quot; justify&#x3D;&quot;center&quot; align&#x3D;&quot;center&quot;&gt;</span><br><span class="line">    ...</span><br><span class="line">&lt;&#x2F;el-row&gt;</span><br></pre></td></tr></table></figure><br>水平值：start, center, end, space-between, space-around<br><br>垂直值：top, middle, bottom<br></p>
</blockquote>
<p>响应式( Responsive )<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-col :xs&#x3D;&quot;4&quot; :sm&#x3D;&quot;6&quot; :md&#x3D;&quot;8&quot; :lg&#x3D;&quot;9&quot; :xl&#x3D;&quot;11&quot;&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;grid-content&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;el-col&gt;</span><br></pre></td></tr></table></figure><br>隐藏</p>
<ul>
<li>hidden-xs-only - 当视口在 xs 尺寸时隐藏</li>
<li>hidden-sm-only - 当视口在 sm 尺寸时隐藏</li>
<li>hidden-sm-and-down - 当视口在 sm 及以下尺寸时隐藏</li>
<li>hidden-sm-and-up - 当视口在 sm 及以上尺寸时隐藏<h4 id="Form表单"><a href="#Form表单" class="headerlink" title="Form表单"></a>Form表单</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id&#x3D;&quot;app&quot;&gt;</span><br><span class="line">    &lt;el-form ref&#x3D;&quot;form&quot; :model&#x3D;&quot;formData&quot; :rules&#x3D;&quot;formValidators&quot; label-width&#x3D;&quot;80px&quot;&gt;</span><br><span class="line">        &lt;el-form-item label&#x3D;&quot;title&quot; prop&#x3D;&quot;title&quot;&gt;</span><br><span class="line">            &lt;el-input v-model&#x3D;&quot;formData.title&quot;&gt;&lt;&#x2F;el-input&gt;</span><br><span class="line">        &lt;&#x2F;el-form-item&gt;</span><br><span class="line">        &lt;el-form-item label&#x3D;&quot;Date&quot;&gt;</span><br><span class="line">            &lt;el-col :span&#x3D;&quot;11&quot;&gt;</span><br><span class="line">                &lt;el-date-picker type&#x3D;&quot;date&quot; placeholder&#x3D;&quot;Pick a date&quot; v-model&#x3D;&quot;formData.date1&quot; style&#x3D;&quot;width: 100%;&quot;&gt;</span><br><span class="line">                &lt;&#x2F;el-date-picker&gt;</span><br><span class="line">            &lt;&#x2F;el-col&gt;</span><br><span class="line">            &lt;el-col class&#x3D;&quot;line&quot; :span&#x3D;&quot;2&quot;&gt;-&lt;&#x2F;el-col&gt;</span><br><span class="line">            &lt;el-col :span&#x3D;&quot;11&quot;&gt;</span><br><span class="line">                &lt;el-time-picker placeholder&#x3D;&quot;Pick a time&quot; v-model&#x3D;&quot;formData.date2&quot; style&#x3D;&quot;width: 100%;&quot;&gt;</span><br><span class="line">                &lt;&#x2F;el-time-picker&gt;</span><br><span class="line">            &lt;&#x2F;el-col&gt;</span><br><span class="line">        &lt;&#x2F;el-form-item&gt;</span><br><span class="line">        &lt;el-form-item label&#x3D;&quot;Subscribe&quot;&gt;</span><br><span class="line">            &lt;el-switch v-model&#x3D;&quot;formData.isSubscribe&quot;&gt;&lt;&#x2F;el-switch&gt;</span><br><span class="line">        &lt;&#x2F;el-form-item&gt;</span><br><span class="line">        &lt;el-form-item label&#x3D;&quot;TAG&quot;&gt;</span><br><span class="line">            &lt;el-checkbox-group v-model&#x3D;&quot;formData.tags&quot;&gt;</span><br><span class="line">                &lt;el-checkbox label&#x3D;&quot;Activity&quot; name&#x3D;&quot;type&quot;&gt;&lt;&#x2F;el-checkbox&gt;</span><br><span class="line">                &lt;el-checkbox label&#x3D;&quot;Bonus&quot; name&#x3D;&quot;type&quot;&gt;&lt;&#x2F;el-checkbox&gt;</span><br><span class="line">                &lt;el-checkbox label&#x3D;&quot;Online&quot; name&#x3D;&quot;type&quot;&gt;&lt;&#x2F;el-checkbox&gt;</span><br><span class="line">            &lt;&#x2F;el-checkbox-group&gt;</span><br><span class="line">        &lt;&#x2F;el-form-item&gt;</span><br><span class="line">        &lt;el-form-item label&#x3D;&quot;Comments&quot;&gt;</span><br><span class="line">            &lt;el-input type&#x3D;&quot;textarea&quot; v-model&#x3D;&quot;formData.Comments&quot;&gt;&lt;&#x2F;el-input&gt;</span><br><span class="line">        &lt;&#x2F;el-form-item&gt;</span><br><span class="line">        &lt;el-form-item&gt;</span><br><span class="line">            &lt;el-button type&#x3D;&quot;primary&quot; @click&#x3D;&quot;onSubmit&quot;&gt;Create&lt;&#x2F;el-button&gt;</span><br><span class="line">            &lt;el-button&gt;Cancel&lt;&#x2F;el-button&gt;</span><br><span class="line">        &lt;&#x2F;el-form-item&gt;</span><br><span class="line">    &lt;&#x2F;el-form&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">var Main &#x3D; &#123;</span><br><span class="line">    data() &#123;</span><br><span class="line">        return &#123;</span><br><span class="line">            formData: &#123;</span><br><span class="line">                title: &#39;&#39;,</span><br><span class="line">                date1: &#39;&#39;,</span><br><span class="line">                date2: &#39;&#39;,</span><br><span class="line">                isSubscribe: false,</span><br><span class="line">                tags: [],</span><br><span class="line">                Comments: &#39;&#39;</span><br><span class="line">            &#125;,</span><br><span class="line">            formValidators: &#123;</span><br><span class="line">                title: [&#123;</span><br><span class="line">                        required: true,</span><br><span class="line">                        message: &#39;请输入标题&#39;,</span><br><span class="line">                        trigger: &#39;blur&#39;</span><br><span class="line">                    &#125;,</span><br><span class="line">                    &#123;</span><br><span class="line">                        min: 3,</span><br><span class="line">                        max: 5,</span><br><span class="line">                        message: &#39;长度在 3 到 5 个字符&#39;,</span><br><span class="line">                        trigger: &#39;blur&#39;</span><br><span class="line">                    &#125;</span><br><span class="line">                ]</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">        onSubmit(event) &#123;</span><br><span class="line">            this.$refs[formName].validate((valid) &#x3D;&gt; &#123;</span><br><span class="line">                if (valid) &#123;</span><br><span class="line">                    console.log(event);</span><br><span class="line">                    console.log(this.formData)</span><br><span class="line">                &#125; else &#123;</span><br><span class="line">                    console.log(&#39;validate fail&#39;);</span><br><span class="line">                    return false;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;);</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">var Ctor &#x3D; Vue.extend(Main)</span><br><span class="line">new Ctor().$mount(&#39;#app&#39;)</span><br></pre></td></tr></table></figure>
以上几乎就是官网的example，官方文档未给出submit事件触发form action的表单提交方式，api文档中未提及action属性。有资料表示存在“ this.$refs.formName.submit ”（QQs未验证）<blockquote>
<p>这种方式也造成了做表单校验时，要在提交方法中调用form.validate，form.validate又是个异步操作，后续动作（一般是http post）要放在其回调函数中<br><br>而在我大Angular的响应式表单中，ngSubmit监听FormGroup当前值，在校验不通过时将禁用type=”submit”提交按钮</p>
</blockquote>
</li>
</ul>
<p>如上例所示，表单验证需添加表单的:rules属性，表单项的prop属性（注意在label，值同name），提交方法中调用form.validate</p>
<h4 id="Table"><a href="#Table" class="headerlink" title="Table"></a>Table</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;el-table :data&#x3D;&quot;tableData&quot; border style&#x3D;&quot;width: 100%&quot;&gt;</span><br><span class="line">        &lt;el-table-column fixed prop&#x3D;&quot;date&quot; label&#x3D;&quot;日期&quot; width&#x3D;&quot;150&quot;&gt;</span><br><span class="line">        &lt;&#x2F;el-table-column&gt;</span><br><span class="line">        &lt;el-table-column prop&#x3D;&quot;name&quot; label&#x3D;&quot;姓名&quot; width&#x3D;&quot;120&quot;&gt;</span><br><span class="line">        &lt;&#x2F;el-table-column&gt;</span><br><span class="line">        &lt;el-table-column prop&#x3D;&quot;address&quot; label&#x3D;&quot;地址&quot; width&#x3D;&quot;300&quot;&gt;</span><br><span class="line">        &lt;&#x2F;el-table-column&gt;</span><br><span class="line">        &lt;el-table-column prop&#x3D;&quot;zip&quot; label&#x3D;&quot;邮编&quot; width&#x3D;&quot;120&quot;&gt;</span><br><span class="line">        &lt;&#x2F;el-table-column&gt;</span><br><span class="line">        &lt;el-table-column fixed&#x3D;&quot;right&quot; label&#x3D;&quot;操作&quot; width&#x3D;&quot;100&quot;&gt;</span><br><span class="line">            &lt;template slot-scope&#x3D;&quot;scope&quot;&gt;</span><br><span class="line">                &lt;el-button @click&#x3D;&quot;handleClick(scope.row)&quot; type&#x3D;&quot;text&quot; size&#x3D;&quot;small&quot;&gt;查看&lt;&#x2F;el-button&gt;</span><br><span class="line">                &lt;el-button type&#x3D;&quot;text&quot; size&#x3D;&quot;small&quot;&gt;编辑&lt;&#x2F;el-button&gt;</span><br><span class="line">            &lt;&#x2F;template&gt;</span><br><span class="line">        &lt;&#x2F;el-table-column&gt;</span><br><span class="line">    &lt;&#x2F;el-table&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">var Main &#x3D; &#123;</span><br><span class="line">    data() &#123;</span><br><span class="line">        return &#123;</span><br><span class="line">            tableData: [&#123;</span><br><span class="line">                date: &#39;2016-05-02&#39;,</span><br><span class="line">                name: &#39;王小虎&#39;,</span><br><span class="line">                address: &#39;上海市普陀区金沙江路 1518 弄&#39;,</span><br><span class="line">                zip: 200333</span><br><span class="line">            &#125;, &#123;</span><br><span class="line">                date: &#39;2016-05-04&#39;,</span><br><span class="line">                name: &#39;王大虎&#39;,</span><br><span class="line">                address: &#39;上海市普陀区金沙江路 1517 弄&#39;,</span><br><span class="line">                zip: 200333</span><br><span class="line">            &#125;]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">        handleClick(row) &#123;</span><br><span class="line">            console.log(row);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">var Ctor &#x3D; Vue.extend(Main)</span><br><span class="line">new Ctor().$mount(&#39;#app&#39;)</span><br></pre></td></tr></table></figure>
<p>比较有意思的是这个el-table-column label可以设置 <a target="_blank" rel="noopener" href="https://element.eleme.cn/#/zh-CN/component/table#duo-ji-biao-tou">多级表头</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://qqstone.github.io/qqsnote/2020/03/04/VueGrammar/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/qqsnote/images/avatar.gif">
      <meta itemprop="name" content="QQs">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="QQs'Note">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/qqsnote/2020/03/04/VueGrammar/" class="post-title-link" itemprop="url">Vue语法</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-03-04 15:14:46" itemprop="dateCreated datePublished" datetime="2020-03-04T15:14:46+08:00">2020-03-04</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-08-09 11:45:42" itemprop="dateModified" datetime="2025-08-09T11:45:42+08:00">2025-08-09</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h4 id="模板与绑定"><a href="#模板与绑定" class="headerlink" title="模板与绑定"></a>模板与绑定</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;span&gt;Message: &#123;&#123; msg &#125;&#125;&lt;&#x2F;span&gt;</span><br><span class="line">&lt;span v-html&#x3D;&quot;rawHtml&quot;&gt;&lt;&#x2F;span&gt;</span><br><span class="line">&lt;div v-bind:id&#x3D;&quot;dynamicId&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">&lt;img v-bind:src&#x3D;&quot;url&quot; &#x2F;&gt;</span><br><span class="line">&lt;p v-if&#x3D;&quot;seen&quot;&gt;现在你看到我了&lt;&#x2F;p&gt;</span><br><span class="line">&lt;a v-on:click&#x3D;&quot;doSomething&quot;&gt;...&lt;&#x2F;a&gt;</span><br><span class="line">&lt;li v-for&#x3D;&quot;item in items&quot;&gt;...&lt;&#x2F;li&gt;</span><br></pre></td></tr></table></figure>
<p>@click is short for v-on:click<br><br>方法的括号（）不是必须的<br><br>支持动态属性名和事件名称<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;a v-bind:[attributeName]&#x3D;&quot;url&quot;&gt; ... &lt;&#x2F;a&gt;</span><br><span class="line">&lt;a v-on:[eventName]&#x3D;&quot;doSomething&quot;&gt; ... &lt;&#x2F;a&gt;</span><br></pre></td></tr></table></figure></p>
<h4 id="Vue实例"><a href="#Vue实例" class="headerlink" title="Vue实例"></a>Vue实例</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div id&#x3D;&quot;container&quot; &gt;</span><br><span class="line">  &lt;span&gt;&#123;&#123; title &#125;&#125;&lt;&#x2F;span&gt;</span><br><span class="line">  &lt;span v-once&gt;&#123;&#123; title &#125;&#125; 没变吧&lt;&#x2F;span&gt;</span><br><span class="line">  &lt;span v-if&#x3D;&quot;flag&quot;&gt;now shown&lt;&#x2F;span&gt;</span><br><span class="line">  &lt;p&gt;</span><br><span class="line">    &lt;a v-on:click&#x3D;&quot;handleClick&quot;&gt;</span><br><span class="line">      &lt;img v-bind:src&#x3D;&quot;url&quot; :class&#x3D;&quot;[flag? &#39;imgSize1&#39;:&#39;imgSize2&#39;]&quot; &#x2F;&gt;</span><br><span class="line">    &lt;&#x2F;a&gt;</span><br><span class="line">  &lt;&#x2F;p&gt;</span><br><span class="line">  &lt;p&gt;</span><br><span class="line"></span><br><span class="line">  &lt;&#x2F;p&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">import * as THREE from &#39;three&#39;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#39;viewPort&#39;,</span><br><span class="line">    props:&#123;</span><br><span class="line">        &#x2F;&#x2F;target</span><br><span class="line">    &#125;,</span><br><span class="line">    data()&#123;</span><br><span class="line">      return&#123;</span><br><span class="line">        title:&quot;titleXXX&quot;,</span><br><span class="line">        flag:true,</span><br><span class="line">        items:[&quot;item1&quot;,&quot;item2&quot;,&quot;item3&quot;],</span><br><span class="line">        url: require(&#39;@&#x2F;assets&#x2F;images&#x2F;threelogo.png&#39;)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#x2F;&#x2F; </span><br><span class="line">    created()&#123;</span><br><span class="line"></span><br><span class="line">    &#125;,</span><br><span class="line">    mounted()&#123;</span><br><span class="line">      this.initScene()</span><br><span class="line">    &#125;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">      initScene()&#123;</span><br><span class="line">        &#x2F;&#x2F; 创建3D场景对象Scene</span><br><span class="line">        const scene &#x3D; new THREE.Scene();</span><br><span class="line">        console.log(scene);</span><br><span class="line"></span><br><span class="line">      &#125;,</span><br><span class="line">      handleClick() &#123;</span><br><span class="line">        this.flag &#x3D; !this.flag;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">#container &#123;</span><br><span class="line">  margin: 0;</span><br><span class="line">  width: 100%;</span><br><span class="line">  height: 100vh;</span><br><span class="line">  background: #fff;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.imgSize1 &#123;</span><br><span class="line">  width: 100px;</span><br><span class="line">  height: 100px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.imgSize2 &#123;</span><br><span class="line">  width: 50px;</span><br><span class="line">  height: 50px;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>
<p>当一个 Vue 实例被创建时，它将 data 对象中的所有的属性加入到 Vue 的响应式系统中。当这些属性的值发生改变时，视图将会产生“响应”，即匹配更新为新的值。</p>
<p>常用实例方法：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">vm.$data &#x3D;&#x3D;&#x3D; data &#x2F;&#x2F; &#x3D;&gt; true</span><br><span class="line">vm.$el &#x3D;&#x3D;&#x3D; document.getElementById(&#39;example&#39;) &#x2F;&#x2F; &#x3D;&gt; true</span><br><span class="line">vm.$watch(&#39;a&#39;, function (newValue, oldValue) &#123;</span><br><span class="line">  &#x2F;&#x2F; 这个回调将在 &#96;vm.a&#96; 改变后调用</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><br>生命周期钩子<br><img src="https://i0.wp.com/tvax4.sinaimg.cn/large/a60edd42gy1gciycw8nxuj20xc2cftaj.jpg" alt="生命周期"><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">new Vue(&#123;</span><br><span class="line">  data: &#123;</span><br><span class="line">    a: 1</span><br><span class="line">  &#125;,</span><br><span class="line">  created: function () &#123;</span><br><span class="line">    &#x2F;&#x2F; &#96;this&#96; 指向 vm 实例</span><br><span class="line">    console.log(&#39;a is: &#39; + this.a)</span><br><span class="line">  &#125;</span><br><span class="line">  mounted: function () &#123;</span><br><span class="line">    console.log(&#39;a is: &#39; + this.a)</span><br><span class="line">  &#125;</span><br><span class="line">  beforeDestroy:function()&#123;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><br>内联处理器方法<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">new Vue(&#123;</span><br><span class="line">  data: &#123;</span><br><span class="line">    </span><br><span class="line">  &#125;,</span><br><span class="line">  methods:&#123;</span><br><span class="line">      &#x2F;&#x2F; TODO functions</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://qqstone.github.io/qqsnote/2020/03/03/VueQuickStart/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/qqsnote/images/avatar.gif">
      <meta itemprop="name" content="QQs">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="QQs'Note">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/qqsnote/2020/03/03/VueQuickStart/" class="post-title-link" itemprop="url">Vue QuickStart</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-03-03 10:43:28" itemprop="dateCreated datePublished" datetime="2020-03-03T10:43:28+08:00">2020-03-03</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-09-10 17:15:32" itemprop="dateModified" datetime="2025-09-10T17:15:32+08:00">2025-09-10</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><a target="_blank" rel="noopener" href="https://cn.vuejs.org/">官网</a></p>
<h4 id="爬行起步方式"><a href="#爬行起步方式" class="headerlink" title="爬行起步方式"></a>爬行起步方式</h4><p>Caution! 限定的引入顺序：<br>template —&gt; vue.js —&gt; vue controller<br>其中 template 和 vue.js 交换没有影响<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset&#x3D;&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;title&gt;Hi vue&lt;&#x2F;title&gt;</span><br><span class="line">    &lt;script src&#x3D;&quot;https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;npm&#x2F;vue&#x2F;dist&#x2F;vue.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div id&#x3D;&quot;app&quot;&gt;</span><br><span class="line">        &#123;&#123; message &#125;&#125;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;script type&#x3D;&quot;text&#x2F;javascript&quot;&gt;</span><br><span class="line">        var app &#x3D; new Vue(&#123;</span><br><span class="line">            el: &#39;#app&#39;,</span><br><span class="line">            data: &#123;</span><br><span class="line">                message: &#39;here here&#39;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure></p>
<h4 id="常规起步方式"><a href="#常规起步方式" class="headerlink" title="常规起步方式"></a>常规起步方式</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm install -g @vue&#x2F;cli</span><br><span class="line"></span><br><span class="line">vue create vueproj</span><br></pre></td></tr></table></figure>
<p>阅读 <a target="_blank" rel="noopener" href="https://cli.vuejs.org/zh/guide/creating-a-project.html#vue-create">vue-cli指引</a></p>
<h4 id="原力起飞方式"><a href="#原力起飞方式" class="headerlink" title="原力起飞方式"></a>原力起飞方式</h4><p><a target="_blank" rel="noopener" href="https://juejin.im/post/5ae43d9a6fb9a07aad1747f9">webpack 打包 vue 基础</a></p>
<h4 id="多模块项目"><a href="#多模块项目" class="headerlink" title="多模块项目"></a>多模块项目</h4><p><a target="_blank" rel="noopener" href="https://github.com/BothEyes1993/vue-multi-module">vue-multi-module</a></p>
<h4 id="vue渐进式"><a href="#vue渐进式" class="headerlink" title="vue渐进式"></a>vue渐进式</h4><ul>
<li>完整版 </li>
<li>编译器 用以将模板字符串编译成js渲染函数</li>
<li>运行时 不含编译器 用以创建vue实例 处理虚拟dom</li>
<li>UMD 通过\<script\>引入html的完整版本</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://v2.cn.vuejs.org/v2/guide/comparison.html">vue对比其他框架</a></p>
<div class="table-container">
<table>
<thead>
<tr>
<th>特性</th>
<th>Vue.js</th>
<th>React</th>
<th>Angular 2+</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>核心特点</strong></td>
<td>渐进式框架，易学易用</td>
<td>虚拟DOM，组件化</td>
<td>完整的MVC框架</td>
</tr>
<tr>
<td><strong>学习曲线</strong></td>
<td>平缓，只需HTML/CSS/JS基础</td>
<td>中等，需掌握JSX和ES2015</td>
<td>陡峭，需掌握TypeScript和大量概念</td>
</tr>
<tr>
<td><strong>性能优化</strong></td>
<td>自动依赖追踪，精确更新</td>
<td>需手动使用PureComponent或shouldComponentUpdate</td>
<td>自动优化，但体积较大</td>
</tr>
<tr>
<td><strong>模板语法</strong></td>
<td>支持HTML模板，也支持JSX</td>
<td>强制使用JSX</td>
<td>使用类似HTML的模板</td>
</tr>
<tr>
<td><strong>CSS处理</strong></td>
<td>单文件组件中的scoped样式</td>
<td>CSS-in-JS方案(如styled-components)</td>
<td>支持组件样式，但不如Vue灵活</td>
</tr>
<tr>
<td><strong>生态系统</strong></td>
<td>官方维护路由和状态管理</td>
<td>丰富的第三方库，生态系统庞大</td>
<td>官方完整解决方案</td>
</tr>
<tr>
<td><strong>向下扩展</strong></td>
<td>简单，可通过CDN直接使用</td>
<td>需要构建系统，不适合简单项目</td>
<td>不适合简单项目</td>
</tr>
<tr>
<td><strong>向上扩展</strong></td>
<td>良好，官方提供CLI脚手架</td>
<td>强大，但配置较复杂</td>
<td>非常强大，适合大型企业应用</td>
</tr>
<tr>
<td><strong>TypeScript支持</strong></td>
<td>良好，官方提供类型声明</td>
<td>优秀，TS是React的一部分</td>
<td>必须使用TypeScript开发</td>
</tr>
<tr>
<td><strong>项目体积</strong></td>
<td>小(gzip后约30KB)</td>
<td>中等</td>
<td>较大(gzip后约65KB)</td>
</tr>
<tr>
<td><strong>灵活性</strong></td>
<td>高，不强制代码组织方式</td>
<td>中等，组件灵活但生态约束</td>
<td>低，有严格的代码组织规范</td>
</tr>
<tr>
<td><strong>浏览器兼容性</strong></td>
<td>IE9+</td>
<td>现代浏览器</td>
<td>现代浏览器</td>
</tr>
<tr>
<td><strong>响应式系统</strong></td>
<td>基于依赖追踪的观察系统</td>
<td>基于状态管理和虚拟DOM</td>
<td>基于Zone.js和变更检测</td>
</tr>
<tr>
<td><strong>原生渲染</strong></td>
<td>通过Weex或NativeScript-Vue</td>
<td>React Native</td>
<td>Ionic或NativeScript</td>
</tr>
<tr>
<td><strong>数据流</strong></td>
<td>单向数据流</td>
<td>单向数据流(通过状态管理)</td>
<td>单向数据流</td>
</tr>
</tbody>
</table>
</div>
<ul>
<li><strong>易用性</strong>：Vue &gt; React &gt; Angular<ul>
<li>Vue学习曲线最平缓，React需要掌握JSX，Angular最复杂</li>
</ul>
</li>
<li><strong>灵活性</strong>：Vue &gt; React &gt; Angular<ul>
<li>Vue不强制代码组织方式，React组件灵活但生态约束，Angular有严格规范</li>
</ul>
</li>
<li><strong>性能</strong>：Vue ≈ React &gt; Angular<ul>
<li>Vue和React性能接近且优秀，Angular体积较大但性能也不错</li>
</ul>
</li>
<li><strong>生态系统</strong>：React &gt; Angular &gt; Vue<ul>
<li>React生态系统最庞大，Angular提供完整官方解决方案，Vue官方维护核心库</li>
</ul>
</li>
<li><strong>适用场景</strong>：<ul>
<li>Vue：中小型项目，需要快速开发，团队技术栈多样</li>
<li>React：大型项目，需要丰富生态系统，团队熟悉JS</li>
<li>Angular：大型企业应用，需要完整解决方案，团队熟悉TypeScript</li>
</ul>
</li>
</ul>
<p>从Angular、React到Vue</p>
<ul>
<li>单文件组件 single file component</li>
<li>相似的指令绑定</li>
<li>直接赋值属性 无需setState</li>
<li>Composition API类React Hooks</li>
<li>props emit类似Angular装饰器风格</li>
</ul>
<p>从vue2到vue3</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://qqstone.github.io/qqsnote/2020/03/03/CSharpRazor/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/qqsnote/images/avatar.gif">
      <meta itemprop="name" content="QQs">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="QQs'Note">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/qqsnote/2020/03/03/CSharpRazor/" class="post-title-link" itemprop="url">CSharpRazor</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-03-03 10:42:19" itemprop="dateCreated datePublished" datetime="2020-03-03T10:42:19+08:00">2020-03-03</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-07-05 10:07:52" itemprop="dateModified" datetime="2025-07-05T10:07:52+08:00">2025-07-05</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/qqsnote/categories/%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF/" itemprop="url" rel="index"><span itemprop="name">前端技术</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <blockquote>
<p><a target="_blank" rel="noopener" href="http://antaris.github.io/RazorEngine">RazorEngine</a>: Open source templating engine based on Microsoft’s Razor parsing engine.</p>
</blockquote>
<h4 id="Razor文件类型"><a href="#Razor文件类型" class="headerlink" title="Razor文件类型"></a>Razor文件类型</h4><p>Razor可以在vb.net和C#中使用。分别对应了两种文件类型，.vbhtml和.cshtml </p>
<h4 id="Razor的标识符"><a href="#Razor的标识符" class="headerlink" title="Razor的标识符"></a>Razor的标识符</h4><p>@字符被定义为Razor服务器代码块的标识符，表示是服务器代码。web form中使用&lt;%%&gt;中写服务器代码一个道理。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">@&#123;</span><br><span class="line">    string userName&#x3D; &quot;邓星林&quot;;</span><br><span class="line">&#125; &lt;!-- 块级作用域 --&gt;</span><br><span class="line">&lt;span&gt;@userName&lt;&#x2F;span&gt;</span><br><span class="line">&lt;span&gt;@DateTime.Now.ToString(&quot;yyyy-MM-hh&quot;)&lt;&#x2F;span&gt;</span><br></pre></td></tr></table></figure></p>
<h4 id="HTML"><a href="#HTML" class="headerlink" title="HTML"></a>HTML</h4><p>@Href(“~/“)//表示网站的根目录</p>
<p>@Html.Raw(Module.Content)  输出HTML</p>
<h4 id="Razor标识混合HTML"><a href="#Razor标识混合HTML" class="headerlink" title="Razor标识混合HTML"></a>Razor标识混合HTML</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">@&#123;</span><br><span class="line">    &#x2F;&#x2F; html标签</span><br><span class="line">    &lt;div&gt;&lt;&#x2F;div&gt;</span><br><span class="line">    var str &#x3D; &quot;abc&quot;;</span><br><span class="line">    &#x2F;&#x2F; 下面会输出：this is a mail：dxl0321@qq.com, this is var: abc,this is mail@str,this is @；</span><br><span class="line">    @: this is a mail：dxl0321@qq.com, this is var: @str,this is  mail@str,this is @@；</span><br><span class="line">    &#x2F;&#x2F; 下面输出abc</span><br><span class="line">    @str</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>a.在作用域内如果是以html标签开始则视为文本输出</p>
<p>b.如果要输出符号@，则使用@@</p>
<p>c.如果要输出非html标签和非Razor语句的代码，则用@:，他的作用是相当于在处于html下面编写一样了，如在@：后面可以加上@就是表示Razor语句的变量</p>
<h4 id="注释"><a href="#注释" class="headerlink" title="注释"></a>注释</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">@&#123;</span><br><span class="line">   @*</span><br><span class="line">       多行注释</span><br><span class="line">       多行注释</span><br><span class="line">   *@</span><br><span class="line">   var i &#x3D; 10;  @* asdfasf *@</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="Layout-视图片段"><a href="#Layout-视图片段" class="headerlink" title="Layout 视图片段"></a>Layout 视图片段</h4><p>插入指定路径定义的布局视图模板<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">@&#123;</span><br><span class="line">    ViewData[&quot;Title&quot;] &#x3D; &quot;分享优惠券管理&quot;;</span><br><span class="line">    Layout &#x3D; &quot;~&#x2F;Views&#x2F;Shared&#x2F;_Layoutv2.cshtml&quot;;</span><br><span class="line">&#125;</span><br><span class="line">&lt;div class&#x3D;&quot;main&quot;&gt;</span><br><span class="line">    ...</span><br><span class="line">&lt;&#x2F;div&gt;</span><br></pre></td></tr></table></figure></p>
<h4 id="插入Page"><a href="#插入Page" class="headerlink" title="插入Page"></a>插入Page</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class&#x3D;&quot;area&quot;&gt;</span><br><span class="line">    @RenderPage(&quot;&#x2F;b.cshtml&quot;)</span><br><span class="line">&lt;&#x2F;div&gt;</span><br></pre></td></tr></table></figure>
<h4 id="Section"><a href="#Section" class="headerlink" title="Section"></a>Section</h4><h4 id="Helper"><a href="#Helper" class="headerlink" title="Helper"></a>Helper</h4><p>helper就是可以定义可重复使用的帮助器方法，不仅可以在同一个页面不同地方使用，还可以在不同的页面使用。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">@helper sum(int a,int b)</span><br><span class="line">&#123;  </span><br><span class="line">   var result&#x3D;a+b;</span><br><span class="line">　　@result  </span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&lt;div &gt;</span><br><span class="line">    &lt;p&gt;2+3&#x3D;@sum(2,3)&lt;&#x2F;p&gt; </span><br><span class="line">    &lt;p&gt;5+9&#x3D;@sum(5,9)&lt;&#x2F;p&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br></pre></td></tr></table></figure></p>
<h4 id="自带类型转换"><a href="#自带类型转换" class="headerlink" title="自带类型转换"></a>自带类型转换</h4><ul>
<li>AsInt()</li>
<li>IsInt()</li>
<li>AsBool()</li>
<li>IsBool()</li>
<li>AsFloat()</li>
<li>IsFloat()</li>
<li>AsDecimal()</li>
<li>IsDecimal()</li>
<li>AsDateTime()</li>
<li>IsDateTime()</li>
<li>ToString()</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://qqstone.github.io/qqsnote/2020/02/20/JSInventingLang/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/qqsnote/images/avatar.gif">
      <meta itemprop="name" content="QQs">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="QQs'Note">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/qqsnote/2020/02/20/JSInventingLang/" class="post-title-link" itemprop="url">Inventing JavaScript</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-02-20 12:30:16" itemprop="dateCreated datePublished" datetime="2020-02-20T12:30:16+08:00">2020-02-20</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-12-04 15:15:58" itemprop="dateModified" datetime="2025-12-04T15:15:58+08:00">2025-12-04</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/qqsnote/categories/%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF/" itemprop="url" rel="index"><span itemprop="name">前端技术</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><img src="https://tva1.sinaimg.cn/large/a60edd42gy1gc2rdmb6h9j20hr0k40tx.jpg" alt="inventing js"></p>
<h4 id="关于0-1-0-2-0-3-false"><a href="#关于0-1-0-2-0-3-false" class="headerlink" title="关于0.1+0.2==0.3 false"></a>关于0.1+0.2==0.3 false</h4><p><a target="_blank" rel="noopener" href="https://juejin.im/post/5b90e00e6fb9a05cf9080dff">0.1 + 0.2不等于0.3？为什么JavaScript有这种“骚”操作？</a><br>关于浮点数的二进制表示，js浮点数精度(存目)</p>
<h4 id="保留2位小数"><a href="#保留2位小数" class="headerlink" title="保留2位小数"></a>保留2位小数</h4><p>Number.prototype.toFixed 返回指定小数位数的<strong>字符串</strong> 必要时四舍五入 且必要时以0补足位数<br>返回number的方法不如用类似 Math.round(num * 100) / 100 保留两位小数</p>
<h3 id="动态语言"><a href="#动态语言" class="headerlink" title="动态语言"></a>动态语言</h3><p>Dynamic Programming Language 动态语言或动态编程语言，程序在运行时可以改变其结构：新的函数可以被引进，已有的函数可以被删除等在结构上的变化。动态语言如Javascript Python Ruby等 C/C++ Jave则不是</p>
<p>另外 图灵完备</p>
<h3 id="JS-Tips"><a href="#JS-Tips" class="headerlink" title="JS Tips"></a>JS Tips</h3><h4 id="Caps-lock-sensitive"><a href="#Caps-lock-sensitive" class="headerlink" title="Caps lock sensitive"></a>Caps lock sensitive</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var input &#x3D; document.getElementsByTag(&#39;input&#39;)[0];</span><br><span class="line">input.addEventListener(&#39;keyup&#39;,function(event)&#123;console.log(event.getModifierState(&#39;CapsLock&#39;))&#125;);</span><br></pre></td></tr></table></figure>
<p>getModifierState方法挂在KeyboardEvent或者MouseEvent上，可获取的键盘状态见<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/API/KeyboardEvent/getModifierState#Modifier_keys_on_Gecko">MDN:KeyboardEvent.getModifierState()</a></p>
<h4 id="运算符"><a href="#运算符" class="headerlink" title="运算符"></a>运算符</h4><ul>
<li>幂运算 2**10=1024</li>
</ul>
<h4 id="this"><a href="#this" class="headerlink" title="this"></a>this</h4><blockquote>
<p>this的设计目的是在函数体内部，指代函数当前的运行环境<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">var f &#x3D; function () &#123;</span><br><span class="line">  console.log(this.x);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var x &#x3D; 1;</span><br><span class="line">var obj &#x3D; &#123;</span><br><span class="line">  f: f,</span><br><span class="line">  x: 2,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 全局环境执行</span><br><span class="line">f() &#x2F;&#x2F; 1</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; obj 环境执行</span><br><span class="line">obj.f() &#x2F;&#x2F; 2</span><br></pre></td></tr></table></figure><br>另外，严格模式(‘use strict’)下，全局环境下运行时，this不会自动绑定到‘全局对象’上，将变量绑定到全局对象需要显式调用形如global.name = ‘Global’</p>
</blockquote>
<h4 id="常用处理"><a href="#常用处理" class="headerlink" title="常用处理"></a>常用处理</h4><div class="table-container">
<table>
<thead>
<tr>
<th>应用场景标题</th>
<th>描述</th>
<th>补充1</th>
<th>补充2</th>
</tr>
</thead>
<tbody>
<tr>
<td>数组去重</td>
<td>Array.from(new Set(array))</td>
<td>通过内置数据解构特性进行去重  <code>[] =&gt; set =&gt; []</code></td>
<td>通过遍历并判断是否存在进行去重<code>[many items].forEach(item =&gt; (item &lt;不存在于&gt; uniqueArr) &amp;&amp; uniqueArr.push(item))</code></td>
</tr>
<tr>
<td>数组的最后一个元素</td>
<td>获取数组中位置最后的一个元素</td>
<td>使用<code>array.at(-1)</code></td>
<td>略</td>
</tr>
<tr>
<td>数组对象的相关转换</td>
<td>略</td>
<td>对象到数组：<code>Object.entries()</code></td>
<td>数组到对象：<code>Obecjt.fromEntries()</code></td>
</tr>
<tr>
<td>短路操作</td>
<td>通过短路操作避免后续表达式的执行</td>
<td><code>a或b</code>：a真b不执行</td>
<td><code>a且b</code>：a假b不执行</td>
</tr>
<tr>
<td>基于默认值的对象赋值</td>
<td>通过对象解构合并进行带有默认值的对象赋值操作</td>
<td><code>&#123;...defaultData, ...data&#125;</code></td>
<td>略</td>
</tr>
<tr>
<td>多重条件判断优化</td>
<td>单个值与多个值进行对比判断时，使用<code>includes</code>进行优化</td>
<td><code>[404,400,403].includes</code></td>
<td>略</td>
</tr>
<tr>
<td>交换两个值</td>
<td>通过对象解构操作进行简洁的双值交换</td>
<td>[a, b] = [b, a]</td>
<td>略</td>
</tr>
<tr>
<td>位运算</td>
<td>通过位运算提高性能和简洁程度</td>
<td>按位与(&amp;)或(\</td>
<td>)按位取反(~) 取整~~、&lt;&lt;、&gt;&gt;</td>
<td>&gt;&gt;&gt;移位</td>
</tr>
<tr>
<td><code>replace()</code>的回调</td>
<td>通过传入回调进行更加细粒度的操作</td>
<td>略</td>
<td>略</td>
</tr>
<tr>
<td><code>sort()</code>的回调</td>
<td>通过传入回调进行更加细粒度的操作</td>
<td>根据字母顺序排序</td>
<td>根据真假值进行排序</td>
</tr>
</tbody>
</table>
</div>
<h4 id="call-和-apply"><a href="#call-和-apply" class="headerlink" title="call 和 apply"></a>call 和 apply</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 已有构造函数</span><br><span class="line">function Product(name, price) &#123;</span><br><span class="line">  this.name &#x3D; name;</span><br><span class="line">  this.price &#x3D; price;</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;&#x2F; 在新函数中复用已有逻辑</span><br><span class="line">function Food(name, price) &#123;</span><br><span class="line">  Product.call(this, name, price); &#x2F;&#x2F; 实际上相当于将构造函数Product的两行拿过来</span><br><span class="line">  this.category &#x3D; &#39;food&#39;;</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;&#x2F; test</span><br><span class="line">const bread &#x3D; new Food(&#39;bread&#39;, 0.8) &#x2F;&#x2F; Food &#123;name: &quot;bread&quot;, price: 0.8, category: &quot;food&quot;&#125;</span><br></pre></td></tr></table></figure>
<p>FunctionX.call(thisArg,…args)中的第一个参数也可以是对象，函数相当于将剩余参数以FunctionX的实现方式应用到该对象内返回一个结果<br>apply与call的区别仅在：剩余参数是数组，即FunctionX.call(thisArg,[…args])</p>
<h4 id="bind"><a href="#bind" class="headerlink" title="bind"></a>bind</h4><p>bind是基于call或apply实现的函数原型方法 FunctionX.bind(thisArg,…args)返回一个新的<b>函数</b>，该函数套用FunctionX的样子，但以thisArg代替FunctionX的this，剩余参数填补FunctionX所需参数(即结果函数所需参数为FunctionX所需参数减去…args)<br>模拟实现<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">Function.prototype.bind &#x3D; function (context) &#123;</span><br><span class="line">    &#x2F;&#x2F; 调用 bind 的不是函数，需要抛出异常</span><br><span class="line">    if (typeof this !&#x3D;&#x3D; &quot;function&quot;) &#123;</span><br><span class="line">      throw new Error(&quot;Function.prototype.bind - what is trying to be bound is not callable&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    &#x2F;&#x2F; this 指向调用者</span><br><span class="line">    var self &#x3D; this;</span><br><span class="line">    &#x2F;&#x2F; 实现第2点，因为第1个参数是指定的this,所以只截取第1个之后的参数</span><br><span class="line">    var args &#x3D; Array.prototype.slice.call(arguments, 1);</span><br><span class="line">    </span><br><span class="line">    &#x2F;&#x2F; 创建一个空对象</span><br><span class="line">    var fNOP &#x3D; function () &#123;&#125;;</span><br><span class="line">    </span><br><span class="line">    &#x2F;&#x2F; 实现第3点,返回一个函数</span><br><span class="line">    var fBound &#x3D; function () &#123;</span><br><span class="line">        &#x2F;&#x2F; 实现第4点，获取 bind 返回函数的参数</span><br><span class="line">        var bindArgs &#x3D; Array.prototype.slice.call(arguments);</span><br><span class="line">        &#x2F;&#x2F; 然后同传入参数合并成一个参数数组，并作为 self.apply() 的第二个参数</span><br><span class="line">        return self.apply(this instanceof fNOP ? this : context, args.concat(bindArgs));</span><br><span class="line">        &#x2F;&#x2F; 注释1</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    &#x2F;&#x2F; 注释2</span><br><span class="line">    &#x2F;&#x2F; 空对象的原型指向绑定函数的原型</span><br><span class="line">    fNOP.prototype &#x3D; this.prototype;</span><br><span class="line">    &#x2F;&#x2F; 空对象的实例赋值给 fBound.prototype</span><br><span class="line">    fBound.prototype &#x3D; new fNOP();</span><br><span class="line">    return fBound;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>关于替换this的操作可用于回调函数调用类函数, 如下类型A中定义回调函数，该回调函数会作为目标对象B的函数形参，process是类A的函数，但如果在目标对象B中调用callback函数，函数中的this会指向到B<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">callback &#x3D; (response)&#x3D;&gt;&#123;</span><br><span class="line">  this.process(response) &#x2F;&#x2F; 这里的this指向当前运行环境</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">B.getDataAsync(this.callback)</span><br></pre></td></tr></table></figure><br>应使用bind<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">B.getDataAsync(this.callback.bind(this))</span><br></pre></td></tr></table></figure></p>
<h4 id="柯里化Currying"><a href="#柯里化Currying" class="headerlink" title="柯里化Currying"></a>柯里化Currying</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">style&#x3D;function()&#123;this.x&#x3D;&quot;&quot;;this.y&#x3D;&quot;&quot;;&#125; &#x2F;&#x2F; 构造函数style</span><br><span class="line">style.prototype.addA&#x3D;function()&#123;</span><br><span class="line">  this.A&#x3D;&#39;A&#39;</span><br><span class="line">  return this </span><br><span class="line">&#125;</span><br><span class="line">style.prototype.addB&#x3D;function()&#123;</span><br><span class="line">  this.B&#x3D;&#39;B&#39;</span><br><span class="line">  return this</span><br><span class="line">&#125;</span><br><span class="line">style.prototype.addC&#x3D;function()&#123;</span><br><span class="line">  this.C&#x3D;&#39;C&#39;</span><br><span class="line">  return this</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;&#x2F; test</span><br><span class="line">xxx&#x3D;new style()</span><br><span class="line">xxx.addA()</span><br><span class="line">xxx.addB().addC()</span><br></pre></td></tr></table></figure>
<h4 id="Garbage-Collection"><a href="#Garbage-Collection" class="headerlink" title="Garbage Collection"></a>Garbage Collection</h4><ul>
<li><p>游离dom</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">let root&#x3D;document.getElementById(&quot;root&quot;)</span><br><span class="line">for(let i&#x3D;0;i&lt;2000;i++)&#123;</span><br><span class="line">    let div&#x3D;document.createElement(&quot;div&quot;)</span><br><span class="line">    root.appendChild(div)</span><br><span class="line">&#125;</span><br><span class="line">document.body.removeChild(root)</span><br></pre></td></tr></table></figure>
<p>  此时document中移除了dom，但内存中root还在，而且上千个子元素仍然被root对象引用，应设root=null解除引用</p>
</li>
<li><p>clearInterval和clearTimeOut</p>
</li>
</ul>
<h4 id="关于严格模式"><a href="#关于严格模式" class="headerlink" title="关于严格模式"></a>关于严格模式</h4><p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Strict_mode">strict mode</a></p>
<p>通知浏览器以严格模式运行脚本，严格模式下会将一些在非严格模式下被忽略的错位识别为异常，一些静默行为（无效但非异常操作）会被禁止</p>
<ul>
<li>防止无意添加全局变量，声明全局变量必须用global关键字</li>
<li>静默行为被禁止 抛出TypeError<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 如无效的赋值 </span><br><span class="line">NaN&#x3D;0</span><br><span class="line">&#x2F;&#x2F; 写入不可写属性</span><br><span class="line">var obj&#x3D;&#123;&#125;</span><br><span class="line">Object.defineProperty(obj, &#39;x&#39;, &#123;value:0, writable:false&#125;)</span><br><span class="line">&#x2F;&#x2F; 写入只读</span><br><span class="line">var obj&#x3D;&#123;</span><br><span class="line">  get x()&#123;</span><br><span class="line">    return 0;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">obj.x &#x3D; 2</span><br><span class="line">&#x2F;&#x2F; 扩展不可扩展对象</span><br><span class="line">var fixed &#x3D; &#123;&#125;</span><br><span class="line">Object.preventExtensions(fixed)</span><br><span class="line">fixed.newProp &#x3D; 0</span><br></pre></td></tr></table></figure>
<h4 id="vanilla-js"><a href="#vanilla-js" class="headerlink" title="vanilla.js"></a>vanilla.js</h4>it’s a joke. 这是一个空的js，用以提醒其他开发者使用plain JavaScript实现，而不要引入任何library</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://juejin.cn/post/7211116982513713212">javascript 手写面试题</a></p>
<h4 id="task-和-microtask"><a href="#task-和-microtask" class="headerlink" title="task 和 microtask"></a>task 和 microtask</h4><p><a target="_blank" rel="noopener" href="https://jakearchibald.com/2015/tasks-microtasks-queues-and-schedules/">Tasks, microtasks, queues and schedules</a><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">console.log(&#39;script start&#39;); &#x2F;&#x2F; task</span><br><span class="line"></span><br><span class="line">setTimeout(function () &#123;</span><br><span class="line">  console.log(&#39;setTimeout&#39;); &#x2F;&#x2F; scheduled task</span><br><span class="line">&#125;, 0);</span><br><span class="line"></span><br><span class="line">Promise.resolve()</span><br><span class="line">  .then(function () &#123;</span><br><span class="line">    console.log(&#39;promise1&#39;); &#x2F;&#x2F; microtask</span><br><span class="line">  &#125;)</span><br><span class="line">  .then(function () &#123;</span><br><span class="line">    console.log(&#39;promise2&#39;);</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 结果：</span><br><span class="line">&#x2F;&#x2F; script start</span><br><span class="line">&#x2F;&#x2F; promise1</span><br><span class="line">&#x2F;&#x2F; promise2</span><br><span class="line">&#x2F;&#x2F; setTimeout</span><br></pre></td></tr></table></figure><br>至少Chrome中, Promise.resolve().then()中的回调作为microtask会立即排队等待当前任务执行完， 而setTimeout的回调则在给定延迟之后，排队任务队列中。</p>
<h4 id="节流和防抖"><a href="#节流和防抖" class="headerlink" title="节流和防抖"></a>节流和防抖</h4><p>防抖，全时间内后面的覆盖前面的<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">function debounce(fn, wait)&#123;</span><br><span class="line">  let timeout</span><br><span class="line">  return function(...args)&#123;</span><br><span class="line">    clearTimeout(timeout)</span><br><span class="line">    timeout &#x3D; setTimeout(()&#x3D;&gt; &#123;</span><br><span class="line">      fn.apply(this, args)</span><br><span class="line">    &#125;, wait)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>事实上带有 this 的函数在使用生命周期钩子的vue/react组件中可能并不好用，应在组件范围声明timer, 在响应函数中clear并重新赋值</p>
<p>注意组件unmount时清理timer避免泄露</p>
<p>节流<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">var throttle &#x3D; function(delay, action)&#123;</span><br><span class="line">  &#x2F;&#x2F; 这里是个全局变量</span><br><span class="line">  var last &#x3D; 0</span><br><span class="line">  return function()&#123;</span><br><span class="line">    var curr &#x3D; new Date()</span><br><span class="line">    if (curr - last &gt; delay)&#123;</span><br><span class="line">      action.apply(this, arguments)</span><br><span class="line">      last &#x3D; curr </span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h4 id="禁用文字选中"><a href="#禁用文字选中" class="headerlink" title="禁用文字选中"></a>禁用文字选中</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">document.onmousemove &#x3D; window.getSelection</span><br><span class="line">    ? window.getSelection().removeAllRanges()</span><br><span class="line">    : document.selection.empty();</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://qqstone.github.io/qqsnote/2020/02/18/AngularIvy/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/qqsnote/images/avatar.gif">
      <meta itemprop="name" content="QQs">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="QQs'Note">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/qqsnote/2020/02/18/AngularIvy/" class="post-title-link" itemprop="url">Angular Ivy</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-02-18 15:32:26" itemprop="dateCreated datePublished" datetime="2020-02-18T15:32:26+08:00">2020-02-18</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-07-05 10:07:52" itemprop="dateModified" datetime="2025-07-05T10:07:52+08:00">2025-07-05</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/qqsnote/categories/%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF/" itemprop="url" rel="index"><span itemprop="name">前端技术</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <blockquote>
<p>Angular 9 is available, new release switches applications to the Ivy compiler and runtime by default (Feb, 2020)</p>
</blockquote>
<h4 id="模板编译"><a href="#模板编译" class="headerlink" title="模板编译"></a>模板编译</h4><blockquote>
<p>「模版编译」的工作一般是将使用「声明式语言」描述的「模版」转化为「命令式语言」定义的逻辑代码。鉴于这里的主体是 JavaScript，可以理解为「文本」-&gt;「函数」的转换。</p>
</blockquote>
<p>Angular 模板编译演变<br><br>v2 版本中，Angular 采用了和 Svelte 几乎相同的「编译到指令操作」策略，主要区别是对「视图操作」使用的是基于 Renderer 的抽象指令。这种编译方式确实带来了卓越的性能，但由此带来的明显不便之一是生成代码的大小，在 Trotyl Yu：如何评价 angular 2 中的 AoT？中有给出「模版编译」产物的示例，由于太过占用屏幕空间，不在此处贴出。</p>
<p>v4 版本中，Angular 引入了 View Engine 的概念，建立了公共的运行时部分以减少「编译产物」的大小，而「视图定义」部分也不再使用「编译到指令函数」的策略，而是「编译到工厂函数，类似于（详细代码可以参见 【MMR-A】全新的 View Engine 模式）：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">function View_MyComponent() &#123;</span><br><span class="line">  return viewDef([</span><br><span class="line">    elementDef(1, &#39;div&#39;, [[&#39;id&#39;, &#39;foo&#39;]]),</span><br><span class="line">    elementDef(1, &#39;p&#39;, []),</span><br><span class="line">    textDef([&#39;Hello &#39;]),</span><br><span class="line">  ], (check, view) &#x3D;&gt; &#123;</span><br><span class="line">    var comp &#x3D; view.component;</span><br><span class="line">    const currVal_0 &#x3D; inlineInterpolate(&#39;Hello, &#39;, comp.name);</span><br><span class="line">    check(view, currVal_0);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/qqsnote/page/24/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/qqsnote/">1</a><span class="space">&hellip;</span><a class="page-number" href="/qqsnote/page/24/">24</a><span class="page-number current">25</span><a class="page-number" href="/qqsnote/page/26/">26</a><span class="space">&hellip;</span><a class="page-number" href="/qqsnote/page/34/">34</a><a class="extend next" rel="next" href="/qqsnote/page/26/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">QQs</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/qqsnote/archives/">
        
          <span class="site-state-item-count">336</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/qqsnote/categories/">
        <span class="site-state-item-count">21</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/qqsnote/tags/">
        <span class="site-state-item-count">128</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>



      </div>

      <div class="tag-cloud-tags">
        <a href="/qqsnote/tags/Net/" style="font-size: 30px; color: #fff">.Net</a> <a href="/qqsnote/tags/4G/" style="font-size: 12px; color: #ccc">4G</a> <a href="/qqsnote/tags/AI/" style="font-size: 22.5px; color: #eaeaea">AI</a> <a href="/qqsnote/tags/Android/" style="font-size: 12px; color: #ccc">Android</a> <a href="/qqsnote/tags/Angular/" style="font-size: 30px; color: #fff">Angular</a> <a href="/qqsnote/tags/Apache/" style="font-size: 13.5px; color: #d0d0d0">Apache</a> <a href="/qqsnote/tags/Azure/" style="font-size: 25.5px; color: #f2f2f2">Azure</a> <a href="/qqsnote/tags/Babylon/" style="font-size: 12px; color: #ccc">Babylon</a> <a href="/qqsnote/tags/C/" style="font-size: 16.5px; color: #d9d9d9">C#</a> <a href="/qqsnote/tags/C/" style="font-size: 16.5px; color: #d9d9d9">C++</a> <a href="/qqsnote/tags/CSS/" style="font-size: 19.5px; color: #e1e1e1">CSS</a> <a href="/qqsnote/tags/DevOps/" style="font-size: 15px; color: #d5d5d5">DevOps</a> <a href="/qqsnote/tags/Docker/" style="font-size: 16.5px; color: #d9d9d9">Docker</a> <a href="/qqsnote/tags/ES6/" style="font-size: 12px; color: #ccc">ES6</a> <a href="/qqsnote/tags/ESLint/" style="font-size: 12px; color: #ccc">ESLint</a> <a href="/qqsnote/tags/ElasticSearch/" style="font-size: 12px; color: #ccc">ElasticSearch</a> <a href="/qqsnote/tags/Electron/" style="font-size: 16.5px; color: #d9d9d9">Electron</a> <a href="/qqsnote/tags/ElementUI/" style="font-size: 12px; color: #ccc">ElementUI</a> <a href="/qqsnote/tags/EntityFramework/" style="font-size: 13.5px; color: #d0d0d0">EntityFramework</a> <a href="/qqsnote/tags/EventBus/" style="font-size: 12px; color: #ccc">EventBus</a> <a href="/qqsnote/tags/Excel/" style="font-size: 12px; color: #ccc">Excel</a> <a href="/qqsnote/tags/FastDFS/" style="font-size: 12px; color: #ccc">FastDFS</a> <a href="/qqsnote/tags/Figma/" style="font-size: 12px; color: #ccc">Figma</a> <a href="/qqsnote/tags/Go/" style="font-size: 12px; color: #ccc">Go</a> <a href="/qqsnote/tags/GraphQL/" style="font-size: 12px; color: #ccc">GraphQL</a> <a href="/qqsnote/tags/Jasmine/" style="font-size: 12px; color: #ccc">Jasmine</a> <a href="/qqsnote/tags/Java/" style="font-size: 13.5px; color: #d0d0d0">Java</a> <a href="/qqsnote/tags/Jenkins/" style="font-size: 21px; color: #e6e6e6">Jenkins</a> <a href="/qqsnote/tags/Linux/" style="font-size: 22.5px; color: #eaeaea">Linux</a> <a href="/qqsnote/tags/MQ/" style="font-size: 12px; color: #ccc">MQ</a> <a href="/qqsnote/tags/Markdown/" style="font-size: 13.5px; color: #d0d0d0">Markdown</a> <a href="/qqsnote/tags/MongoDB/" style="font-size: 12px; color: #ccc">MongoDB</a> <a href="/qqsnote/tags/Monorepo/" style="font-size: 12px; color: #ccc">Monorepo</a> <a href="/qqsnote/tags/MySQL/" style="font-size: 12px; color: #ccc">MySQL</a> <a href="/qqsnote/tags/NSIS/" style="font-size: 12px; color: #ccc">NSIS</a> <a href="/qqsnote/tags/Nginx/" style="font-size: 12px; color: #ccc">Nginx</a> <a href="/qqsnote/tags/NoSQL/" style="font-size: 12px; color: #ccc">NoSQL</a> <a href="/qqsnote/tags/Node-js/" style="font-size: 18px; color: #ddd">Node.js</a> <a href="/qqsnote/tags/OData/" style="font-size: 13.5px; color: #d0d0d0">OData</a> <a href="/qqsnote/tags/OpenCV/" style="font-size: 18px; color: #ddd">OpenCV</a> <a href="/qqsnote/tags/OpenGL/" style="font-size: 13.5px; color: #d0d0d0">OpenGL</a> <a href="/qqsnote/tags/PHP/" style="font-size: 12px; color: #ccc">PHP</a> <a href="/qqsnote/tags/PWA/" style="font-size: 12px; color: #ccc">PWA</a> <a href="/qqsnote/tags/PyCharm/" style="font-size: 12px; color: #ccc">PyCharm</a> <a href="/qqsnote/tags/Python/" style="font-size: 24px; color: #eee">Python</a> <a href="/qqsnote/tags/R3F/" style="font-size: 12px; color: #ccc">R3F</a> <a href="/qqsnote/tags/React/" style="font-size: 21px; color: #e6e6e6">React</a> <a href="/qqsnote/tags/SQL/" style="font-size: 12px; color: #ccc">SQL</a> <a href="/qqsnote/tags/SQL-Server/" style="font-size: 15px; color: #d5d5d5">SQL_Server</a> <a href="/qqsnote/tags/ServiceWorker/" style="font-size: 12px; color: #ccc">ServiceWorker</a> <a href="/qqsnote/tags/Shell/" style="font-size: 12px; color: #ccc">Shell</a> <a href="/qqsnote/tags/Three-js/" style="font-size: 16.5px; color: #d9d9d9">Three.js</a> <a href="/qqsnote/tags/TypeScript/" style="font-size: 13.5px; color: #d0d0d0">TypeScript</a> <a href="/qqsnote/tags/UE/" style="font-size: 12px; color: #ccc">UE</a> <a href="/qqsnote/tags/UI/" style="font-size: 12px; color: #ccc">UI</a> <a href="/qqsnote/tags/UML/" style="font-size: 12px; color: #ccc">UML</a> <a href="/qqsnote/tags/Virtualbox/" style="font-size: 12px; color: #ccc">Virtualbox</a> <a href="/qqsnote/tags/WPF/" style="font-size: 12px; color: #ccc">WPF</a> <a href="/qqsnote/tags/WebGL/" style="font-size: 21px; color: #e6e6e6">WebGL</a> <a href="/qqsnote/tags/WebService/" style="font-size: 12px; color: #ccc">WebService</a> <a href="/qqsnote/tags/Web%E5%8D%8F%E8%AE%AE/" style="font-size: 12px; color: #ccc">Web协议</a> <a href="/qqsnote/tags/Web%E5%BC%80%E5%8F%91/" style="font-size: 27px; color: #f7f7f7">Web开发</a> <a href="/qqsnote/tags/Wechat/" style="font-size: 12px; color: #ccc">Wechat</a> <a href="/qqsnote/tags/aigc/" style="font-size: 12px; color: #ccc">aigc</a> <a href="/qqsnote/tags/auth/" style="font-size: 12px; color: #ccc">auth</a> <a href="/qqsnote/tags/axios/" style="font-size: 12px; color: #ccc">axios</a> <a href="/qqsnote/tags/canvas/" style="font-size: 12px; color: #ccc">canvas</a> <a href="/qqsnote/tags/css/" style="font-size: 12px; color: #ccc">css</a> <a href="/qqsnote/tags/express/" style="font-size: 12px; color: #ccc">express</a> <a href="/qqsnote/tags/ftp/" style="font-size: 12px; color: #ccc">ftp</a> <a href="/qqsnote/tags/git/" style="font-size: 13.5px; color: #d0d0d0">git</a> <a href="/qqsnote/tags/hexo/" style="font-size: 12px; color: #ccc">hexo</a> <a href="/qqsnote/tags/http/" style="font-size: 12px; color: #ccc">http</a> <a href="/qqsnote/tags/http2/" style="font-size: 12px; color: #ccc">http2</a> <a href="/qqsnote/tags/https/" style="font-size: 12px; color: #ccc">https</a> <a href="/qqsnote/tags/ionic/" style="font-size: 12px; color: #ccc">ionic</a> <a href="/qqsnote/tags/javascript/" style="font-size: 28.5px; color: #fbfbfb">javascript</a> <a href="/qqsnote/tags/k8s/" style="font-size: 12px; color: #ccc">k8s</a> <a href="/qqsnote/tags/login/" style="font-size: 12px; color: #ccc">login</a> <a href="/qqsnote/tags/loopback/" style="font-size: 12px; color: #ccc">loopback</a> <a href="/qqsnote/tags/ngrok/" style="font-size: 12px; color: #ccc">ngrok</a> <a href="/qqsnote/tags/npm/" style="font-size: 12px; color: #ccc">npm</a> <a href="/qqsnote/tags/nsis/" style="font-size: 13.5px; color: #d0d0d0">nsis</a> <a href="/qqsnote/tags/redis/" style="font-size: 12px; color: #ccc">redis</a> <a href="/qqsnote/tags/sqlServer/" style="font-size: 12px; color: #ccc">sqlServer</a> <a href="/qqsnote/tags/ssh/" style="font-size: 12px; color: #ccc">ssh</a> <a href="/qqsnote/tags/svg/" style="font-size: 12px; color: #ccc">svg</a> <a href="/qqsnote/tags/trea/" style="font-size: 12px; color: #ccc">trea</a> <a href="/qqsnote/tags/vtk/" style="font-size: 16.5px; color: #d9d9d9">vtk</a> <a href="/qqsnote/tags/vuejs/" style="font-size: 19.5px; color: #e1e1e1">vuejs</a> <a href="/qqsnote/tags/webassembly/" style="font-size: 15px; color: #d5d5d5">webassembly</a> <a href="/qqsnote/tags/webpack/" style="font-size: 12px; color: #ccc">webpack</a> <a href="/qqsnote/tags/websocket/" style="font-size: 12px; color: #ccc">websocket</a> <a href="/qqsnote/tags/windows/" style="font-size: 12px; color: #ccc">windows</a> <a href="/qqsnote/tags/yarn/" style="font-size: 12px; color: #ccc">yarn</a> <a href="/qqsnote/tags/%E4%B8%8A%E4%BC%A0/" style="font-size: 12px; color: #ccc">上传</a> <a href="/qqsnote/tags/%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F/" style="font-size: 12px; color: #ccc">内网穿透</a> <a href="/qqsnote/tags/%E5%8A%A0%E5%AF%86/" style="font-size: 16.5px; color: #d9d9d9">加密</a> <a href="/qqsnote/tags/%E5%8C%BB%E5%AD%A6%E5%9B%BE%E5%83%8F/" style="font-size: 13.5px; color: #d0d0d0">医学图像</a> <a href="/qqsnote/tags/%E5%8D%9A%E5%BC%88%E8%AE%BA/" style="font-size: 12px; color: #ccc">博弈论</a> <a href="/qqsnote/tags/%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86/" style="font-size: 12px; color: #ccc">图像处理</a> <a href="/qqsnote/tags/%E5%9B%BE%E5%BD%A2%E5%AD%A6/" style="font-size: 18px; color: #ddd">图形学</a> <a href="/qqsnote/tags/%E5%A4%9A%E8%AF%AD%E8%A8%80/" style="font-size: 13.5px; color: #d0d0d0">多语言</a> <a href="/qqsnote/tags/%E5%A4%A7%E6%A8%A1%E5%9E%8B/" style="font-size: 12px; color: #ccc">大模型</a> <a href="/qqsnote/tags/%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B/" style="font-size: 12px; color: #ccc">存储过程</a> <a href="/qqsnote/tags/%E6%80%A7%E8%83%BD/" style="font-size: 15px; color: #d5d5d5">性能</a> <a href="/qqsnote/tags/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/" style="font-size: 13.5px; color: #d0d0d0">性能优化</a> <a href="/qqsnote/tags/%E6%88%90%E9%95%BF%E6%80%9D%E7%BB%B4/" style="font-size: 12px; color: #ccc">成长思维</a> <a href="/qqsnote/tags/%E6%91%84%E5%BD%B1/" style="font-size: 12px; color: #ccc">摄影</a> <a href="/qqsnote/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/" style="font-size: 12px; color: #ccc">操作系统</a> <a href="/qqsnote/tags/%E6%95%B0%E5%AD%97%E7%AD%BE%E5%90%8D/" style="font-size: 12px; color: #ccc">数字签名</a> <a href="/qqsnote/tags/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/" style="font-size: 12px; color: #ccc">数据可视化</a> <a href="/qqsnote/tags/%E6%95%B0%E6%8D%AE%E5%BA%93%E9%94%81/" style="font-size: 12px; color: #ccc">数据库锁</a> <a href="/qqsnote/tags/%E6%A0%91%E8%8E%93%E6%B4%BE/" style="font-size: 12px; color: #ccc">树莓派</a> <a href="/qqsnote/tags/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/" style="font-size: 12px; color: #ccc">正则表达式</a> <a href="/qqsnote/tags/%E7%89%A9%E8%81%94%E7%BD%91/" style="font-size: 12px; color: #ccc">物联网</a> <a href="/qqsnote/tags/%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F/" style="font-size: 13.5px; color: #d0d0d0">环境变量</a> <a href="/qqsnote/tags/%E7%AE%97%E6%B3%95/" style="font-size: 16.5px; color: #d9d9d9">算法</a> <a href="/qqsnote/tags/%E7%BC%96%E7%A0%81%E8%A7%84%E8%8C%83/" style="font-size: 12px; color: #ccc">编码规范</a> <a href="/qqsnote/tags/%E8%8B%B1%E8%AF%AD/" style="font-size: 12px; color: #ccc">英语</a> <a href="/qqsnote/tags/%E8%A7%86%E9%A2%91%E6%B5%81/" style="font-size: 12px; color: #ccc">视频流</a> <a href="/qqsnote/tags/%E8%A7%A6%E5%8F%91%E5%99%A8/" style="font-size: 12px; color: #ccc">触发器</a> <a href="/qqsnote/tags/%E8%AE%A4%E8%AF%81-%E6%8E%88%E6%9D%83/" style="font-size: 21px; color: #e6e6e6">认证&授权</a> <a href="/qqsnote/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" style="font-size: 12px; color: #ccc">设计模式</a> <a href="/qqsnote/tags/%E8%AF%BB%E4%B9%A6/" style="font-size: 12px; color: #ccc">读书</a> <a href="/qqsnote/tags/%E8%BF%9B%E7%A8%8B%E5%AE%88%E6%8A%A4/" style="font-size: 12px; color: #ccc">进程守护</a> <a href="/qqsnote/tags/%E9%9D%A2%E8%AF%95/" style="font-size: 13.5px; color: #d0d0d0">面试</a> <a href="/qqsnote/tags/%E9%A6%99%E6%A9%99%E6%B4%BE/" style="font-size: 12px; color: #ccc">香橙派</a>
      </div>
    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">QQs</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/qqsnote/lib/anime.min.js"></script>
  <script src="/qqsnote/lib/velocity/velocity.min.js"></script>
  <script src="/qqsnote/lib/velocity/velocity.ui.min.js"></script>

<script src="/qqsnote/js/utils.js"></script>

<script src="/qqsnote/js/motion.js"></script>


<script src="/qqsnote/js/schemes/muse.js"></script>


<script src="/qqsnote/js/next-boot.js"></script>




  




  
<script src="/qqsnote/js/local-search.js"></script>













  

  

  

</body>
</html>
