<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.1">
  <link rel="apple-touch-icon" sizes="180x180" href="/qqsnote/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/qqsnote/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/qqsnote/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/qqsnote/images/logo.svg" color="#222">

<link rel="stylesheet" href="/qqsnote/css/main.css">


<link rel="stylesheet" href="/qqsnote/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"qqstone.github.io","root":"/qqsnote/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.json"};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="QQs&#39;Note">
<meta property="og:url" content="http://qqstone.github.io/qqsnote/page/14/index.html">
<meta property="og:site_name" content="QQs&#39;Note">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="QQs">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://qqstone.github.io/qqsnote/page/14/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'en'
  };
</script>

  <title>QQs'Note</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/qqsnote/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">QQs'Note</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/qqsnote/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/qqsnote/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://qqstone.github.io/qqsnote/2021/08/26/Azure-AppInsights/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/qqsnote/images/avatar.gif">
      <meta itemprop="name" content="QQs">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="QQs'Note">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/qqsnote/2021/08/26/Azure-AppInsights/" class="post-title-link" itemprop="url">Azure-AppInsights</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2021-08-26 10:33:05" itemprop="dateCreated datePublished" datetime="2021-08-26T10:33:05+08:00">2021-08-26</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-12-04 15:19:52" itemprop="dateModified" datetime="2025-12-04T15:19:52+08:00">2025-12-04</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/qqsnote/categories/%E4%BA%91%E5%B9%B3%E5%8F%B0/" itemprop="url" rel="index"><span itemprop="name">云平台</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>在你的应用中安装sdk向Azure Application Insight服务发送遥测数据，支持web客户端，web服务和后台服务等<br>对应用性能影响小。非阻塞，单独线程<br><img src="https://docs.microsoft.com/zh-cn/azure/azure-monitor/app/media/app-insights-overview/diagram.png" alt=""></p>
<blockquote>
<p>The instrumentation monitors your app and directs the telemetry data to an Azure Application Insights Resource using a unique GUID that we refer to as an Instrumentation Key. You can instrument not only the web service application, but also any background components, and the JavaScript in the web pages themselves. The application and its components can run anywhere - it doesn’t have to be hosted in Azure.  使用Guid作为Instrumentation Key(ikey)标识作为监视器的Azure Insights资源。 监测web服务应用或后台组件亦或页面js 这些应用或组件、命令不必托管在Azure中</p>
<h4 id="创建Azure-App-Insights资源"><a href="#创建Azure-App-Insights资源" class="headerlink" title="创建Azure App Insights资源"></a>创建Azure App Insights资源</h4><p>Azure Portal -&gt; Application Insights -&gt; Create<br><img src="https://docs.microsoft.com/zh-cn/azure/azure-monitor/app/media/create-new-resource/review-create.png" alt=""></p>
<h4 id="添加Javascript-SDK"><a href="#添加Javascript-SDK" class="headerlink" title="添加Javascript SDK"></a>添加Javascript SDK</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i --save @microsoft&#x2F;applicationinsights-web</span><br></pre></td></tr></table></figure>
<p>使用ikey或连接字符串创建客户端instance<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">import &#123; ApplicationInsights &#125; from &#39;@microsoft&#x2F;applicationinsights-web&#39;</span><br><span class="line"></span><br><span class="line">const appInsights &#x3D; new ApplicationInsights(&#123; config: &#123;</span><br><span class="line">  instrumentationKey: &#39;YOUR_INSTRUMENTATION_KEY_GOES_HERE&#39; &#x2F;* 使用ikey *&#x2F;</span><br><span class="line">  &#x2F;* 或使用 connectionString: &#39;YOUR_CONNECTION_STRING_GOES_HERE&#39; *&#x2F;</span><br><span class="line">  &#x2F;* ...Other Configuration Options... *&#x2F;</span><br><span class="line">&#125; &#125;);</span><br><span class="line">appInsights.loadAppInsights();</span><br><span class="line">appInsights.trackPageView(); &#x2F;&#x2F; Manually call trackPageView to establish the current user&#x2F;session&#x2F;pageview</span><br></pre></td></tr></table></figure><br>React Plugin<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install @microsoft&#x2F;applicationinsights-react-js</span><br><span class="line">npm install @microsoft&#x2F;applicationinsights-web</span><br></pre></td></tr></table></figure><br>创建实例<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; AppInsights.js</span><br><span class="line">import &#123; ApplicationInsights &#125; from &#39;@microsoft&#x2F;applicationinsights-web&#39;;</span><br><span class="line">import &#123; ReactPlugin &#125; from &#39;@microsoft&#x2F;applicationinsights-react-js&#39;;</span><br><span class="line">import &#123; createBrowserHistory &#125; from &#39;history&#39;;</span><br><span class="line"></span><br><span class="line">const browserHistory &#x3D; createBrowserHistory(&#123; basename: &#39;&#39; &#125;);</span><br><span class="line">const reactPlugin &#x3D; new ReactPlugin();</span><br><span class="line">const appInsights &#x3D; new ApplicationInsights(&#123;</span><br><span class="line">    config: &#123;</span><br><span class="line">        instrumentationKey: &#39;YOUR_INSTRUMENTATION_KEY_GOES_HERE&#39;,</span><br><span class="line">        extensions: [reactPlugin],</span><br><span class="line">        extensionConfig: &#123;</span><br><span class="line">          [reactPlugin.identifier]: &#123; history: browserHistory &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line">appInsights.loadAppInsights();</span><br><span class="line">export &#123; reactPlugin, appInsights &#125;;</span><br></pre></td></tr></table></figure><br>在AppComponent使用Context.Provider 使所有子组件内可使用 useContext hook调用AppInsights实例<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">import React from &quot;react&quot;;</span><br><span class="line">import &#123; AppInsightsContext &#125; from &quot;@microsoft&#x2F;applicationinsights-react-js&quot;;</span><br><span class="line">import &#123; reactPlugin &#125; from &quot;.&#x2F;AppInsights&quot;;</span><br><span class="line"></span><br><span class="line">const App &#x3D; () &#x3D;&gt; &#123;</span><br><span class="line">    return (</span><br><span class="line">        &lt;AppInsightsContext.Provider value&#x3D;&#123;reactPlugin&#125;&gt;</span><br><span class="line">            &#x2F;* your application here *&#x2F;</span><br><span class="line">        &lt;&#x2F;AppInsightsContext.Provider&gt;</span><br><span class="line">    );</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><br>子组件<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">import React from &quot;react&quot;;</span><br><span class="line">import &#123; useAppInsightsContext &#125; from &quot;@microsoft&#x2F;applicationinsights-react-js&quot;;</span><br><span class="line"></span><br><span class="line">const MyComponent &#x3D; () &#x3D;&gt; &#123;</span><br><span class="line">    const appInsights &#x3D; useAppInsightsContext();</span><br><span class="line">    </span><br><span class="line">    appInsights.trackMetric(&quot;Component &#39;MyComponent&#39; is in use&quot;);</span><br><span class="line">    appInsights.trackEvent(&#123; name: &#39;Component Init&#39;, properties: &#123; &#39;mydata&#39; &#125; &#125;);</span><br><span class="line">    </span><br><span class="line">    return (</span><br><span class="line">        &lt;h1&gt;My Component&lt;&#x2F;h1&gt;</span><br><span class="line">    );</span><br><span class="line">&#125;</span><br><span class="line">export default MyComponent;</span><br></pre></td></tr></table></figure></p>
<h4 id="useTrackMetric"><a href="#useTrackMetric" class="headerlink" title="useTrackMetric"></a>useTrackMetric</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">const MyComponent &#x3D; () &#x3D;&gt; &#123;</span><br><span class="line">    const appInsights &#x3D; useAppInsightsContext();</span><br><span class="line">    const trackComponent &#x3D; useTrackMetric(appInsights, &quot;MyComponent&quot;);</span><br><span class="line">    </span><br><span class="line">    return (</span><br><span class="line">        &lt;h1 onHover&#x3D;&#123;trackComponent&#125; onClick&#x3D;&#123;trackComponent&#125;&gt;My Component&lt;&#x2F;h1&gt;</span><br><span class="line">    );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="useTrackEvent"><a href="#useTrackEvent" class="headerlink" title="useTrackEvent"></a>useTrackEvent</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">import React, &#123; useState, useEffect &#125; from &quot;react&quot;;</span><br><span class="line">import &#123; useAppInsightsContext, useTrackEvent &#125; from &quot;@microsoft&#x2F;applicationinsights-react-js&quot;;</span><br><span class="line"></span><br><span class="line">const MyComponent &#x3D; () &#x3D;&gt; &#123;</span><br><span class="line">    const appInsights &#x3D; useAppInsightsContext();</span><br><span class="line">    const [cart, setCart] &#x3D; useState([]);</span><br><span class="line">    const trackCheckout &#x3D; useTrackEvent(appInsights, &quot;Checkout&quot;, cart);</span><br><span class="line">    const trackCartUpdate &#x3D; useTrackEvent(appInsights, &quot;Cart Updated&quot;, cart);</span><br><span class="line">    useEffect(() &#x3D;&gt; &#123;</span><br><span class="line">        trackCartUpdate(&#123; cartCount: cart.length &#125;);</span><br><span class="line">    &#125;, [cart]);</span><br><span class="line">    </span><br><span class="line">    const performCheckout &#x3D; () &#x3D;&gt; &#123;</span><br><span class="line">        trackCheckout();</span><br><span class="line">        &#x2F;&#x2F; submit data</span><br><span class="line">    &#125;;</span><br><span class="line">    </span><br><span class="line">    return (</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">            &lt;ul&gt;</span><br><span class="line">                &lt;li&gt;Product 1 &lt;button onClick&#x3D;&#123;() &#x3D;&gt; setCart([...cart, &quot;Product 1&quot;])&#125;&gt;Add to Cart&lt;&#x2F;button&gt;&lt;&#x2F;li&gt;</span><br><span class="line">                &lt;li&gt;Product 2 &lt;button onClick&#x3D;&#123;() &#x3D;&gt; setCart([...cart, &quot;Product 2&quot;])&#125;&gt;Add to Cart&lt;&#x2F;button&gt;&lt;&#x2F;li&gt;</span><br><span class="line">                &lt;li&gt;Product 3 &lt;button onClick&#x3D;&#123;() &#x3D;&gt; setCart([...cart, &quot;Product 3&quot;])&#125;&gt;Add to Cart&lt;&#x2F;button&gt;&lt;&#x2F;li&gt;</span><br><span class="line">                &lt;li&gt;Product 4 &lt;button onClick&#x3D;&#123;() &#x3D;&gt; setCart([...cart, &quot;Product 4&quot;])&#125;&gt;Add to Cart&lt;&#x2F;button&gt;&lt;&#x2F;li&gt;</span><br><span class="line">            &lt;&#x2F;ul&gt;</span><br><span class="line">            &lt;button onClick&#x3D;&#123;performCheckout&#125;&gt;Checkout&lt;&#x2F;button&gt;</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">    );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default MyComponent;</span><br></pre></td></tr></table></figure>
<h4 id="Click-Analytics-Auto-collection-plugin"><a href="#Click-Analytics-Auto-collection-plugin" class="headerlink" title="Click Analytics Auto-collection plugin"></a>Click Analytics Auto-collection plugin</h4><p>自动跟踪网页上的单击事件，并使用 HTML 元素上的 data-* 属性来填充事件遥测数据。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">import &#123; ApplicationInsights &#125; from &#39;@microsoft&#x2F;applicationinsights-web&#39;;</span><br><span class="line">import &#123; ClickAnalyticsPlugin &#125; from &#39;@microsoft&#x2F;applicationinsights-clickanalytics-js&#39;;</span><br><span class="line"></span><br><span class="line">const clickPluginInstance &#x3D; new ClickAnalyticsPlugin();</span><br><span class="line">&#x2F;&#x2F; Click Analytics configuration</span><br><span class="line">const clickPluginConfig &#x3D; &#123;</span><br><span class="line">  autoCapture: true</span><br><span class="line">&#125;;</span><br><span class="line">&#x2F;&#x2F; Application Insights Configuration</span><br><span class="line">const configObj &#x3D; &#123;</span><br><span class="line">  instrumentationKey: &quot;YOUR INSTRUMENTATION KEY&quot;,</span><br><span class="line">  extensions: [clickPluginInstance],</span><br><span class="line">  extensionConfig: &#123;</span><br><span class="line">    [clickPluginInstance.identifier]: clickPluginConfig</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">const appInsights &#x3D; new ApplicationInsights(&#123; config: configObj &#125;);</span><br><span class="line">appInsights.loadAppInsights();</span><br></pre></td></tr></table></figure></p>
<h4 id="监视对象"><a href="#监视对象" class="headerlink" title="监视对象"></a>监视对象</h4><ul>
<li>User   用浏览器cookie中存储的匿名id区分用户<br>JavaScript SDK 自动生成匿名用户和会话 ID，然后在从应用发送这些 ID 后使用这些 ID 填充遥测事件。</li>
<li>Session 不活动半小时重新记Session 活动24h后重新记Session</li>
<li>Event 每次执行trackEvent逻辑 Event参数已加入一组标准属性，包括匿名用户id（anonymous user ID）QQs存疑！<h4 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h4><a target="_blank" rel="noopener" href="https://docs.microsoft.com/zh-cn/azure/azure-monitor/app/javascript#cookie-handling">cookie处理</a> <a target="_blank" rel="noopener" href="https://docs.microsoft.com/zh-cn/azure/azure-monitor/app/javascript#enable-time-on-page-tracking">visit time</a></li>
</ul>
</blockquote>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://qqstone.github.io/qqsnote/2021/08/04/DesignPatternPrinciples/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/qqsnote/images/avatar.gif">
      <meta itemprop="name" content="QQs">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="QQs'Note">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/qqsnote/2021/08/04/DesignPatternPrinciples/" class="post-title-link" itemprop="url">设计模式原则</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2021-08-04 09:26:47" itemprop="dateCreated datePublished" datetime="2021-08-04T09:26:47+08:00">2021-08-04</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-07-05 10:07:52" itemprop="dateModified" datetime="2025-07-05T10:07:52+08:00">2025-07-05</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/qqsnote/categories/%E5%90%8E%E7%AB%AF%E6%8A%80%E6%9C%AF/" itemprop="url" rel="index"><span itemprop="name">后端技术</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>简写为SOLID</p>
<h4 id="单一职责-Sigle-Responsibility-Principle"><a href="#单一职责-Sigle-Responsibility-Principle" class="headerlink" title="单一职责(Sigle Responsibility Principle)"></a>单一职责(Sigle Responsibility Principle)</h4><p>避免设计对象（类，方法）承担多项职责，在对职责1操作或修改时可能会造成职责2的异常。</p>
<ul>
<li>在需要if else时考虑划分为两个类或方法</li>
<li>在需求变更导致职责细分时考虑将类或方法划分</li>
</ul>
<h4 id="开放关闭-Open-Closed-Principle"><a href="#开放关闭-Open-Closed-Principle" class="headerlink" title="开放关闭(Open Closed Principle)"></a>开放关闭(Open Closed Principle)</h4><p>设计对象应该根据需求被扩展，而不应该因需求而做修改，即对类进行抽象和继承<br>违反开放关闭原则：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">class Factory &#123;</span><br><span class="line">    public Computer produceComputer(String type) &#123;</span><br><span class="line">        Computer c &#x3D; null;</span><br><span class="line">        if(type.equals(&quot;macbook&quot;))&#123;</span><br><span class="line">            c &#x3D; new Macbook();</span><br><span class="line">        &#125;else if(type.equals(&quot;surface&quot;))&#123;</span><br><span class="line">            c &#x3D; new Surface();</span><br><span class="line">        &#125;</span><br><span class="line">        return c;</span><br><span class="line">    &#125;   </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>抽象出produce接口<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">interface Factory &#123;</span><br><span class="line">    public Computer produceComputer();</span><br><span class="line">&#125;</span><br><span class="line">class AppleFactory implements Factory &#123;</span><br><span class="line">    public Computer produceComputer() &#123;</span><br><span class="line">        return new Macbook();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">class MSFactory implements Factory &#123;</span><br><span class="line">    public Computer produceComputer() &#123;</span><br><span class="line">        return new Surface();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h4 id="里氏替换-Liskov-Substitution-Principle"><a href="#里氏替换-Liskov-Substitution-Principle" class="headerlink" title="里氏替换(Liskov Substitution Principle)"></a>里氏替换(Liskov Substitution Principle)</h4><blockquote>
<p>所有引用基类的地方必须能透明地使用其子类的对象。</p>
</blockquote>
<p>A的子类B继承父类时，不应改变原功能，只做扩展</p>
<h4 id="接口隔离-Interface-Segregation-Principle"><a href="#接口隔离-Interface-Segregation-Principle" class="headerlink" title="接口隔离(Interface Segregation Principle)"></a>接口隔离(Interface Segregation Principle)</h4><p>合理设计接口的粒度，避免类型依赖它不需要的接口</p>
<h4 id="依赖倒置-Dependency-Injection-Principle"><a href="#依赖倒置-Dependency-Injection-Principle" class="headerlink" title="依赖倒置(Dependency Injection Principle)"></a>依赖倒置(Dependency Injection Principle)</h4><p>高层模块不应依赖低层模块，以免因为低层修改而牵扯高层，两者应该共同依赖接口，将改动限制在接口的实现上<br>即最少知道，类型对其直接引用的对象A保持最少的了解，不会通过该对象与第三者对象B建立间接的调用关系，要求A将必要的方法封装为public提供外部调用，而不暴露其引用了B的事实</p>
<p><a target="_blank" rel="noopener" href="https://juejin.cn/post/7072175210874535967">23种设计模式</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://qqstone.github.io/qqsnote/2021/07/13/sqlserver-trigger/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/qqsnote/images/avatar.gif">
      <meta itemprop="name" content="QQs">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="QQs'Note">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/qqsnote/2021/07/13/sqlserver-trigger/" class="post-title-link" itemprop="url">SQL Server 触发器</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2021-07-13 10:02:08" itemprop="dateCreated datePublished" datetime="2021-07-13T10:02:08+08:00">2021-07-13</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-07-05 10:07:52" itemprop="dateModified" datetime="2025-07-05T10:07:52+08:00">2025-07-05</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/qqsnote/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/" itemprop="url" rel="index"><span itemprop="name">数据库</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <ul>
<li>触发器是一类存储过程</li>
<li>由数据表的事件(如insert update delete)触发，而不是手动调用</li>
</ul>
<h4 id="登录触发器"><a href="#登录触发器" class="headerlink" title="登录触发器"></a>登录触发器</h4><p><a target="_blank" rel="noopener" href="https://docs.microsoft.com/zh-cn/sql/relational-databases/triggers/logon-triggers?view=sql-server-ver15">官网例子</a> 场景：如果登录名login_test 已经创建了三个用户会话，触发器将拒绝该用户的登录尝试<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">USE master;  </span><br><span class="line">GO  </span><br><span class="line">CREATE LOGIN login_test WITH PASSWORD &#x3D; N&#39;3KHJ6dhx(0xVYsdf&#39; MUST_CHANGE,  </span><br><span class="line">    CHECK_EXPIRATION &#x3D; ON;  </span><br><span class="line">GO  </span><br><span class="line">GRANT VIEW SERVER STATE TO login_test;  </span><br><span class="line">GO  </span><br><span class="line">CREATE TRIGGER connection_limit_trigger  </span><br><span class="line">ON ALL SERVER WITH EXECUTE AS N&#39;login_test&#39;  </span><br><span class="line">FOR LOGON  </span><br><span class="line">AS  </span><br><span class="line">BEGIN  </span><br><span class="line">IF ORIGINAL_LOGIN()&#x3D; N&#39;login_test&#39; AND  </span><br><span class="line">    (SELECT COUNT(*) FROM sys.dm_exec_sessions  </span><br><span class="line">            WHERE is_user_process &#x3D; 1 AND  </span><br><span class="line">                original_login_name &#x3D; N&#39;login_test&#39;) &gt; 3  </span><br><span class="line">    ROLLBACK;  </span><br><span class="line">END;</span><br></pre></td></tr></table></figure><br>可知登录触发器在身份认证之后，建立会话之前触发<br>多个触发器的顺序，即支持指定the first和the last 见<a target="_blank" rel="noopener" href="https://docs.microsoft.com/zh-cn/sql/relational-databases/triggers/logon-triggers?view=sql-server-ver15#specifying-first-and-last-trigger">Microsoft Docs</a></p>
<h4 id="DDL"><a href="#DDL" class="headerlink" title="DDL"></a>DDL</h4><p>data define language 数据定义语言<br>即在使用会改变数据库数据结构的语句时触发，如CREATE、ALTER、DROP、GRANT、DENY、REVOKE 或 UPDATE STATISTICS 开头的 Transact-SQL 语句<br>场景</p>
<ul>
<li>防止对数据库架构进行某些更改。</li>
<li>希望数据库中发生某种情况以响应数据库架构的更改。</li>
<li>记录数据库架构的更改或事件。<h4 id="DML"><a href="#DML" class="headerlink" title="DML"></a>DML</h4>data manipulation language (DML) 数据操作语言  INSERT、UPDATE 或 DELETE 语句<br>after 触发器<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">CREATE TRIGGER schemaA.SyncData </span><br><span class="line">   ON  schemaA.TableA</span><br><span class="line">   AFTER INSERT</span><br><span class="line">AS </span><br><span class="line">BEGIN</span><br><span class="line">	-- SET NOCOUNT ON added to prevent extra result sets from</span><br><span class="line">	-- interfering with SELECT statements.</span><br><span class="line"></span><br><span class="line">    -- Insert statements for trigger here</span><br><span class="line">	insert into schemaB.TableB(Name,TrustedId,EmailAddress,Logo,Type,Enable,RecordStatus,RecordCreated,RecordLastUpdated)</span><br><span class="line">	select name,record_pk,email,logo,&#39;1&#39;,0,0,SYSDATETIME(),SYSDATETIME() from schemaA.TableA</span><br><span class="line">	SET NOCOUNT ON;</span><br><span class="line">END</span><br><span class="line">GO</span><br></pre></td></tr></table></figure>
instead of 触发器</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://qqstone.github.io/qqsnote/2021/07/10/FrontEnd-Fundation/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/qqsnote/images/avatar.gif">
      <meta itemprop="name" content="QQs">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="QQs'Note">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/qqsnote/2021/07/10/FrontEnd-Fundation/" class="post-title-link" itemprop="url">前端基础</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2021-07-10 22:08:04" itemprop="dateCreated datePublished" datetime="2021-07-10T22:08:04+08:00">2021-07-10</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-07-05 10:07:52" itemprop="dateModified" datetime="2025-07-05T10:07:52+08:00">2025-07-05</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/qqsnote/categories/%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF/" itemprop="url" rel="index"><span itemprop="name">前端技术</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <ol>
<li>DOCTYPE 有什么作用？怎么写？<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br></pre></td></tr></table></figure>
html5规范的文档声明，示意浏览器以相应的标准解析文档，使支持html5规范如新的标签等</li>
<li>列出常见的标签，并简单介绍这些标签用在什么场景？<br>canvas</li>
<li>页面出现了乱码，是怎么回事？如何解决？<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;meta http-equiv&#x3D;&quot;Content-Type&quot; content&#x3D;&quot;text&#x2F;html; charset&#x3D;utf-8&quot; &#x2F;&gt; </span><br></pre></td></tr></table></figure>
可能是即字符编码不匹配造成</li>
<li>title 属性和 alt 属性分别有什么作用？</li>
<li>HTML 的注释怎样写？</li>
<li>data- 属性的作用？<br><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Global_attributes/data-*">自定义数据属性data-*</a><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var box &#x3D; document.getElementById(&quot;box&quot;); &#x2F;&#x2F; &lt;div id&#x3D;&quot;box&quot; data-user-name&#x3D;&quot;QQs&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">var username &#x3D; box.dataset.userName;</span><br></pre></td></tr></table></figure></li>
<li>\<img> 的 title 和 alt 有什么区别？</li>
<li>Web 标准以及 W3C 标准是什么？ <a target="_blank" rel="noopener" href="https://www.runoob.com/web/web-standards.html">web标准</a></li>
<li>HTML 全局属性（<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Global_attributes">Global Attribute</a>）有哪些？<br>id class style title name data-* contenteditable translate</li>
<li>meta 有哪些常见的值？charset</li>
<li>meta viewport 是做什么用的，怎么写？\<meta data-n-head="ssr" name="viewport" content="width=device-width, initial-scale=1, user-scalable=no, viewport-fit=cover"></li>
<li>列出常见的标签，并简单介绍这些标签用在什么场景？</li>
<li>如何在 HTML 页面上展示 <div></div> 这几个字符？</li>
<li>你是如何理解 HTML 语义化的？</li>
<li>前端需要注意哪些 SEO?</li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://qqstone.github.io/qqsnote/2021/06/11/DataBaseLock/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/qqsnote/images/avatar.gif">
      <meta itemprop="name" content="QQs">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="QQs'Note">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/qqsnote/2021/06/11/DataBaseLock/" class="post-title-link" itemprop="url">DataBaseLock</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2021-06-11 11:00:59" itemprop="dateCreated datePublished" datetime="2021-06-11T11:00:59+08:00">2021-06-11</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-07-05 10:07:52" itemprop="dateModified" datetime="2025-07-05T10:07:52+08:00">2025-07-05</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/qqsnote/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/" itemprop="url" rel="index"><span itemprop="name">数据库</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://qqstone.github.io/qqsnote/2021/05/31/vbox/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/qqsnote/images/avatar.gif">
      <meta itemprop="name" content="QQs">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="QQs'Note">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/qqsnote/2021/05/31/vbox/" class="post-title-link" itemprop="url">Virtualbox</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2021-05-31 10:04:12" itemprop="dateCreated datePublished" datetime="2021-05-31T10:04:12+08:00">2021-05-31</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-07-05 10:07:52" itemprop="dateModified" datetime="2025-07-05T10:07:52+08:00">2025-07-05</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h4 id="VBoxManage"><a href="#VBoxManage" class="headerlink" title="VBoxManage"></a>VBoxManage</h4><p>ubuntu可ssh远程用此命令行工具管理虚拟机</p>
<ul>
<li>VBoxManage list vms/runningvms</li>
<li>VBoxManage startvm MyUbuntu<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vboxmanage startvm MyUbuntu --type headless #在宿主机端隐藏图形界面 </span><br></pre></td></tr></table></figure></li>
<li>VBoxManage controlvm MyUbuntu poweroff</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://qqstone.github.io/qqsnote/2021/05/14/graphQL/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/qqsnote/images/avatar.gif">
      <meta itemprop="name" content="QQs">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="QQs'Note">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/qqsnote/2021/05/14/graphQL/" class="post-title-link" itemprop="url">graphQL</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2021-05-14 13:45:05" itemprop="dateCreated datePublished" datetime="2021-05-14T13:45:05+08:00">2021-05-14</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-07-05 10:07:52" itemprop="dateModified" datetime="2025-07-05T10:07:52+08:00">2025-07-05</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h4 id="OData和GraphQL"><a href="#OData和GraphQL" class="headerlink" title="OData和GraphQL"></a>OData和GraphQL</h4><p>用了微软家的OData，就不得不再看一遍GraphQL，两者都让前端调用api获得了很大的自由度<br>相比OData的底层渗透性，GraphQL只在Http接口层做文章，实际上将底层模型封装成schema，开放给接口，这个过程更大程度上做到了安全性和前端业务的可控。</p>
<h4 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h4><p>见官方<a target="_blank" rel="noopener" href="https://graphql.cn/code/#%E6%9C%8D%E5%8A%A1%E7%AB%AF%E5%BA%93">GraphQL Doc：各种语言实现</a><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">var express &#x3D; require(&#39;express&#39;);</span><br><span class="line">var &#123;graphqlHTTP&#125; &#x3D; require(&#39;express-graphql&#39;);</span><br><span class="line">var &#123; buildSchema &#125; &#x3D; require(&#39;graphql&#39;);</span><br><span class="line"></span><br><span class="line">var schema &#x3D; buildSchema(&#96;</span><br><span class="line">  type Query &#123;</span><br><span class="line">    heros: [Hero]</span><br><span class="line">    battle(name:String): String</span><br><span class="line">    random: Float!</span><br><span class="line">  &#125;</span><br><span class="line">  type Hero&#123;</span><br><span class="line">    name:String</span><br><span class="line">    abilities: [String]</span><br><span class="line">&#125;</span><br><span class="line">&#96;);</span><br><span class="line"></span><br><span class="line">var root &#x3D; &#123; heros: () &#x3D;&gt; ([</span><br><span class="line">        &#123;</span><br><span class="line">            name: &#39;Luke skywalker&#39;,</span><br><span class="line">            abilities: [&#39;light sward&#39;, &#39;force&#39;]</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            name: &#39;Anakin skywalker&#39;,</span><br><span class="line">            abilities: [&#39;light sward&#39;, &#39;force&#39;, &#39;dark&#39;]</span><br><span class="line">        &#125;</span><br><span class="line">    ]),</span><br><span class="line">    battle: (name) &#x3D;&gt; &#123;</span><br><span class="line">        return &#39;I am your father&#39;;</span><br><span class="line">      &#125;,</span><br><span class="line">      random: () &#x3D;&gt; &#123;</span><br><span class="line">        return Math.random();</span><br><span class="line">      &#125;</span><br><span class="line"> &#125;;</span><br><span class="line"></span><br><span class="line">var app &#x3D; express();</span><br><span class="line">app.use(&#39;&#x2F;graphql&#39;, graphqlHTTP(&#123;</span><br><span class="line">  schema: schema,</span><br><span class="line">  rootValue: root,</span><br><span class="line">  graphiql: true,</span><br><span class="line">&#125;));</span><br><span class="line">app.listen(3000, () &#x3D;&gt; console.log(&#39;Now browse to localhost:3000&#x2F;graphql&#39;));</span><br></pre></td></tr></table></figure><br>关于graphqlHTTP(也就是GraphiQL客户端)的Options：<br>schema是查询涉及的类型声明， rootValue api的查询方法的集，详见下文章节</p>
<h4 id="schema-类型声明"><a href="#schema-类型声明" class="headerlink" title="schema 类型声明"></a>schema 类型声明</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">var schema &#x3D; buildSchema(&#96;</span><br><span class="line">    type Hero &#123;</span><br><span class="line">        name: String!</span><br><span class="line">        abilities: [String!]!</span><br><span class="line">        length(unit: LengthUnit &#x3D; METER): Float</span><br><span class="line">    &#125;</span><br><span class="line">&#96;);</span><br></pre></td></tr></table></figure>
<p>标量类型</p>
<ul>
<li>ID</li>
<li>String</li>
<li>Boolean</li>
<li>Int Float<br>注意 ！表示非空<br>枚举<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">enum Episode &#123;</span><br><span class="line">  NEWHOPE</span><br><span class="line">  EMPIRE</span><br><span class="line">  JEDI</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>接口和实现接口的类型<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">type Human implements Character &#123;</span><br><span class="line">  id: ID!</span><br><span class="line">  name: String!</span><br><span class="line">  friends: [Character]</span><br><span class="line">  appearsIn: [Episode]!</span><br><span class="line">  starships: [Starship]</span><br><span class="line">  totalCredits: Int</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>联合类型<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">union SearchResult &#x3D; Human | Droid | Starship</span><br></pre></td></tr></table></figure></p>
<h4 id="操作类型"><a href="#操作类型" class="headerlink" title="操作类型"></a>操作类型</h4><ul>
<li>query 查询：获取数据、查找</li>
<li>mutation 变更：对数据进行变更，比如增加、删除、修改</li>
<li>substription 订阅：当数据发生更改，进行消息推送</li>
</ul>
<h4 id="GraphQL-client"><a href="#GraphQL-client" class="headerlink" title="GraphQL client"></a>GraphQL client</h4><p>前面的express-graphQL启动后打开GraphiQL页面，GraphiQL就是一个客户端，使用GraphQL client向 GraphQL 服务器上的入口端点发送一个 HTTP POST 请求，其中将 GraphQL 查询作为 JSON 载荷的 query 字段，就能调用 GraphQL 服务器。<br>其js实现大致是<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">fetch(&#39;&#x2F;graphql&#39;, &#123;</span><br><span class="line">  method: &#39;POST&#39;,</span><br><span class="line">  headers: &#123;</span><br><span class="line">    &#39;Content-Type&#39;: &#39;application&#x2F;json&#39;,</span><br><span class="line">    &#39;Accept&#39;: &#39;application&#x2F;json&#39;,</span><br><span class="line">  &#125;,</span><br><span class="line">  body: JSON.stringify(&#123;query: &quot;&#123; hello &#125;&quot;&#125;)</span><br><span class="line">&#125;)</span><br><span class="line">  .then(r &#x3D;&gt; r.json())</span><br><span class="line">  .then(data &#x3D;&gt; console.log(&#39;data returned:&#39;, data));</span><br></pre></td></tr></table></figure></p>
<h4 id="查询参数"><a href="#查询参数" class="headerlink" title="查询参数"></a>查询参数</h4><p>schema 中的 Query声明了若干查询方法，查询方法的具体实现在root中定义，其参数类型的指定格式与typescript相同！<br>调用格式如下<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  battle(name:&quot;dark lord&quot;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://qqstone.github.io/qqsnote/2021/05/11/React-vs-Angular/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/qqsnote/images/avatar.gif">
      <meta itemprop="name" content="QQs">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="QQs'Note">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/qqsnote/2021/05/11/React-vs-Angular/" class="post-title-link" itemprop="url">React vs Angular</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2021-05-11 10:18:53" itemprop="dateCreated datePublished" datetime="2021-05-11T10:18:53+08:00">2021-05-11</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-07-05 10:07:52" itemprop="dateModified" datetime="2025-07-05T10:07:52+08:00">2025-07-05</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h4 id="template"><a href="#template" class="headerlink" title="template"></a>template</h4><p>vue和angular都鼓励开发者编写尽可能与常规Html相似的template，react却并不是，react则崇尚all in js. 不过从编译角度看，两种方式都是语法糖而已，无论编码风格，编译后都是一个可执行函数</p>
<h4 id="render-principle"><a href="#render-principle" class="headerlink" title="render principle"></a>render principle</h4><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/rockan007/article/details/90716237">了解Angular Ivy: Incremental DOM 和 Virtual DOM</a></p>
<h4 id="ecosystem"><a href="#ecosystem" class="headerlink" title="ecosystem"></a>ecosystem</h4><p>react生态庞杂，官方定义了基架，各种具体场景的实现技术在社区百花齐放，各路大神乐于造自己的轮子，库选型劝退选择恐惧症。。。<br>angular：桶里啥都有。。。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://qqstone.github.io/qqsnote/2021/04/27/UIdesign/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/qqsnote/images/avatar.gif">
      <meta itemprop="name" content="QQs">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="QQs'Note">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/qqsnote/2021/04/27/UIdesign/" class="post-title-link" itemprop="url">UIdesign</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2021-04-27 10:56:42" itemprop="dateCreated datePublished" datetime="2021-04-27T10:56:42+08:00">2021-04-27</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-07-05 10:07:52" itemprop="dateModified" datetime="2025-07-05T10:07:52+08:00">2025-07-05</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><a target="_blank" rel="noopener" href="https://www.canva.com/">https://www.canva.com/</a><br>这个网站的404是一个拼图游戏，纯html img + css以及拖动实现</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://qqstone.github.io/qqsnote/2021/04/25/Canvas-wordCloud/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/qqsnote/images/avatar.gif">
      <meta itemprop="name" content="QQs">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="QQs'Note">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/qqsnote/2021/04/25/Canvas-wordCloud/" class="post-title-link" itemprop="url">Canvas-wordCloud</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2021-04-25 14:52:09" itemprop="dateCreated datePublished" datetime="2021-04-25T14:52:09+08:00">2021-04-25</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-07-05 10:07:52" itemprop="dateModified" datetime="2025-07-05T10:07:52+08:00">2025-07-05</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="基础"><a href="#基础" class="headerlink" title="基础"></a>基础</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">const canvas &#x3D; document.getElementById(&#39;canvas&#39;)</span><br><span class="line">const ctx &#x3D; canvas.getContext(&#39;2d&#39;)</span><br><span class="line"></span><br><span class="line">ctx.beginPath()</span><br><span class="line">ctx.arc(75,75,50,0,Math.PI*2,true);&#x2F;&#x2F;以(75, 75)为圆心50为半径绘制从0~2pi的圆弧，true为顺时针</span><br><span class="line">ctx.stroke() &#x2F;&#x2F;使用线条绘制图形轮廓 相对的fill是填充图形</span><br></pre></td></tr></table></figure>
<blockquote>
<p>canvas元素创造了一块固定的画布，它公开了一个或多个渲染上下文，其可以用来绘制和处理要展示的内容。<br>getContext(‘2d’)提供了二维渲染上下文 并没有‘3d’参数，而是‘webgl’或‘webgl2’ 见<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/API/HTMLCanvasElement/getContext">GetContext MDN</a></p>
<h3 id="hexo-tag-cloud"><a href="#hexo-tag-cloud" class="headerlink" title="hexo tag cloud"></a>hexo tag cloud</h3><p><a target="_blank" rel="noopener" href="https://github.com/D0n9X1n/hexo-tag-cloud">Hexo plugin: hexo-tag-cloud</a><br>该项目使用使用胶水语言(如swig)，将tagCanvas.js植入Hexo项目<br><a target="_blank" rel="noopener" href="https://www.goat1000.com/tagcanvas.php">tagCanvas.js 库</a><br>在本项目qqsnote中，并按hexo-tag-cloud的README示意的没有集成到sidebar,而是集成到了theme/next/layout/page.swig，并按tagCanvas.js 库文档示意设置了权重显示模式</p>
</blockquote>
<h4 id="在屏幕上画一个立体球"><a href="#在屏幕上画一个立体球" class="headerlink" title="在屏幕上画一个立体球"></a>在屏幕上画一个立体球</h4><p>看一眼 <a target="_blank" rel="noopener" href="https://github.com/whxaxes/canvas-test/blob/master/src/3D-demo/3Dball.html">吖猩的3D旋转球</a></p>
<p>在球面的经纬焦点处绘制粒子，从球心到球半径R分n层纬度，2n经度，则共4n<sup>2</sup>+2n个点<br>假设在每个点处放置半径r的粒子小球，小球在二维屏幕的投影用arc绘制填充即可，投影圆的位置为(x,y)，z=(R<sup>2</sup>-x<sup>2</sup>-y<sup>2</sup>)<sup>1/2</sup><br>有意思的来了：球在二维的投影，位置(远近z)反映在投影上是投影圆的半径(也可以进而根据这个比例设置opacity)，两个成像物体成像到固定像平面，像高r与物距l的关系是<br>r’/r = (l-f)/(f-z)<br>当l=2f时成像与物体等大 即r’=f/(f-z)*r<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type&#x3D;&quot;text&#x2F;javascript&quot;&gt;</span><br><span class="line">    &#x2F;&#x2F; init webgl</span><br><span class="line">    const canvas &#x3D; document.getElementById(&#39;wordCloud&#39;)</span><br><span class="line">    const ctx &#x3D; canvas.getContext(&#39;2d&#39;)</span><br><span class="line">    ctx.clearRect(0, 0, canvas.width, canvas.height);</span><br><span class="line">    const vpx &#x3D; canvas.width&#x2F;2 &#x2F;&#x2F; 圆心偏移原点(0,0) 使x，y不为负数</span><br><span class="line">    const vpy &#x3D; canvas.height&#x2F;2</span><br><span class="line">    const R &#x3D; 300</span><br><span class="line">    &#x2F;&#x2F; z: [-300 300]</span><br><span class="line">    f &#x3D; 600 </span><br><span class="line">    opacity_min &#x3D; 0.3</span><br><span class="line">    const atoms&#x3D;[]</span><br><span class="line">    &#x2F;&#x2F; solid ball 经纬</span><br><span class="line">    &#x2F;&#x2F; 粒子</span><br><span class="line">    const atom &#x3D; function(x,y,z,r)&#123;</span><br><span class="line">        this.x &#x3D; x;</span><br><span class="line">        this.y &#x3D; y;</span><br><span class="line">        this.z &#x3D; z;</span><br><span class="line">        this.r &#x3D; r;</span><br><span class="line">    &#125;</span><br><span class="line">    atom.prototype.paint&#x3D;function()&#123;</span><br><span class="line">        ctx.save() &#x2F;&#x2F;?</span><br><span class="line">        ctx.beginPath()</span><br><span class="line">        const r_projection &#x3D; this.r*f&#x2F;(f-this.z) &#x2F;&#x2F; projection 投影</span><br><span class="line">        ctx.arc(vpx+this.x,vpy+this.y,this.r,0,Math.PI*2,true)</span><br><span class="line">        ctx.fillStyle&#x3D;&#96;rgba(255,255,255,$&#123;opacity_min + (R+this.z)&#x2F;2&#x2F;R&#125;)&#96;</span><br><span class="line">        ctx.fill()</span><br><span class="line">        ctx.restore()</span><br><span class="line">    &#125;</span><br><span class="line">    const N &#x3D; 5</span><br><span class="line">    for(let k&#x3D;-N; k&lt;&#x3D;N; k++)&#123; &#x2F;&#x2F; 2N+1个纬度</span><br><span class="line">        const R_latitude &#x3D; Math.pow(R*R - Math.pow(R*k&#x2F;N,2),0.5)</span><br><span class="line">        for(let i &#x3D; 0; i&lt;2*N; i++)&#123; &#x2F;&#x2F; 2N条经线</span><br><span class="line">            const x &#x3D; R_latitude*Math.cos(i*Math.PI&#x2F;N)</span><br><span class="line">            const y &#x3D; R_latitude*Math.sin(i*Math.PI&#x2F;N)</span><br><span class="line">            const z &#x3D; k&#x2F;N*R</span><br><span class="line">            const a &#x3D; new atom(x,y,z,1.5)</span><br><span class="line">            a.paint()</span><br><span class="line">            atoms.push(a)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure><br><img src="https://i0.wp.com/tvax4.sinaimg.cn/large/a60edd42ly1gpy2efigmqj20o20mcq2u.jpg" alt="五层纬度球"></p>
<p>如上相当于从z轴方向俯视一个球，了解另一种“撒点”方式:<br>球坐标点(R, θ, φ)<br><img src="https://tva3.sinaimg.cn/large/a60edd42ly1gpy37k5u8sj208c07g0so.jpg" alt="球坐标系"><br>x = R <em> sinθ </em> sinφ<br>y = R <em> sinθ </em> cosφ<br>z = R <em> cosθ<br>θ不取0和180就可以避免出现‘南北极’(上面的算法中极点是一圈粒子重合在一起)<br>设共N个粒子，i取[0, N)<br>找一个f(i)取值(-1, 1) 作为cosθ 那就f(i) = 2</em>(i + 1)/N - 1<br>找一个g(i)</p>
<h4 id="旋转"><a href="#旋转" class="headerlink" title="旋转"></a>旋转</h4><p>绕z轴 转过角度θ</p>
<script type="math/tex; mode=display">
\left[
 \begin{matrix}
   x' \\
   y' 
  \end{matrix}
  \right]=
 \left[
 \begin{matrix}
   cosθ & -sinθ \\
   sinθ & cosθ 
  \end{matrix}
  \right]·
  \left[
 \begin{matrix}
   x \\
   y 
  \end{matrix}
  \right]</script><p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/102814853">旋转矩阵的推导</a></p>
<p>实际上绕z旋转在投影屏幕上就是同心圆环绕，并没有粒子的前后(z)不变，也难以用一个二维的变量控制，因此前辈们都使用将鼠标(x, y)的偏移对应并分解到绕x，y轴的旋转之实现<br>旋转矩阵是相同的<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">let angleX &#x3D; angleY &#x3D; 0</span><br><span class="line">function rotateX(angle)&#123;</span><br><span class="line">    atoms.forEach(atom&#x3D;&gt;&#123;</span><br><span class="line">        const y &#x3D; atom.y*Math.cos(angle) - atom.z*Math.sin(angle) </span><br><span class="line">        const z &#x3D; atom.y*Math.sin(angle) + atom.z*Math.cos(angle)</span><br><span class="line">        atom.y &#x3D; y</span><br><span class="line">        atom.z &#x3D; z </span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line">function rotateY(angle)&#123;</span><br><span class="line">    atoms.forEach(atom&#x3D;&gt;&#123;</span><br><span class="line">        const z &#x3D; atom.z*Math.cos(angle) - atom.x*Math.sin(angle) </span><br><span class="line">        const x &#x3D; atom.z*Math.sin(angle) + atom.x*Math.cos(angle)</span><br><span class="line">        atom.z &#x3D; z</span><br><span class="line">        atom.x &#x3D; x </span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line">function rolling()&#123; &#x2F;&#x2F; click事件，点击一下随机绕x或y转十分之一圆周</span><br><span class="line">    ctx.clearRect(0, 0, canvas.width, canvas.height);</span><br><span class="line">    if(Math.random()&gt;0.5)&#123;</span><br><span class="line">        rotateX(Math.PI&#x2F;36)</span><br><span class="line">    &#125;else&#123;</span><br><span class="line">        rotateY(Math.PI&#x2F;36)</span><br><span class="line">    &#125;</span><br><span class="line">    atoms.forEach(atom&#x3D;&gt;&#123;</span><br><span class="line">        atom.paint()</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>根据鼠标偏移控制旋转角度<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">canvas.addEventListener(&#39;mousemove&#39;,function(e)&#123;</span><br><span class="line">    var x &#x3D; e.clientX - vpx</span><br><span class="line">    var y &#x3D; e.clientY - vpy</span><br><span class="line">    angleX &#x3D; -x*0.00001</span><br><span class="line">    angleY &#x3D; -y*0.00001</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><br>对于博客，该事件加在body上，使整个页面上都可以响应鼠标位置，相应的应减去球心位置偏移 (canvas.offsetLeft + document.body.scrollLeft + document.documentElement.scrollLeft, canvas.offsetTop + document.body.scrollTop + document.documentElement.scrollTop)</p>
<h4 id="window-requrestAnimationFrame"><a href="#window-requrestAnimationFrame" class="headerlink" title="window.requrestAnimationFrame"></a>window.requrestAnimationFrame</h4><blockquote>
<p>告诉浏览器:你希望执行一个动画，并且要求浏览器在下次重绘之前调用指定的回调函数更新动画。该方法需要传入一个回调函数作为参数，该回调函数会在浏览器下一次重绘之前执行</p>
</blockquote>
<p>因为渲染canvas和执行js不是一个线程，使用for循环来串起动画是行不通的，setInterval和setTimeout倒可以使用<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">let start</span><br><span class="line">function animation(timestamp)&#123;</span><br><span class="line">    ctx.clearRect(0, 0, canvas.width, canvas.height);</span><br><span class="line">    if(!start)&#123;</span><br><span class="line">        start &#x3D; timestamp</span><br><span class="line">    &#125;</span><br><span class="line">    rotateX(angleX)</span><br><span class="line">    rotateY(angleY)</span><br><span class="line">    atoms.forEach(atom&#x3D;&gt;&#123;</span><br><span class="line">        atom.paint()</span><br><span class="line">    &#125;)</span><br><span class="line">    const elapsed &#x3D; timestamp - start</span><br><span class="line">    if(true)&#123;</span><br><span class="line">        requestAnimationFrame(animation)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">requestAnimationFrame(animation)</span><br></pre></td></tr></table></figure></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/qqsnote/page/13/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/qqsnote/">1</a><span class="space">&hellip;</span><a class="page-number" href="/qqsnote/page/13/">13</a><span class="page-number current">14</span><a class="page-number" href="/qqsnote/page/15/">15</a><span class="space">&hellip;</span><a class="page-number" href="/qqsnote/page/34/">34</a><a class="extend next" rel="next" href="/qqsnote/page/15/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">QQs</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/qqsnote/archives/">
        
          <span class="site-state-item-count">336</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/qqsnote/categories/">
        <span class="site-state-item-count">21</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/qqsnote/tags/">
        <span class="site-state-item-count">128</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>



      </div>

      <div class="tag-cloud-tags">
        <a href="/qqsnote/tags/Net/" style="font-size: 30px; color: #fff">.Net</a> <a href="/qqsnote/tags/4G/" style="font-size: 12px; color: #ccc">4G</a> <a href="/qqsnote/tags/AI/" style="font-size: 22.5px; color: #eaeaea">AI</a> <a href="/qqsnote/tags/Android/" style="font-size: 12px; color: #ccc">Android</a> <a href="/qqsnote/tags/Angular/" style="font-size: 30px; color: #fff">Angular</a> <a href="/qqsnote/tags/Apache/" style="font-size: 13.5px; color: #d0d0d0">Apache</a> <a href="/qqsnote/tags/Azure/" style="font-size: 25.5px; color: #f2f2f2">Azure</a> <a href="/qqsnote/tags/Babylon/" style="font-size: 12px; color: #ccc">Babylon</a> <a href="/qqsnote/tags/C/" style="font-size: 16.5px; color: #d9d9d9">C#</a> <a href="/qqsnote/tags/C/" style="font-size: 16.5px; color: #d9d9d9">C++</a> <a href="/qqsnote/tags/CSS/" style="font-size: 19.5px; color: #e1e1e1">CSS</a> <a href="/qqsnote/tags/DevOps/" style="font-size: 15px; color: #d5d5d5">DevOps</a> <a href="/qqsnote/tags/Docker/" style="font-size: 16.5px; color: #d9d9d9">Docker</a> <a href="/qqsnote/tags/ES6/" style="font-size: 12px; color: #ccc">ES6</a> <a href="/qqsnote/tags/ESLint/" style="font-size: 12px; color: #ccc">ESLint</a> <a href="/qqsnote/tags/ElasticSearch/" style="font-size: 12px; color: #ccc">ElasticSearch</a> <a href="/qqsnote/tags/Electron/" style="font-size: 16.5px; color: #d9d9d9">Electron</a> <a href="/qqsnote/tags/ElementUI/" style="font-size: 12px; color: #ccc">ElementUI</a> <a href="/qqsnote/tags/EntityFramework/" style="font-size: 13.5px; color: #d0d0d0">EntityFramework</a> <a href="/qqsnote/tags/EventBus/" style="font-size: 12px; color: #ccc">EventBus</a> <a href="/qqsnote/tags/Excel/" style="font-size: 12px; color: #ccc">Excel</a> <a href="/qqsnote/tags/FastDFS/" style="font-size: 12px; color: #ccc">FastDFS</a> <a href="/qqsnote/tags/Figma/" style="font-size: 12px; color: #ccc">Figma</a> <a href="/qqsnote/tags/Go/" style="font-size: 12px; color: #ccc">Go</a> <a href="/qqsnote/tags/GraphQL/" style="font-size: 12px; color: #ccc">GraphQL</a> <a href="/qqsnote/tags/Jasmine/" style="font-size: 12px; color: #ccc">Jasmine</a> <a href="/qqsnote/tags/Java/" style="font-size: 13.5px; color: #d0d0d0">Java</a> <a href="/qqsnote/tags/Jenkins/" style="font-size: 21px; color: #e6e6e6">Jenkins</a> <a href="/qqsnote/tags/Linux/" style="font-size: 22.5px; color: #eaeaea">Linux</a> <a href="/qqsnote/tags/MQ/" style="font-size: 12px; color: #ccc">MQ</a> <a href="/qqsnote/tags/Markdown/" style="font-size: 13.5px; color: #d0d0d0">Markdown</a> <a href="/qqsnote/tags/MongoDB/" style="font-size: 12px; color: #ccc">MongoDB</a> <a href="/qqsnote/tags/Monorepo/" style="font-size: 12px; color: #ccc">Monorepo</a> <a href="/qqsnote/tags/MySQL/" style="font-size: 12px; color: #ccc">MySQL</a> <a href="/qqsnote/tags/NSIS/" style="font-size: 12px; color: #ccc">NSIS</a> <a href="/qqsnote/tags/Nginx/" style="font-size: 12px; color: #ccc">Nginx</a> <a href="/qqsnote/tags/NoSQL/" style="font-size: 12px; color: #ccc">NoSQL</a> <a href="/qqsnote/tags/Node-js/" style="font-size: 18px; color: #ddd">Node.js</a> <a href="/qqsnote/tags/OData/" style="font-size: 13.5px; color: #d0d0d0">OData</a> <a href="/qqsnote/tags/OpenCV/" style="font-size: 18px; color: #ddd">OpenCV</a> <a href="/qqsnote/tags/OpenGL/" style="font-size: 13.5px; color: #d0d0d0">OpenGL</a> <a href="/qqsnote/tags/PHP/" style="font-size: 12px; color: #ccc">PHP</a> <a href="/qqsnote/tags/PWA/" style="font-size: 12px; color: #ccc">PWA</a> <a href="/qqsnote/tags/PyCharm/" style="font-size: 12px; color: #ccc">PyCharm</a> <a href="/qqsnote/tags/Python/" style="font-size: 24px; color: #eee">Python</a> <a href="/qqsnote/tags/R3F/" style="font-size: 12px; color: #ccc">R3F</a> <a href="/qqsnote/tags/React/" style="font-size: 21px; color: #e6e6e6">React</a> <a href="/qqsnote/tags/SQL/" style="font-size: 12px; color: #ccc">SQL</a> <a href="/qqsnote/tags/SQL-Server/" style="font-size: 15px; color: #d5d5d5">SQL_Server</a> <a href="/qqsnote/tags/ServiceWorker/" style="font-size: 12px; color: #ccc">ServiceWorker</a> <a href="/qqsnote/tags/Shell/" style="font-size: 12px; color: #ccc">Shell</a> <a href="/qqsnote/tags/Three-js/" style="font-size: 16.5px; color: #d9d9d9">Three.js</a> <a href="/qqsnote/tags/TypeScript/" style="font-size: 13.5px; color: #d0d0d0">TypeScript</a> <a href="/qqsnote/tags/UE/" style="font-size: 12px; color: #ccc">UE</a> <a href="/qqsnote/tags/UI/" style="font-size: 12px; color: #ccc">UI</a> <a href="/qqsnote/tags/UML/" style="font-size: 12px; color: #ccc">UML</a> <a href="/qqsnote/tags/Virtualbox/" style="font-size: 12px; color: #ccc">Virtualbox</a> <a href="/qqsnote/tags/WPF/" style="font-size: 12px; color: #ccc">WPF</a> <a href="/qqsnote/tags/WebGL/" style="font-size: 21px; color: #e6e6e6">WebGL</a> <a href="/qqsnote/tags/WebService/" style="font-size: 12px; color: #ccc">WebService</a> <a href="/qqsnote/tags/Web%E5%8D%8F%E8%AE%AE/" style="font-size: 12px; color: #ccc">Web协议</a> <a href="/qqsnote/tags/Web%E5%BC%80%E5%8F%91/" style="font-size: 27px; color: #f7f7f7">Web开发</a> <a href="/qqsnote/tags/Wechat/" style="font-size: 12px; color: #ccc">Wechat</a> <a href="/qqsnote/tags/aigc/" style="font-size: 12px; color: #ccc">aigc</a> <a href="/qqsnote/tags/auth/" style="font-size: 12px; color: #ccc">auth</a> <a href="/qqsnote/tags/axios/" style="font-size: 12px; color: #ccc">axios</a> <a href="/qqsnote/tags/canvas/" style="font-size: 12px; color: #ccc">canvas</a> <a href="/qqsnote/tags/css/" style="font-size: 12px; color: #ccc">css</a> <a href="/qqsnote/tags/express/" style="font-size: 12px; color: #ccc">express</a> <a href="/qqsnote/tags/ftp/" style="font-size: 12px; color: #ccc">ftp</a> <a href="/qqsnote/tags/git/" style="font-size: 13.5px; color: #d0d0d0">git</a> <a href="/qqsnote/tags/hexo/" style="font-size: 12px; color: #ccc">hexo</a> <a href="/qqsnote/tags/http/" style="font-size: 12px; color: #ccc">http</a> <a href="/qqsnote/tags/http2/" style="font-size: 12px; color: #ccc">http2</a> <a href="/qqsnote/tags/https/" style="font-size: 12px; color: #ccc">https</a> <a href="/qqsnote/tags/ionic/" style="font-size: 12px; color: #ccc">ionic</a> <a href="/qqsnote/tags/javascript/" style="font-size: 28.5px; color: #fbfbfb">javascript</a> <a href="/qqsnote/tags/k8s/" style="font-size: 12px; color: #ccc">k8s</a> <a href="/qqsnote/tags/login/" style="font-size: 12px; color: #ccc">login</a> <a href="/qqsnote/tags/loopback/" style="font-size: 12px; color: #ccc">loopback</a> <a href="/qqsnote/tags/ngrok/" style="font-size: 12px; color: #ccc">ngrok</a> <a href="/qqsnote/tags/npm/" style="font-size: 12px; color: #ccc">npm</a> <a href="/qqsnote/tags/nsis/" style="font-size: 13.5px; color: #d0d0d0">nsis</a> <a href="/qqsnote/tags/redis/" style="font-size: 12px; color: #ccc">redis</a> <a href="/qqsnote/tags/sqlServer/" style="font-size: 12px; color: #ccc">sqlServer</a> <a href="/qqsnote/tags/ssh/" style="font-size: 12px; color: #ccc">ssh</a> <a href="/qqsnote/tags/svg/" style="font-size: 12px; color: #ccc">svg</a> <a href="/qqsnote/tags/trea/" style="font-size: 12px; color: #ccc">trea</a> <a href="/qqsnote/tags/vtk/" style="font-size: 16.5px; color: #d9d9d9">vtk</a> <a href="/qqsnote/tags/vuejs/" style="font-size: 19.5px; color: #e1e1e1">vuejs</a> <a href="/qqsnote/tags/webassembly/" style="font-size: 15px; color: #d5d5d5">webassembly</a> <a href="/qqsnote/tags/webpack/" style="font-size: 12px; color: #ccc">webpack</a> <a href="/qqsnote/tags/websocket/" style="font-size: 12px; color: #ccc">websocket</a> <a href="/qqsnote/tags/windows/" style="font-size: 12px; color: #ccc">windows</a> <a href="/qqsnote/tags/yarn/" style="font-size: 12px; color: #ccc">yarn</a> <a href="/qqsnote/tags/%E4%B8%8A%E4%BC%A0/" style="font-size: 12px; color: #ccc">上传</a> <a href="/qqsnote/tags/%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F/" style="font-size: 12px; color: #ccc">内网穿透</a> <a href="/qqsnote/tags/%E5%8A%A0%E5%AF%86/" style="font-size: 16.5px; color: #d9d9d9">加密</a> <a href="/qqsnote/tags/%E5%8C%BB%E5%AD%A6%E5%9B%BE%E5%83%8F/" style="font-size: 13.5px; color: #d0d0d0">医学图像</a> <a href="/qqsnote/tags/%E5%8D%9A%E5%BC%88%E8%AE%BA/" style="font-size: 12px; color: #ccc">博弈论</a> <a href="/qqsnote/tags/%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86/" style="font-size: 12px; color: #ccc">图像处理</a> <a href="/qqsnote/tags/%E5%9B%BE%E5%BD%A2%E5%AD%A6/" style="font-size: 18px; color: #ddd">图形学</a> <a href="/qqsnote/tags/%E5%A4%9A%E8%AF%AD%E8%A8%80/" style="font-size: 13.5px; color: #d0d0d0">多语言</a> <a href="/qqsnote/tags/%E5%A4%A7%E6%A8%A1%E5%9E%8B/" style="font-size: 12px; color: #ccc">大模型</a> <a href="/qqsnote/tags/%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B/" style="font-size: 12px; color: #ccc">存储过程</a> <a href="/qqsnote/tags/%E6%80%A7%E8%83%BD/" style="font-size: 15px; color: #d5d5d5">性能</a> <a href="/qqsnote/tags/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/" style="font-size: 13.5px; color: #d0d0d0">性能优化</a> <a href="/qqsnote/tags/%E6%88%90%E9%95%BF%E6%80%9D%E7%BB%B4/" style="font-size: 12px; color: #ccc">成长思维</a> <a href="/qqsnote/tags/%E6%91%84%E5%BD%B1/" style="font-size: 12px; color: #ccc">摄影</a> <a href="/qqsnote/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/" style="font-size: 12px; color: #ccc">操作系统</a> <a href="/qqsnote/tags/%E6%95%B0%E5%AD%97%E7%AD%BE%E5%90%8D/" style="font-size: 12px; color: #ccc">数字签名</a> <a href="/qqsnote/tags/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/" style="font-size: 12px; color: #ccc">数据可视化</a> <a href="/qqsnote/tags/%E6%95%B0%E6%8D%AE%E5%BA%93%E9%94%81/" style="font-size: 12px; color: #ccc">数据库锁</a> <a href="/qqsnote/tags/%E6%A0%91%E8%8E%93%E6%B4%BE/" style="font-size: 12px; color: #ccc">树莓派</a> <a href="/qqsnote/tags/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/" style="font-size: 12px; color: #ccc">正则表达式</a> <a href="/qqsnote/tags/%E7%89%A9%E8%81%94%E7%BD%91/" style="font-size: 12px; color: #ccc">物联网</a> <a href="/qqsnote/tags/%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F/" style="font-size: 13.5px; color: #d0d0d0">环境变量</a> <a href="/qqsnote/tags/%E7%AE%97%E6%B3%95/" style="font-size: 16.5px; color: #d9d9d9">算法</a> <a href="/qqsnote/tags/%E7%BC%96%E7%A0%81%E8%A7%84%E8%8C%83/" style="font-size: 12px; color: #ccc">编码规范</a> <a href="/qqsnote/tags/%E8%8B%B1%E8%AF%AD/" style="font-size: 12px; color: #ccc">英语</a> <a href="/qqsnote/tags/%E8%A7%86%E9%A2%91%E6%B5%81/" style="font-size: 12px; color: #ccc">视频流</a> <a href="/qqsnote/tags/%E8%A7%A6%E5%8F%91%E5%99%A8/" style="font-size: 12px; color: #ccc">触发器</a> <a href="/qqsnote/tags/%E8%AE%A4%E8%AF%81-%E6%8E%88%E6%9D%83/" style="font-size: 21px; color: #e6e6e6">认证&授权</a> <a href="/qqsnote/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" style="font-size: 12px; color: #ccc">设计模式</a> <a href="/qqsnote/tags/%E8%AF%BB%E4%B9%A6/" style="font-size: 12px; color: #ccc">读书</a> <a href="/qqsnote/tags/%E8%BF%9B%E7%A8%8B%E5%AE%88%E6%8A%A4/" style="font-size: 12px; color: #ccc">进程守护</a> <a href="/qqsnote/tags/%E9%9D%A2%E8%AF%95/" style="font-size: 13.5px; color: #d0d0d0">面试</a> <a href="/qqsnote/tags/%E9%A6%99%E6%A9%99%E6%B4%BE/" style="font-size: 12px; color: #ccc">香橙派</a>
      </div>
    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">QQs</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/qqsnote/lib/anime.min.js"></script>
  <script src="/qqsnote/lib/velocity/velocity.min.js"></script>
  <script src="/qqsnote/lib/velocity/velocity.ui.min.js"></script>

<script src="/qqsnote/js/utils.js"></script>

<script src="/qqsnote/js/motion.js"></script>


<script src="/qqsnote/js/schemes/muse.js"></script>


<script src="/qqsnote/js/next-boot.js"></script>




  




  
<script src="/qqsnote/js/local-search.js"></script>













  

  
      

<script>
  if (typeof MathJax === 'undefined') {
    window.MathJax = {
      loader: {
        source: {
          '[tex]/amsCd': '[tex]/amscd',
          '[tex]/AMScd': '[tex]/amscd'
        }
      },
      tex: {
        inlineMath: {'[+]': [['$', '$']]},
        tags: 'ams'
      },
      options: {
        renderActions: {
          findScript: [10, doc => {
            document.querySelectorAll('script[type^="math/tex"]').forEach(node => {
              const display = !!node.type.match(/; *mode=display/);
              const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
              const text = document.createTextNode('');
              node.parentNode.replaceChild(text, node);
              math.start = {node: text, delim: '', n: 0};
              math.end = {node: text, delim: '', n: 0};
              doc.math.push(math);
            });
          }, '', false],
          insertedScript: [200, () => {
            document.querySelectorAll('mjx-container').forEach(node => {
              let target = node.parentNode;
              if (target.nodeName.toLowerCase() === 'li') {
                target.parentNode.classList.add('has-jax');
              }
            });
          }, '', false]
        }
      }
    };
    (function () {
      var script = document.createElement('script');
      script.src = '//cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js';
      script.defer = true;
      document.head.appendChild(script);
    })();
  } else {
    MathJax.startup.document.state(0);
    MathJax.texReset();
    MathJax.typeset();
  }
</script>

    

  

</body>
</html>
