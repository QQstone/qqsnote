<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.1">
  <link rel="apple-touch-icon" sizes="180x180" href="/qqsnote/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/qqsnote/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/qqsnote/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/qqsnote/images/logo.svg" color="#222">

<link rel="stylesheet" href="/qqsnote/css/main.css">


<link rel="stylesheet" href="/qqsnote/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"qqstone.github.io","root":"/qqsnote/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.json"};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="QQs&#39;Note">
<meta property="og:url" content="http://qqstone.github.io/qqsnote/page/18/index.html">
<meta property="og:site_name" content="QQs&#39;Note">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="QQs">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://qqstone.github.io/qqsnote/page/18/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'en'
  };
</script>

  <title>QQs'Note</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/qqsnote/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">QQs'Note</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/qqsnote/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/qqsnote/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://qqstone.github.io/qqsnote/2020/11/30/font-icon/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/qqsnote/images/avatar.gif">
      <meta itemprop="name" content="QQs">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="QQs'Note">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/qqsnote/2020/11/30/font-icon/" class="post-title-link" itemprop="url">font-icon</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-11-30 14:38:50" itemprop="dateCreated datePublished" datetime="2020-11-30T14:38:50+08:00">2020-11-30</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-07-05 10:07:52" itemprop="dateModified" datetime="2025-07-05T10:07:52+08:00">2025-07-05</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/qqsnote/categories/%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF/" itemprop="url" rel="index"><span itemprop="name">前端技术</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h4 id="将图标转为字体格式"><a href="#将图标转为字体格式" class="headerlink" title="将图标转为字体格式"></a>将图标转为字体格式</h4><p><a target="_blank" rel="noopener" href="https://icomoon.io/app/#/select">icomoon</a></p>
<h4 id="将图标封装到css伪类"><a href="#将图标封装到css伪类" class="headerlink" title="将图标封装到css伪类"></a>将图标封装到css伪类</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">.icon.icon-add&#123;</span><br><span class="line">	position: relative;</span><br><span class="line">    padding-left: 22px;</span><br><span class="line">    margin-left: 4px;</span><br><span class="line">	&amp;::before&#123;</span><br><span class="line">		content: &#39;&#39;;</span><br><span class="line">		position: absolute;</span><br><span class="line">		left: 0px;</span><br><span class="line">		bottom: calc(50% - 10px);</span><br><span class="line">		background: url(.&#x2F;assets&#x2F;image&#x2F;icon_add.svg) no-repeat top left;</span><br><span class="line">		width: 18px;</span><br><span class="line">		height: 18px;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://qqstone.github.io/qqsnote/2020/11/26/dotNetCore-DI-IoC/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/qqsnote/images/avatar.gif">
      <meta itemprop="name" content="QQs">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="QQs'Note">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/qqsnote/2020/11/26/dotNetCore-DI-IoC/" class="post-title-link" itemprop="url">.Net Core 依赖注入</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-11-26 14:09:54" itemprop="dateCreated datePublished" datetime="2020-11-26T14:09:54+08:00">2020-11-26</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-07-05 10:07:52" itemprop="dateModified" datetime="2025-07-05T10:07:52+08:00">2025-07-05</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>通常调用一个功能，将其所属类型new出一个实例，随后调用这个对象的方法，new的过程使用具体的构造方法，后来我们将接口和实现分离，调用功能的地方用接口编码，而具体实现的方法在某处独立配置，一旦需要修改实现，不至于到处替换代码。</p>
<p><span>ASP.NET</span> Core提供内置服务容器IServiceProvider,将服务注入到使用它的类的构造函数中。 框架负责创建依赖关系的实例，并在不再需要时将其释放。</p>
<h4 id="注册服务"><a href="#注册服务" class="headerlink" title="注册服务"></a>注册服务</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">public void ConfigureServices(IServiceCollection services)</span><br><span class="line">&#123;</span><br><span class="line">    services.AddSingleton&lt;IDateTime, SystemDateTime&gt;();</span><br><span class="line"></span><br><span class="line">    services.AddControllersWithViews();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>其中IDateTime是接口类，SystemDateTime是前者的实现类，<a target="_blank" rel="noopener" href="https://docs.microsoft.com/zh-cn/dotnet/api/microsoft.extensions.dependencyinjection.servicecollectionserviceextensions.addsingleton?view=dotnet-plat-ext-5.0">AddSingleton(IServiceCollection, Type)方法</a>将 serviceType 中指定类型的单一实例服务添加到指定的 IServiceCollection 中。<br>以生命周期区分的三种方式还有services.AddScoped<IMyDependency, MyDependency>()的注册方式以及services.AddTransient<IMyDependency, MyDependency>()方式， 区别如下</p>
<ul>
<li>singleton： IoC容器将在应用程序的整个生命周期内创建和共享服务的单个实例。</li>
<li>transient：每次您请求时，IoC容器都会创建一个指定服务类型的新实例。</li>
<li>scope： IoC容器将为每个请求创建一次指定服务类型的实例，并将在单个请求中共享。<h4 id="构造函数注入"><a href="#构造函数注入" class="headerlink" title="构造函数注入"></a>构造函数注入</h4>调用接口时，将接口类作为构造函数参数<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">public class Index2Model : PageModel</span><br><span class="line">&#123;</span><br><span class="line">    private readonly IMyDependency _myDependency;</span><br><span class="line">    public Index2Model(IMyDependency myDependency)</span><br><span class="line">    &#123;</span><br><span class="line">        _myDependency &#x3D; myDependency;            </span><br><span class="line">    &#125;</span><br><span class="line">    public void OnGet()</span><br><span class="line">    &#123;</span><br><span class="line">        _myDependency.WriteMessage(&quot;Index2Model.OnGet&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="FromServices-attribute注入"><a href="#FromServices-attribute注入" class="headerlink" title="FromServices attribute注入"></a>FromServices attribute注入</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">public IActionResult About([FromServices] IDateTime dateTime)</span><br><span class="line">&#123;</span><br><span class="line">    return Content( $&quot;Current server time: &#123;dateTime.Now&#125;&quot;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="Controller-settings注入"><a href="#Controller-settings注入" class="headerlink" title="Controller settings注入"></a>Controller settings注入</h4>setttings类<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">public class SampleWebSettings</span><br><span class="line">&#123;</span><br><span class="line">    public string Title &#123; get; set; &#125;</span><br><span class="line">    public int Updates &#123; get; set; &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
将Configuration类加入到services collection<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">public void ConfigureServices(IServiceCollection services)</span><br><span class="line">&#123;</span><br><span class="line">    services.AddSingleton&lt;IDateTime, SystemDateTime&gt;();</span><br><span class="line">    services.Configure&lt;SampleWebSettings&gt;(Configuration);</span><br><span class="line"></span><br><span class="line">    services.AddControllersWithViews();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://qqstone.github.io/qqsnote/2020/11/24/Azure-ADDS/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/qqsnote/images/avatar.gif">
      <meta itemprop="name" content="QQs">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="QQs'Note">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/qqsnote/2020/11/24/Azure-ADDS/" class="post-title-link" itemprop="url">Azure 域服务</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-11-24 14:34:36" itemprop="dateCreated datePublished" datetime="2020-11-24T14:34:36+08:00">2020-11-24</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-12-04 15:19:52" itemprop="dateModified" datetime="2025-12-04T15:19:52+08:00">2025-12-04</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/qqsnote/categories/%E4%BA%91%E5%B9%B3%E5%8F%B0/" itemprop="url" rel="index"><span itemprop="name">云平台</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>Caution！ 这个东西非常昂贵 不要在自己的Azure上学习实践！</p>
<h4 id="Azure-AD-DS"><a href="#Azure-AD-DS" class="headerlink" title="Azure AD DS"></a>Azure AD DS</h4><p>域名（domain name），是命名空间，域名用于在网络传输中标识资源的电子方位。</p>
<blockquote>
<p>Azure Active Directory 域服务 (AD DS) 提供托管域服务，如域加入（domain join）,group policy,轻量目录访问协议(lightweight directory access protocol,LDAP)等。无须在云端手动部署和管理domain controllers即可使用上述服务</p>
</blockquote>
<h4 id="创建托管域"><a href="#创建托管域" class="headerlink" title="创建托管域"></a>创建托管域</h4><p>Azure Portal上搜索并创建Azure AD Domain Services<br><img src="https://docs.microsoft.com/zh-cn/azure/active-directory-domain-services/media/tutorial-create-instance/basics-window.png" alt=""><br>注意事项</p>
<ul>
<li>内置域名（Built-in domain name） 以 .onmicrosoft.com 为后缀的内置域名</li>
<li>自定义域名，指定自定义域名，通常是你已拥有且可路由的域名</li>
<li>前缀限制 15字符</li>
<li>网络名称冲突： 托管域的 DNS 域名不能已存在于虚拟网络中。<br>确认创建后便开始漫长的等待部署的过程<h4 id="后续步骤"><a href="#后续步骤" class="headerlink" title="后续步骤"></a>后续步骤</h4></li>
<li><a target="_blank" rel="noopener" href="https://docs.microsoft.com/zh-cn/azure/active-directory-domain-services/tutorial-create-instance#update-dns-settings-for-the-azure-virtual-network">更新虚拟网络DNS</a></li>
<li>“forest（林）”</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://qqstone.github.io/qqsnote/2020/11/23/SQL-Project/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/qqsnote/images/avatar.gif">
      <meta itemprop="name" content="QQs">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="QQs'Note">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/qqsnote/2020/11/23/SQL-Project/" class="post-title-link" itemprop="url">SQL Project及其持续集成</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-11-23 13:27:05" itemprop="dateCreated datePublished" datetime="2020-11-23T13:27:05+08:00">2020-11-23</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-07-05 10:07:52" itemprop="dateModified" datetime="2025-07-05T10:07:52+08:00">2025-07-05</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/qqsnote/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/" itemprop="url" rel="index"><span itemprop="name">数据库</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/qqsnote/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/%E5%B7%A5%E5%85%B7/" itemprop="url" rel="index"><span itemprop="name">工具</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h4 id="SSDT-Project"><a href="#SSDT-Project" class="headerlink" title="SSDT Project"></a>SSDT Project</h4><blockquote>
<p>SQL Server Data Tools (SSDT) 通过引入跨 Visual Studio 内所有数据库开发阶段的无所不在的声明性模型，为数据库开发带来变革。创建一个数据库项目进行脱机的数据库开发（不直接对数据库服务进行在线修改），像编辑声明定义一样创建、编辑、重命名和删除表、存储过程、类型和函数。</p>
</blockquote>
<p>为Visual Studio安装SSDT的features，加载sqlproj或dtproj项目(VS2010数据库和服务器项目、数据层应用程序项目)，用所提供的方法build、publish所作的修改。<br><img src="https://docs.microsoft.com/zh-cn/sql/ssdt/media/download-sql-server-data-tools-ssdt/data-workload-2019.png" alt=""><br>参考<a target="_blank" rel="noopener" href="https://docs.microsoft.com/zh-cn/sql/ssdt/project-oriented-offline-database-development">Microsoft Docs:面向项目的脱机数据库开发</a></p>
<h4 id="创建visual-studio-sql-project"><a href="#创建visual-studio-sql-project" class="headerlink" title="创建visual studio sql project"></a>创建visual studio sql project</h4><p>参考<a target="_blank" rel="noopener" href="https://developer.aliyun.com/article/355897">SQL Server 数据库项目</a></p>
<h4 id="publish"><a href="#publish" class="headerlink" title="publish"></a>publish</h4><p>右键项目 选择Publish<br>注意 Scripts目录下的脚本也会执行，因此在这里编写初始数据是可行的<br>如果是初始化数据，为了防止脚本重复执行，可以按如下方式插入数据<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">DECLARE @CSDid uniqueidentifier</span><br><span class="line">SELECT @CSDid&#x3D;NEWID()</span><br><span class="line">INSERT INTO [ent].[ScannerGroup]</span><br><span class="line">           ([ID]</span><br><span class="line">           ,[Name]</span><br><span class="line">           ,[ParentID]</span><br><span class="line">           ,[Type]</span><br><span class="line">           ,[BrandID]</span><br><span class="line">           ,[GroupLevel])</span><br><span class="line">     SELECT</span><br><span class="line">           @CSDid</span><br><span class="line">           ,&#39;CSD&#39;</span><br><span class="line">           ,null</span><br><span class="line">           ,10</span><br><span class="line">           ,null</span><br><span class="line">           ,HierarchyID::GetRoot()</span><br><span class="line">     WHERE NOT EXISTS (SELECT 1 FROM [ent].[ScannerGroup])</span><br><span class="line"></span><br><span class="line">INSERT INTO [ent].[PartnerAdmin]</span><br><span class="line">           ([ID]</span><br><span class="line">           ,[Email]</span><br><span class="line">           ,[GroupID]</span><br><span class="line">           ,[Name])</span><br><span class="line">     SELECT</span><br><span class="line">           NEWID()</span><br><span class="line">           ,&#39;qqqqq@qqqq.qqq&#39;</span><br><span class="line">           ,@CSDid</span><br><span class="line">           ,&#39;QQs&#39;</span><br><span class="line">     WHERE NOT EXISTS (SELECT 1 FROM [ent].[PartnerAdmin])</span><br><span class="line">GO</span><br></pre></td></tr></table></figure></p>
<h4 id="Predeployment-Scripts-amp-Postdeployment-Scripts"><a href="#Predeployment-Scripts-amp-Postdeployment-Scripts" class="headerlink" title="Predeployment Scripts &amp; Postdeployment Scripts"></a>Predeployment Scripts &amp; Postdeployment Scripts</h4><blockquote>
<p>Predeployment Scripts和Postdeployment Scripts分别在数据库项目生成的主要部署脚本之前和之后执行，在 Visual Studio 中，从架构比较结果更新目标时(Compare之后的Update)，将不执行Predeployment Scripts。 <br>一个项目只能有一个Predeployment Scripts和一个Postdeployment Scripts。 </p>
</blockquote>
<p>Scripts文件夹右键Add —&gt; Script… 选择Pre Deployment Scripts或Post Deployment Scripts</p>
<h4 id="issues"><a href="#issues" class="headerlink" title="issues"></a>issues</h4><blockquote>
<p>Only one statement is allowed per batch. A batch separator, such as ‘GO’, might be required between statements.</p>
</blockquote>
<p>Scripts目录下的sql文件属性中，默认Build Action = Build导致编译失败，应改为Build Action = None</p>
<p>.jfm文件，可以认为是对项目操作的备份，若未自动添加到gitignore，则可手动添加</p>
<blockquote>
<p>Cannot import the following key file: RightCheckDB.pfx. The key file may be password protected. To correct this, try to import the certificate again or manually install the certificate to the Strong Name CSP with the following key container name: VS_KEY_E7D8A7C85598CE59</p>
</blockquote>
<p>pfx是保存SSL Certificate的一种文件格式，上述错误表示SQL项目需要重新认证凭据。<br>重新写入密码的方式<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&quot;C:\Program Files (x86)\Microsoft SDKs\Windows\v10.0A\bin\NETFX 4.8 Tools\sn.exe&quot; -i companyname.pfx VS_KEY_3E185446540E7F7A</span><br></pre></td></tr></table></figure></p>
<h4 id="用MSBuild和Jenkins实现Continuse-Integration"><a href="#用MSBuild和Jenkins实现Continuse-Integration" class="headerlink" title="用MSBuild和Jenkins实现Continuse Integration"></a>用MSBuild和Jenkins实现Continuse Integration</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">## set msbuild.exe&#x3D;C:&#x2F;Program Files (x86)&#x2F;Microsoft Visual Studio&#x2F;2017&#x2F;Professional&#x2F;MSBuild&#x2F;15.0&#x2F;Bin&#x2F;MSBuild.exe</span><br><span class="line">msbuild.exe &#x2F;t:Build &quot;MyDB.sqlproj&quot;</span><br><span class="line">msbuild.exe &#x2F;t:Publish &#x2F;p:SqlPublishProfilePath&#x3D;&quot;MyDB.publish.staging.xml&quot; &quot;MyDB.sqlproj&quot;</span><br></pre></td></tr></table></figure>
<h4 id="DevOps-issues"><a href="#DevOps-issues" class="headerlink" title="DevOps issues"></a>DevOps issues</h4><ul>
<li>实现一键部署</li>
<li>实现集成过程可配置</li>
<li>自动化脚本提交到版本控制库</li>
<li>利用版本控制回退数据库</li>
<li>应用的更新的集成使用最新的数据库</li>
<li>pipeline执行测试</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://qqstone.github.io/qqsnote/2020/11/20/oidc-client/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/qqsnote/images/avatar.gif">
      <meta itemprop="name" content="QQs">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="QQs'Note">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/qqsnote/2020/11/20/oidc-client/" class="post-title-link" itemprop="url">oidc-client package</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-11-20 09:56:14" itemprop="dateCreated datePublished" datetime="2020-11-20T09:56:14+08:00">2020-11-20</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-07-05 10:07:52" itemprop="dateModified" datetime="2025-07-05T10:07:52+08:00">2025-07-05</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>包如其名，是对<a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html">openID connection</a>协议的实现</p>
<p>包主要提供基于两个class的功能，UserManager和OidcClient。UserManager提供登录/登出，管理OIDC provider返回的用户信息（user claims），管理access token等，是oidc-client package的主要功能。OidcClient是更底层的协议实现，并被UserManager调用。</p>
<h4 id="UserManager初始化"><a href="#UserManager初始化" class="headerlink" title="UserManager初始化"></a>UserManager初始化</h4><p>UserManager使用OIDC provider的相关配置进行初始化<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">readonly setting &#x3D; &#123;</span><br><span class="line">    client_id: &quot;c5a333eb-fbbd-4643-b8fb-846e0c82ca03&quot;, &#x2F;&#x2F; Required！</span><br><span class="line">    authority: &quot;https:&#x2F;&#x2F;qqstudio.b2clogin.cn&#x2F;qqstudio.onmicrosoft.com&#x2F;B2C_1_pp_userflow&#x2F;v2.0&#x2F;&quot;, &#x2F;&#x2F; 即&#123;tenant&#125;&#x2F;&#123;directory&#125;&#123;userflow&#125; Required！  </span><br><span class="line">    response_type: &quot;id_token token&quot;, &#x2F;&#x2F; string, default: &#39;id_token&#39; Required！</span><br><span class="line">    scope: &quot;openid&quot; &#x2F;&#x2F; Required！OIDC provider授权的scope</span><br><span class="line">    redirect_uri: &quot;https:&#x2F;&#x2F;localhost:44362&#x2F;signin-callback.html&quot;, &#x2F;&#x2F; 返回的token将被链在这个url后面 Required！</span><br><span class="line"></span><br><span class="line">    silent_redirect_uri: &quot;https:&#x2F;&#x2F;localhost:44362&#x2F;silent-callback.html&quot;,</span><br><span class="line">    automaticSilentRenew: true</span><br><span class="line">&#125;</span><br><span class="line">var _userManager &#x3D; new UserManager(settings);</span><br></pre></td></tr></table></figure><br>其他参数见<a target="_blank" rel="noopener" href="https://github.com/IdentityModel/oidc-client-js/wiki">oidc-client wiki</a></p>
<h4 id="跳转到登录"><a href="#跳转到登录" class="headerlink" title="跳转到登录"></a>跳转到登录</h4><p>当access_token缺失或过期，抑或由api发现失效而返回401时，可以调用UserManager的下述方法跳转到登录<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">this._userManager.signinRedirect(&#123; state: location.href, prompt: &quot;login&quot; &#125;).then(function () &#123;</span><br><span class="line">    console.log(&#39;signinRedirect done&#39;);</span><br><span class="line">&#125;).catch(function (err) &#123;</span><br><span class="line">    console.log(err);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><br>方法支持传键值对作为参数，这些参数将拼接在登录地址的url parameter中形如&amp;prompt=login，登录成功重定向回到app时可以取回这些参数，从而继续被登录中断的操作。</p>
<h4 id="重定向回到App"><a href="#重定向回到App" class="headerlink" title="重定向回到App"></a>重定向回到App</h4><p>在signin-callback.html页面的初始化方法中调用userManager的signinRedirectCallback，该方法从url的parameter取出access token以及前文所述的其他登录跳转参数（这些参数可以用回调函数取出处理）<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">this._userManager.signinRedirectCallback((user: User) &#x3D;&gt; &#123;</span><br><span class="line">    if (user &amp;&amp; user.state) &#123;</span><br><span class="line">    this.router.navigateByUrl(user.state).then(b &#x3D;&gt; &#123;</span><br><span class="line">        console.log(&quot;navigate to url&quot;, user.state, &quot; return&quot;, b);</span><br><span class="line">    &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><br>实际上callback url后带的是形如&amp;state=b2983fd692b94528852297782ef93bbf的参数，推测此为指向原value的标记，原value存于localstorage</p>
<h4 id="User"><a href="#User" class="headerlink" title="User"></a>User</h4><p>调用getUser方法取用户信息, 部分信息是从access token中解析得出，部分可能需要配置其他workflow比如profile<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">class User &#123;</span><br><span class="line">  constructor(settings: UserSettings);</span><br><span class="line"></span><br><span class="line">  &#x2F;** The id_token returned from the OIDC provider *&#x2F;</span><br><span class="line">  id_token: string;</span><br><span class="line">  &#x2F;** The session state value returned from the OIDC provider (opaque) *&#x2F;</span><br><span class="line">  session_state?: string;</span><br><span class="line">  &#x2F;** The access token returned from the OIDC provider. *&#x2F;</span><br><span class="line">  access_token: string;</span><br><span class="line">  &#x2F;** Refresh token returned from the OIDC provider (if requested) *&#x2F;</span><br><span class="line">  refresh_token?: string;</span><br><span class="line">  &#x2F;** The token_type returned from the OIDC provider *&#x2F;</span><br><span class="line">  token_type: string;</span><br><span class="line">  &#x2F;** The scope returned from the OIDC provider *&#x2F;</span><br><span class="line">  scope: string;</span><br><span class="line">  &#x2F;** The claims represented by a combination of the id_token and the user info endpoint *&#x2F;</span><br><span class="line">  profile: Profile;</span><br><span class="line">  &#x2F;** The expires at returned from the OIDC provider *&#x2F;</span><br><span class="line">  expires_at: number;</span><br><span class="line">  &#x2F;** The custom state transferred in the last signin *&#x2F;</span><br><span class="line">  state: any;</span><br><span class="line"></span><br><span class="line">  toStorageString(): string;</span><br><span class="line">  static fromStorageString(storageString: string): User;</span><br><span class="line"></span><br><span class="line">  &#x2F;** Calculated number of seconds the access token has remaining *&#x2F;</span><br><span class="line">  readonly expires_in: number;</span><br><span class="line">  &#x2F;** Calculated value indicating if the access token is expired *&#x2F;</span><br><span class="line">  readonly expired: boolean;</span><br><span class="line">  &#x2F;** Array representing the parsed values from the scope *&#x2F;</span><br><span class="line">  readonly scopes: string[];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>调用removeUser 清除localstorage中的登录信息 非常的方便~</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://qqstone.github.io/qqsnote/2020/11/10/Microservices/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/qqsnote/images/avatar.gif">
      <meta itemprop="name" content="QQs">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="QQs'Note">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/qqsnote/2020/11/10/Microservices/" class="post-title-link" itemprop="url">微服务</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-11-10 13:36:37" itemprop="dateCreated datePublished" datetime="2020-11-10T13:36:37+08:00">2020-11-10</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-07-05 10:07:52" itemprop="dateModified" datetime="2025-07-05T10:07:52+08:00">2025-07-05</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><a target="_blank" rel="noopener" href="https://www.zhihu.com/question/65502802">知乎：什么是微服务</a></p>
<p>参考 <a target="_blank" rel="noopener" href="https://segmentfault.com/a/1190000023287832">微服务的演进</a><br>单体服务<br><img src="https://segmentfault.com/img/remote/1460000023287835" alt="单体服务"><br>垂直分层架构<br><img src="https://segmentfault.com/img/remote/1460000023287836" alt="垂直分层架构"></p>
<blockquote>
<p>微服务是一种小型的SOA架构（Service Oriented Architecture 面向服务的架构），其理念是将业务系统彻底地组件化和服务化，形成多个可以独立开发、部署和维护的服务或者应用的集合，以应对更快的需求变更和更短的开发迭代周期。</p>
</blockquote>
<p><img src="https://segmentfault.com/img/remote/1460000023287837" alt=""></p>
<p>拓展：传统SOA使用ESB(Enterprise Service Bus 企业服务总线)进行各业务系统间的通信</p>
<p>目的或优点：</p>
<ul>
<li>服务模块解耦</li>
<li>团队分工更容易，更明确, 技术栈异构</li>
<li>独立部署，可针对独立模块进行发布 更快的迭代</li>
<li>扩展能力强 不至于牵一发动全身<br>相应的缺点是服务划分的困扰，系统复杂化，实施部署、纠错的难度增大等</li>
</ul>
<p>“无非是业务拆分和基架体系搭建”</p>
<h4 id="SOA"><a href="#SOA" class="headerlink" title="SOA"></a>SOA</h4><p>Service Oriented Ambiguity 即面向服务架构</p>
<p>SOAP(web service) http+xml<br>REST http+json<br>RPC socket</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://qqstone.github.io/qqsnote/2020/11/04/AuthenticationPackages/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/qqsnote/images/avatar.gif">
      <meta itemprop="name" content="QQs">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="QQs'Note">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/qqsnote/2020/11/04/AuthenticationPackages/" class="post-title-link" itemprop="url">Authentication Packages</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-11-04 10:34:50" itemprop="dateCreated datePublished" datetime="2020-11-04T10:34:50+08:00">2020-11-04</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-07-05 10:07:52" itemprop="dateModified" datetime="2025-07-05T10:07:52+08:00">2025-07-05</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h4 id="oidc-client"><a href="#oidc-client" class="headerlink" title="oidc-client"></a>oidc-client</h4><p>见<a href="/qqsnote/2020/11/20/oidc-client/" title="oidc-client">oidc-client</a></p>
<h4 id="Passport-js"><a href="#Passport-js" class="headerlink" title="Passport.js"></a>Passport.js</h4><p><a target="_blank" rel="noopener" href="https://github.com/jaredhanson/passport">Passport.js</a>是Express.js的中间件，<br>Azure Samples中的node.js API <a target="_blank" rel="noopener" href="https://github.com/Azure-Samples/active-directory-b2c-javascript-nodejs-webapi">active-directory-b2c-javascript-nodejs-webapi</a>使用了这个包<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">const passport &#x3D; require(&quot;passport&quot;);</span><br><span class="line">const BearerStrategy &#x3D; require(&#39;passport-azure-ad&#39;).BearerStrategy;</span><br><span class="line">const bearerStrategy &#x3D; new BearerStrategy(config,</span><br><span class="line">    function (token, done) &#123;</span><br><span class="line">        &#x2F;&#x2F; Send user info using the second argument</span><br><span class="line">        done(null, &#123;&#125;, token);</span><br><span class="line">    &#125;</span><br><span class="line">);</span><br><span class="line">const app &#x3D; express();</span><br><span class="line">app.use(passport.initialize());</span><br><span class="line">passport.use(bearerStrategy);</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; API endpoint</span><br><span class="line">app.get(&quot;&#x2F;hello&quot;,</span><br><span class="line">    passport.authenticate(&#39;oauth-bearer&#39;, &#123;session: false&#125;),</span><br><span class="line">    (req, res) &#x3D;&gt; &#123;</span><br><span class="line">        console.log(&#39;User info: &#39;, req.user);</span><br><span class="line">        console.log(&#39;Validated claims: &#39;, req.authInfo);</span><br><span class="line">        </span><br><span class="line">        if (&#39;scp&#39; in req.authInfo &amp;&amp; req.authInfo[&#39;scp&#39;].split(&quot; &quot;).indexOf(&quot;demo.read&quot;) &gt;&#x3D; 0) &#123;</span><br><span class="line">            &#x2F;&#x2F; Service relies on the name claim.  </span><br><span class="line">            res.status(200).json(&#123;&#39;name&#39;: req.authInfo[&#39;name&#39;]&#125;);</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            console.log(&quot;Invalid Scope, 403&quot;);</span><br><span class="line">            res.status(403).json(&#123;&#39;error&#39;: &#39;insufficient_scope&#39;&#125;); </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">);</span><br></pre></td></tr></table></figure><br>栗子中该中间件将认证失败的请求拦截住并返回401， 省略了web api授权失败时的重定向配置，私以为可以配置signin重定向，使得可以从浏览器访问api</p>
<h4 id="MSAL-net"><a href="#MSAL-net" class="headerlink" title="MSAL.net"></a>MSAL.net</h4><p>Microsoft Authentication Library(微软身份认证库MSAL)，在<a href="/qqsnote/2020/08/31/ASPandSPA/" title="ASP和SPA">ASP和SPA</a>一文中有引用。</p>
<blockquote>
<p>The Microsoft Authentication Library for JavaScript enables client-side JavaScript web applications, running in a web browser, to authenticate users using Azure AD. MSAL.js用以浏览器中运行的js web 使用Azure AD认证</p>
</blockquote>
<p>上述是基于msal.js的JavaScript Packages, 对于客户端应用，微软提供.net framework运行时环境的一套SDK：</p>
<p><a target="_blank" rel="noopener" href="https://github.com/AzureAD/microsoft-authentication-library-for-dotnet">MSAL for .NET, UWP, NetCore, MAUI, Xamarin Android and iOS</a> </p>
<blockquote>
<p>The MSAL library for .NET is part of the <a target="_blank" rel="noopener" href="https://aka.ms/aaddevv2">Microsoft identity platform for developers</a> (formerly named Azure AD) v2.0. It enables you to acquire security tokens to call protected APIs. It uses industry standard OAuth2 and OpenID Connect. The library also supports <a target="_blank" rel="noopener" href="https://azure.microsoft.com/services/active-directory-b2c/">Azure AD B2C</a>.</p>
</blockquote>
<p>官方文档 </p>
<ul>
<li><p>QuickStart <a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/azure/active-directory/develop/desktop-app-quickstart?pivots=devlang-windows-desktop">获取令牌并从桌面应用程序中调用 Microsoft Graph API</a> </p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/azure/active-directory/develop/msal-authentication-flows">MSAL 中的身份验证流支持</a></p>
</li>
<li><a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/azure/active-directory/develop/tutorial-v2-windows-desktop">在WPF中登录并调用Microsoft Graph</a> 👈 看这个</li>
</ul>
<p>我们关注使用WPF客户端打开登录ADB2C认证页面的应用场景<br><a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/azure/active-directory/develop/msal-net-web-browsers">MSAL.NET使用Web浏览器</a></p>
<blockquote>
<p>MSAL.NET 是一个多框架库，它具有特定于框架的代码，可在 UI 控件中托管浏览器（例如，在 .NET Classic 中，它使用 WinForms；在 .NET 5.0+ 中，它使用 <strong>WebView2</strong>；在 Xamarin 中，它使用本机移动控件，等等）。 此控件称为 embedded Web UI。 另外，MSAL.NET 还能够启动系统 OS 浏览器。</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Install-Package Microsoft.Identity.Client -Pre</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">using Microsoft.Identity.Client;</span><br><span class="line">...</span><br><span class="line"></span><br><span class="line">IPublicClientApplication publicClientApp &#x3D; PublicClientApplicationBuilder.Create(ClientId)</span><br><span class="line">        .WithRedirectUri(&quot;https:&#x2F;&#x2F;login.microsoftonline.com&#x2F;common&#x2F;oauth2&#x2F;nativeclient&quot;)</span><br><span class="line">        .WithAuthority(AzureCloudInstance.AzurePublic, Tenant)</span><br><span class="line">        .Build();</span><br></pre></td></tr></table></figure>
<p>使用自定义交互界面, 调用 <strong>WithCustomWebUi()</strong> 方法 传入自定义页面的实例，自定义页面类需要实现<strong>ICustomWebUi</strong>接口，接口定义了异步方法 AcquireAuthorizationCodeAsync，该方法参数</p>
<ul>
<li><p>authorizationUri Uri<br>URI computed by MSAL.NET that will let the UI extension navigate to the STS authorization endpoint in order to sign-in the user and have them consent</p>
</li>
<li><p>redirectUri Uri The redirect URI that was configured. The auth code will be appended to this redirect URI and the browser will redirect to it.</p>
</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://learn.microsoft.com/en-us/entra/identity-platform/msal-client-applications">Public Client Application 和 Confidential Client Application</a>: Confidential Client Application用于服务端应用，不会轻易访问到，使用client_secret标识身份；Public Client Application 运行在桌面或移动设备，保存client_secret是不安全的，因此凭借用户的credentials访问API</p>
<h4 id="use-WAM"><a href="#use-WAM" class="headerlink" title="use WAM"></a>use WAM</h4><p>Web 帐户管理器 (Web Account Manager) windows10提供的认证账户保存组件</p>
<ul>
<li>Enhanced security. See <a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/azure/active-directory/conditional-access/concept-token-protection">Token protection</a>. 关联客户端密码和token的加密</li>
<li>Support for Windows Hello(是使用 PIN、面部识别或指纹来快速访问 Windows的入口), Conditional Access, and FIDO keys(Fast IDentity Online Keys 在线密钥对).</li>
<li>Integration with the Windows Email &amp; accounts view.<br>Fast single sign-on.</li>
<li>Ability to sign in silently with the current Windows account.</li>
<li>Bug fixes and enhancements shipped with Windows.</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://qqstone.github.io/qqsnote/2020/11/03/ODATA/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/qqsnote/images/avatar.gif">
      <meta itemprop="name" content="QQs">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="QQs'Note">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/qqsnote/2020/11/03/ODATA/" class="post-title-link" itemprop="url">OData</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-11-03 13:22:39" itemprop="dateCreated datePublished" datetime="2020-11-03T13:22:39+08:00">2020-11-03</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-08-17 17:14:53" itemprop="dateModified" datetime="2025-08-17T17:14:53+08:00">2025-08-17</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/qqsnote/categories/%E5%90%8E%E7%AB%AF%E6%8A%80%E6%9C%AF/" itemprop="url" rel="index"><span itemprop="name">后端技术</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h4 id="OData协定"><a href="#OData协定" class="headerlink" title="OData协定"></a>OData协定</h4><blockquote>
<p>Open Data Protocol（开放数据协议，OData）是用来查询和更新数据的一种Web协议，其提供了把存在于应用程序中的数据暴露出来的方式。OData运用且构建于很多Web技术之上，比如HTTP、Atom Publishing Protocol（AtomPub）和JSON，提供了从各种应用程序、服务和存储库中访问信息的能力。OData被用来从各种数据源中暴露和访问信息，这些数据源包括但不限于：关系数据库、文件系统、内容管理系统和传统Web站点。</p>
</blockquote>
<p>OData解决的是Restful Api定义太随便的问题<br>比如查询人员<br>A团队的API 可能是这样：<a target="_blank" rel="noopener" href="http://A/api/Users/001">http://A/api/Users/001</a><br>B团队的API 可能是这样：<a target="_blank" rel="noopener" href="http://A/api/Users?id=001">http://A/api/Users?id=001</a><br>返回结果也可能各有加工，{status: “ok”,data: {…}}的设计实际上只是自我感觉良好</p>
<p>OData则约束调用接口 Users<br>然后返回值形如<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;@odata.context&quot;: &quot;https:&#x2F;&#x2F;localhost:44346&#x2F;odata&#x2F;v1&#x2F;$metadata#Users&quot;,</span><br><span class="line">    &quot;value&quot;: [</span><br><span class="line">        &#123;</span><br><span class="line">            &quot;name&quot;: &quot;QQs&quot;,</span><br><span class="line">            &quot;emailAddress&quot;: &quot;qqs@qqs.qqs&quot;,</span><br><span class="line">            &quot;logo&quot;: &quot;img base 64&quot;,</span><br><span class="line">            &quot;enable&quot;: true,</span><br><span class="line">            &quot;addressId&quot;: &quot;ca35902d-d236-4496-b649-2f7fcf531110&quot;,</span><br><span class="line">            &quot;recordId&quot;: &quot;c7612b51-ddb2-eb11-9bf6-180373e9ce7d&quot;,</span><br><span class="line">            &quot;recordCreated&quot;: &quot;2021-05-12T05:52:19.979+08:00&quot;,</span><br><span class="line">            &quot;recordLastUpdated&quot;: &quot;2021-05-12T04:48:39.377+08:00&quot;</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>返回值中包含接口的数据上下文文档，包含属性类型定义，Users 相关Api的参数设计等<br>OData似乎暴露了过多的底层设计的，而这么做的目的和结果是对数据的访问不再受限于定义各种查询、过滤以及分页API（由OData库依照标准实现类似sql的查询方式）<br>在.net开发中,得益于entityframework强大的关联模型设计和limbda查询方式，OData方显强大</p>
<p>参考<a target="_blank" rel="noopener" href="https://www.odata.org/getting-started/understand-odata-in-6-steps/">OData.org Getting started</a></p>
<h4 id="安装和应用OData-Library"><a href="#安装和应用OData-Library" class="headerlink" title="安装和应用OData Library"></a>安装和应用OData Library</h4><p>Nuget Package Manager 安装Microsoft.AspNetCore.OData <span style="color:#ff0;font-weight:bold">Caution!</span> 这里是7.0版本<br>添加Model DBContext Controller(这块参考EntityFramework)<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">public void ConfigureServices(IServiceCollection services)</span><br><span class="line">&#123;</span><br><span class="line">    services.AddMvc();</span><br><span class="line">    services.AddOData();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">public void Configure(IApplicationBuilder app)</span><br><span class="line">&#123;</span><br><span class="line">    var builder &#x3D; new ODataConventionModelBuilder(app.ApplicationServices);</span><br><span class="line"></span><br><span class="line">    builder.EntitySet&lt;Product&gt;(&quot;Products&quot;);</span><br><span class="line"></span><br><span class="line">    app.UseMvc(routeBuilder &#x3D;&gt;</span><br><span class="line">    &#123;</span><br><span class="line">        &#x2F;&#x2F; and this line to enable OData query option, for example $filter</span><br><span class="line">        routeBuilder.Select().Expand().Filter().OrderBy().MaxTop(100).Count();</span><br><span class="line"></span><br><span class="line">        routeBuilder.MapODataServiceRoute(&quot;ODataRoute&quot;, &quot;odata&quot;, builder.GetEdmModel());</span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F; uncomment the following line to Work-around for #1175 in beta1</span><br><span class="line">        &#x2F;&#x2F; routeBuilder.EnableDependencyInjection();</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>参考<a target="_blank" rel="noopener" href="https://github.com/QQstone/TeamsPersistanceCenter">QQs TeamsPersistanceCenter项目</a></p>
<h4 id="filter"><a href="#filter" class="headerlink" title="filter"></a>filter</h4><ul>
<li>$filter=name eq ‘QQstone’</li>
<li>$filter=type ne ‘standard’</li>
<li>$filter=contains(email, ‘163.com’)</li>
<li>$filter=quantity gt 1 and le 100<br>gt(greater than) lt(less than) ge(greater than or equal to) le(less than or equal to)<br>注意单引号  <h4 id="select"><a href="#select" class="headerlink" title="select"></a>select</h4></li>
<li>$select=name,email,type<h4 id="expand"><a href="#expand" class="headerlink" title="expand"></a>expand</h4>关联查询 $expand=department<h4 id="关于分页"><a href="#关于分页" class="headerlink" title="关于分页"></a>关于分页</h4><code>https://localhost:44346/odata/v1/Users?$count=true</code></li>
</ul>
<p><code>https://localhost:44346/odata/v1/Users?$skip=20&amp;$top=10</code></p>
<h4 id="trouble-shooting"><a href="#trouble-shooting" class="headerlink" title="trouble shooting"></a>trouble shooting</h4><blockquote>
<p>issue: The EntityXXX key in the URL xxxx does not match the key (00000000-0000-0000-0000-000000000000) in the request content body.</p>
</blockquote>
<p>reason：put method, post body中也要包含主键 xxxx</p>
<h4 id="flaw"><a href="#flaw" class="headerlink" title="flaw"></a>flaw</h4><p>过分暴露底层模型设计, 也许像GraphQL一样，需要在接口层以下封装一下，微软也不是什么都没做，EDM了解一下</p>
<h4 id="EDM"><a href="#EDM" class="headerlink" title="EDM"></a>EDM</h4><blockquote>
<p>The Entity Data Model, or EDM, is the abstract data model that is used to describe the data exposed by an OData service.   </p>
<p>The EDM makes the stored form of data irrelevant to application design and development.</p>
</blockquote>
<p>EF提供了对象描述数据结构的概念 EDM使应用(上层)设计和开发与存储形式无关<br>更正 EDM就是Model层映射了实体数据的class，也就是之前说的‘entity’ 于封装数据木有直接关系<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"> private static IEdmModel GetEdmModel()</span><br><span class="line">&#123;</span><br><span class="line">    var builder &#x3D; new ODataConventionModelBuilder();</span><br><span class="line">    builder.EnableLowerCamelCase();</span><br><span class="line">    builder.EntitySet&lt;Partner&gt;(GetEntitySetName&lt;PartnersController&gt;());</span><br><span class="line">    var entityType &#x3D; builder.EntitySet&lt;Partner&gt;(GetEntitySetName&lt;PartnersController&gt;()).EntityType;</span><br><span class="line"></span><br><span class="line">    entityType.Collection.Function(nameof(PartnersController.GetPartnersBySN))</span><br><span class="line">        .ReturnsCollectionFromEntitySet&lt;Partner&gt;(&quot;Partners&quot;)</span><br><span class="line">        .Parameter&lt;string&gt;(&quot;serialNo&quot;);</span><br><span class="line"></span><br><span class="line">    builder.EntitySet&lt;Member&gt;(GetEntitySetName&lt;MembersController&gt;());</span><br><span class="line">    return builder.GetEdmModel();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h4 id="Action-amp-Function"><a href="#Action-amp-Function" class="headerlink" title="Action &amp; Function"></a>Action &amp; Function</h4><p>参考<a target="_blank" rel="noopener" href="https://docs.microsoft.com/en-us/aspnet/web-api/overview/odata-support-in-aspnet-web-api/odata-v4/odata-actions-and-functions#example-adding-a-function">Microsoft Docs</a></p>
<blockquote>
<p>动作和函数之间的区别在于: Action可以有副作用(side effect)而Function没有，Action应用场景或应用如复杂交易、一次操作多个实体、仅更新实体部分属性、发送非实体数据等</p>
</blockquote>
<p>Action:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">ODataModelBuilder builder &#x3D; new ODataConventionModelBuilder();</span><br><span class="line">builder.EntitySet&lt;Product&gt;(&quot;Products&quot;);</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; New code:</span><br><span class="line">builder.Namespace &#x3D; &quot;ProductService&quot;;</span><br><span class="line">builder.EntityType&lt;Product&gt;()</span><br><span class="line">    .Action(&quot;Rate&quot;)</span><br><span class="line">    .Parameter&lt;int&gt;(&quot;Rating&quot;);</span><br></pre></td></tr></table></figure><br>使能名为‘Rate’的Action的接口 <a target="_blank" rel="noopener" href="http://localhost/Products(1)/ProductService.Rate">http://localhost/Products(1)/ProductService.Rate</a><br>controller中定义Action，方法名与操作名称相同<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">[HttpPost]</span><br><span class="line">public async Task&lt;IHttpActionResult&gt; Rate([FromODataUri] int key, ODataActionParameters parameters)</span><br><span class="line">&#123;</span><br><span class="line">    if (!ModelState.IsValid)</span><br><span class="line">    &#123;</span><br><span class="line">        return BadRequest();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    int rating &#x3D; (int)parameters[&quot;Rating&quot;];</span><br><span class="line">    db.Ratings.Add(new ProductRating</span><br><span class="line">    &#123;</span><br><span class="line">        ProductID &#x3D; key,</span><br><span class="line">        Rating &#x3D; rating</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    try</span><br><span class="line">    &#123;</span><br><span class="line">        await db.SaveChangesAsync();</span><br><span class="line">    &#125;</span><br><span class="line">    catch (DbUpdateException e)</span><br><span class="line">    &#123;</span><br><span class="line">        if (!ProductExists(key))</span><br><span class="line">        &#123;</span><br><span class="line">            return NotFound();</span><br><span class="line">        &#125;</span><br><span class="line">        else</span><br><span class="line">        &#123;</span><br><span class="line">            throw;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    return StatusCode(HttpStatusCode.NoContent);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>Function:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">builder.EntityType&lt;Product&gt;().Collection</span><br><span class="line">    .Function(&quot;ProdFunc1&quot;)</span><br><span class="line">    .Returns&lt;double&gt;();</span><br></pre></td></tr></table></figure><br>GET <a target="_blank" rel="noopener" href="http://localhost:38479/Products/ProductService.ProdFunc1">http://localhost:38479/Products/ProductService.ProdFunc1</a><br>controller中用同样的名称定义API方法<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[HttpGet]</span><br><span class="line">public IHttpActionResult MostExpensive()</span><br><span class="line">&#123;</span><br><span class="line">    var product &#x3D; db.Products.Max(x &#x3D;&gt; x.Price);</span><br><span class="line">    return Ok(product);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>Unbound Function:<br>Action或Function应用于单个实体或集合，称之为绑定(binding),未绑定(unbound)的Action/Function称为服务的静态操作<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">builder.Function(&quot;GetSalesTaxRate&quot;)</span><br><span class="line">    .Returns&lt;double&gt;()</span><br><span class="line">    .Parameter&lt;int&gt;(&quot;PostalCode&quot;);</span><br></pre></td></tr></table></figure><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[HttpGet]</span><br><span class="line">[ODataRoute(&quot;GetSalesTaxRate(PostalCode&#x3D;&#123;postalCode&#125;)&quot;)]</span><br><span class="line">public IHttpActionResult GetSalesTaxRate([FromODataUri] int postalCode)</span><br><span class="line">&#123;</span><br><span class="line">    double rate &#x3D; 5.6;  &#x2F;&#x2F; Use a fake number for the sample.</span><br><span class="line">    return Ok(rate);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h4 id="containment"><a href="#containment" class="headerlink" title="containment"></a>containment</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[EnableQuery]         </span><br><span class="line">[ODataRoute(&quot;Accounts(&#123;accountId&#125;)&#x2F;PayinPIs(&#123;paymentInstrumentId&#125;)&quot;)]         </span><br><span class="line">public IHttpActionResult GetSinglePayinPI(int accountId, int paymentInstrumentId)         </span><br><span class="line">&#123;             </span><br><span class="line">    var payinPIs &#x3D; _accounts.Single(a &#x3D;&gt; a.AccountID &#x3D;&#x3D; accountId).PayinPIs;             </span><br><span class="line">    var payinPI &#x3D; payinPIs.Single(pi &#x3D;&gt; pi.PaymentInstrumentID &#x3D;&#x3D; paymentInstrumentId);             </span><br><span class="line">    return Ok(payinPI);         </span><br><span class="line">&#125;         </span><br></pre></td></tr></table></figure>
<p>关于RESTful和GraphGL<br>REST(Representational State Transfor) 资源表述性状态传递 将状态管理责任传递到客户端 服务端返回后不保留状态</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://qqstone.github.io/qqsnote/2020/11/02/GameTheory/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/qqsnote/images/avatar.gif">
      <meta itemprop="name" content="QQs">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="QQs'Note">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/qqsnote/2020/11/02/GameTheory/" class="post-title-link" itemprop="url">博弈论</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-11-02 14:57:11" itemprop="dateCreated datePublished" datetime="2020-11-02T14:57:11+08:00">2020-11-02</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-07-05 10:07:52" itemprop="dateModified" datetime="2025-07-05T10:07:52+08:00">2025-07-05</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h4 id="零和博弈，非零和博弈"><a href="#零和博弈，非零和博弈" class="headerlink" title="零和博弈，非零和博弈"></a>零和博弈，非零和博弈</h4><p>非零和博弈表示在不同策略组合下各博弈方的得益之和是不确定的变量，故又称之为变和博弈。 如囚徒困境，中美关系，恋爱</p>
<p>零和博弈表示所有博弈方的利益之和为零或一个常数，即一方有所得，其他方必有所失。如绝大多数竞技，竞选，炒股</p>
<p><del>行业或社会环境成为存量市场，内卷是人们进行零和博弈的结果。</del></p>
<blockquote>
<p>摘自百度百科《非零和博弈》:<br>烈日炎炎的一个下午，约翰·纳什教授给二十几个学生上课，教室窗外的楼下有几个工人正施工，机器的响声成了刺耳的噪音，于是纳什走到窗前狠狠地把窗户关上。马上有同学提出意见：“教授，请别关窗子，实在太热了！”而纳什教授一脸严肃地回答说：“课堂的安静比你舒不舒服重要得多！”然后转过身一边嘴里叨叨着“给你们来上课，在我看来不但耽误了你们的时间，也耽误了我的宝贵时间……”，一边在黑板上写着数学公式。<br>正当教授一边自语一边在黑板上写公式之际，一位叫阿丽莎的漂亮女同学（这位女同学后来成了纳什的妻子）走到窗边打开了窗子，电影中纳什用责备的眼神看着阿丽莎：“小姐……”而阿丽莎对窗外的工人说道：“打扰一下，嗨！我们有点小小的问题，关上窗户，这里会很热；开着，却又太吵。我想能不能请你们先修别的地方，大约45分钟就好了。”正在干活的工人愉快地说：“没问题！”又回头对自己的伙伴们说：“伙计们，让我们先休息一下吧！”阿丽莎回过头来快活地看着纳什教授，纳什教授也微笑地看着阿丽莎，既像是讲课，又像是在评论她的做法似地对同学们说：“你们会发现在多变性的微积分中，往往一个难题会有多种解答。”<br>而阿丽莎对“开窗难题”的解答，使得原本的一个零和博弈变成了另外一种结果：同学们既不必忍受室内的高温，教授也可以在安静的环境中讲课，结果不再是0，而成了+2。由此我们可以看到，很多看似无法调和的矛盾，其实并不一定是你死我活的僵局，那些看似零和博弈或者是负和博弈的问题，也会因为参与者的巧妙设计而转为正和博弈。</p>
</blockquote>
<h4 id="内卷和博弈"><a href="#内卷和博弈" class="headerlink" title="内卷和博弈"></a>内卷和博弈</h4><p>内卷是零和博弈的状态吗？<br>参与者是直接地进行利益竞争吗，似乎并不是哦，内卷的起因是掌握话语权的一方——在社会生产的范畴上是资本家，在就学教育上是招生办——限制了规则，在既定的有限条件下，低阶层的参与者为了自己的收益做出与之不匹配的付出。博弈是影响决策的活动，当然就要有决策的权力和空间。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://qqstone.github.io/qqsnote/2020/10/27/Azure-ADB2C-JWT-Validation/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/qqsnote/images/avatar.gif">
      <meta itemprop="name" content="QQs">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="QQs'Note">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/qqsnote/2020/10/27/Azure-ADB2C-JWT-Validation/" class="post-title-link" itemprop="url">Azure-ADB2C-JWT-Validation</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-10-27 17:38:03" itemprop="dateCreated datePublished" datetime="2020-10-27T17:38:03+08:00">2020-10-27</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-12-04 15:19:52" itemprop="dateModified" datetime="2025-12-04T15:19:52+08:00">2025-12-04</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/qqsnote/categories/%E4%BA%91%E5%B9%B3%E5%8F%B0/" itemprop="url" rel="index"><span itemprop="name">云平台</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>见 <a target="_blank" rel="noopener" href="https://docs.microsoft.com/en-us/azure/active-directory-b2c/tokens-overview#validation">Azure官方文档token overview</a></p>
<p>如<a href="/qqsnote/2020/10/15/jwt/" title="JWT">JWT</a>所述，JWT包含三个部分，一个标头，一个正文和一个签名。签名段可用于验证令牌的真实性，以便您的应用程序可以信任它。Azure AD B2C通过使用行业标准的非对称加密算法（例如RSA 256）对令牌进行签名。<br>header包含有关用于对令牌进行签名的密钥和加密方法的信息：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">        &quot;typ&quot;: &quot;JWT&quot;,</span><br><span class="line">        &quot;alg&quot;: &quot;RS256&quot;,</span><br><span class="line">        &quot;kid&quot;: &quot;GvnPApfWMdLRi8PDmisFn7bprKg&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>Azure AD B2C具有一个OpenID Connect元数据EndPoint。大概长这样子:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https:&#x2F;&#x2F;qqstudio.b2clogin.com&#x2F;qqstudio.onmicrosoft.com&#x2F;B2C_1_basic_sign_up_and_sign_in&#x2F;v2.0&#x2F;.well-known&#x2F;openid-configuration</span><br></pre></td></tr></table></figure><br>通过此EndPoint，可以get到有关Azure AD B2C的信息。此信息包括端点，令牌内容和令牌签名密钥。<br>其中jwks_uri提供用于签署令牌的一组公共密钥的位置。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https:&#x2F;&#x2F;qqstudio.b2clogin.com&#x2F;qqstudio.onmicrosoft.com&#x2F;b2c_1_basic_sign_up_and_sign_in&#x2F;discovery&#x2F;v2.0&#x2F;keys</span><br></pre></td></tr></table></figure><br>jwks_uri如上格式，建议通过get元数据文档并解析以动态获取jwks_uri，而不要写死。</p>
<p>StackOverflow 上有个现成的<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">var configurationManager &#x3D; new ConfigurationManager&lt;OpenIdConnectConfiguration&gt;(</span><br><span class="line">                                   &quot;https:&#x2F;&#x2F;testb2ctenant05.b2clogin.com&#x2F;testB2CTenant05.onmicrosoft.com&#x2F;v2.0&#x2F;.well-known&#x2F;openid-configuration?p&#x3D;B2C_1_test&quot;,</span><br><span class="line">                                    new OpenIdConnectConfigurationRetriever(), new HttpDocumentRetriever());</span><br><span class="line">            CancellationToken ct &#x3D; default(CancellationToken);</span><br><span class="line">            RSACryptoServiceProvider rsa &#x3D; new RSACryptoServiceProvider();</span><br><span class="line">            var discoveryDocument &#x3D; await configurationManager.GetConfigurationAsync(ct);</span><br><span class="line">            var signingKeys &#x3D; discoveryDocument.SigningKeys;</span><br><span class="line">            var validationParameters &#x3D; new TokenValidationParameters</span><br><span class="line">            &#123;</span><br><span class="line">                RequireExpirationTime &#x3D; true,</span><br><span class="line">                RequireSignedTokens &#x3D; true,</span><br><span class="line">                ValidateIssuer &#x3D; true,</span><br><span class="line">                ValidIssuer &#x3D; discoveryDocument.Issuer,</span><br><span class="line">                ValidateIssuerSigningKey &#x3D; true,</span><br><span class="line">                IssuerSigningKeys &#x3D; signingKeys,</span><br><span class="line">                ValidateLifetime &#x3D; true,</span><br><span class="line"></span><br><span class="line">            &#125;;</span><br><span class="line"></span><br><span class="line"> var principal &#x3D; new JwtSecurityTokenHandler()</span><br><span class="line">            .ValidateToken(token, validationParameters, out var rawValidatedToken);</span><br></pre></td></tr></table></figure><br><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/59840170/validating-the-token-recieved-from-azure-ad-b2c-using-the-values-from-jwks-uri">Jim Xu’s Answer</a></p>
<p>用例描述：</p>
<ul>
<li>使用非法字符串冒充access token，异常：decode fail</li>
<li>使用其他来源的(比如其他talent)的token，异常：unmatch siguanture</li>
<li>使用正确token 获得principal对象 </li>
</ul>
<p>回顾一下，对于非对称加密，签名用私钥产生，私钥绝对隐藏且不可被反推，公开公钥，任何人可以使用公钥验证签名。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/qqsnote/page/17/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/qqsnote/">1</a><span class="space">&hellip;</span><a class="page-number" href="/qqsnote/page/17/">17</a><span class="page-number current">18</span><a class="page-number" href="/qqsnote/page/19/">19</a><span class="space">&hellip;</span><a class="page-number" href="/qqsnote/page/34/">34</a><a class="extend next" rel="next" href="/qqsnote/page/19/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">QQs</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/qqsnote/archives/">
        
          <span class="site-state-item-count">336</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/qqsnote/categories/">
        <span class="site-state-item-count">21</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/qqsnote/tags/">
        <span class="site-state-item-count">128</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>



      </div>

      <div class="tag-cloud-tags">
        <a href="/qqsnote/tags/Net/" style="font-size: 30px; color: #fff">.Net</a> <a href="/qqsnote/tags/4G/" style="font-size: 12px; color: #ccc">4G</a> <a href="/qqsnote/tags/AI/" style="font-size: 22.5px; color: #eaeaea">AI</a> <a href="/qqsnote/tags/Android/" style="font-size: 12px; color: #ccc">Android</a> <a href="/qqsnote/tags/Angular/" style="font-size: 30px; color: #fff">Angular</a> <a href="/qqsnote/tags/Apache/" style="font-size: 13.5px; color: #d0d0d0">Apache</a> <a href="/qqsnote/tags/Azure/" style="font-size: 25.5px; color: #f2f2f2">Azure</a> <a href="/qqsnote/tags/Babylon/" style="font-size: 12px; color: #ccc">Babylon</a> <a href="/qqsnote/tags/C/" style="font-size: 16.5px; color: #d9d9d9">C#</a> <a href="/qqsnote/tags/C/" style="font-size: 16.5px; color: #d9d9d9">C++</a> <a href="/qqsnote/tags/CSS/" style="font-size: 19.5px; color: #e1e1e1">CSS</a> <a href="/qqsnote/tags/DevOps/" style="font-size: 15px; color: #d5d5d5">DevOps</a> <a href="/qqsnote/tags/Docker/" style="font-size: 16.5px; color: #d9d9d9">Docker</a> <a href="/qqsnote/tags/ES6/" style="font-size: 12px; color: #ccc">ES6</a> <a href="/qqsnote/tags/ESLint/" style="font-size: 12px; color: #ccc">ESLint</a> <a href="/qqsnote/tags/ElasticSearch/" style="font-size: 12px; color: #ccc">ElasticSearch</a> <a href="/qqsnote/tags/Electron/" style="font-size: 16.5px; color: #d9d9d9">Electron</a> <a href="/qqsnote/tags/ElementUI/" style="font-size: 12px; color: #ccc">ElementUI</a> <a href="/qqsnote/tags/EntityFramework/" style="font-size: 13.5px; color: #d0d0d0">EntityFramework</a> <a href="/qqsnote/tags/EventBus/" style="font-size: 12px; color: #ccc">EventBus</a> <a href="/qqsnote/tags/Excel/" style="font-size: 12px; color: #ccc">Excel</a> <a href="/qqsnote/tags/FastDFS/" style="font-size: 12px; color: #ccc">FastDFS</a> <a href="/qqsnote/tags/Figma/" style="font-size: 12px; color: #ccc">Figma</a> <a href="/qqsnote/tags/Go/" style="font-size: 12px; color: #ccc">Go</a> <a href="/qqsnote/tags/GraphQL/" style="font-size: 12px; color: #ccc">GraphQL</a> <a href="/qqsnote/tags/Jasmine/" style="font-size: 12px; color: #ccc">Jasmine</a> <a href="/qqsnote/tags/Java/" style="font-size: 13.5px; color: #d0d0d0">Java</a> <a href="/qqsnote/tags/Jenkins/" style="font-size: 21px; color: #e6e6e6">Jenkins</a> <a href="/qqsnote/tags/Linux/" style="font-size: 22.5px; color: #eaeaea">Linux</a> <a href="/qqsnote/tags/MQ/" style="font-size: 12px; color: #ccc">MQ</a> <a href="/qqsnote/tags/Markdown/" style="font-size: 13.5px; color: #d0d0d0">Markdown</a> <a href="/qqsnote/tags/MongoDB/" style="font-size: 12px; color: #ccc">MongoDB</a> <a href="/qqsnote/tags/Monorepo/" style="font-size: 12px; color: #ccc">Monorepo</a> <a href="/qqsnote/tags/MySQL/" style="font-size: 12px; color: #ccc">MySQL</a> <a href="/qqsnote/tags/NSIS/" style="font-size: 12px; color: #ccc">NSIS</a> <a href="/qqsnote/tags/Nginx/" style="font-size: 12px; color: #ccc">Nginx</a> <a href="/qqsnote/tags/NoSQL/" style="font-size: 12px; color: #ccc">NoSQL</a> <a href="/qqsnote/tags/Node-js/" style="font-size: 18px; color: #ddd">Node.js</a> <a href="/qqsnote/tags/OData/" style="font-size: 13.5px; color: #d0d0d0">OData</a> <a href="/qqsnote/tags/OpenCV/" style="font-size: 18px; color: #ddd">OpenCV</a> <a href="/qqsnote/tags/OpenGL/" style="font-size: 13.5px; color: #d0d0d0">OpenGL</a> <a href="/qqsnote/tags/PHP/" style="font-size: 12px; color: #ccc">PHP</a> <a href="/qqsnote/tags/PWA/" style="font-size: 12px; color: #ccc">PWA</a> <a href="/qqsnote/tags/PyCharm/" style="font-size: 12px; color: #ccc">PyCharm</a> <a href="/qqsnote/tags/Python/" style="font-size: 24px; color: #eee">Python</a> <a href="/qqsnote/tags/R3F/" style="font-size: 12px; color: #ccc">R3F</a> <a href="/qqsnote/tags/React/" style="font-size: 21px; color: #e6e6e6">React</a> <a href="/qqsnote/tags/SQL/" style="font-size: 12px; color: #ccc">SQL</a> <a href="/qqsnote/tags/SQL-Server/" style="font-size: 15px; color: #d5d5d5">SQL_Server</a> <a href="/qqsnote/tags/ServiceWorker/" style="font-size: 12px; color: #ccc">ServiceWorker</a> <a href="/qqsnote/tags/Shell/" style="font-size: 12px; color: #ccc">Shell</a> <a href="/qqsnote/tags/Three-js/" style="font-size: 16.5px; color: #d9d9d9">Three.js</a> <a href="/qqsnote/tags/TypeScript/" style="font-size: 13.5px; color: #d0d0d0">TypeScript</a> <a href="/qqsnote/tags/UE/" style="font-size: 12px; color: #ccc">UE</a> <a href="/qqsnote/tags/UI/" style="font-size: 12px; color: #ccc">UI</a> <a href="/qqsnote/tags/UML/" style="font-size: 12px; color: #ccc">UML</a> <a href="/qqsnote/tags/Virtualbox/" style="font-size: 12px; color: #ccc">Virtualbox</a> <a href="/qqsnote/tags/WPF/" style="font-size: 12px; color: #ccc">WPF</a> <a href="/qqsnote/tags/WebGL/" style="font-size: 21px; color: #e6e6e6">WebGL</a> <a href="/qqsnote/tags/WebService/" style="font-size: 12px; color: #ccc">WebService</a> <a href="/qqsnote/tags/Web%E5%8D%8F%E8%AE%AE/" style="font-size: 12px; color: #ccc">Web协议</a> <a href="/qqsnote/tags/Web%E5%BC%80%E5%8F%91/" style="font-size: 27px; color: #f7f7f7">Web开发</a> <a href="/qqsnote/tags/Wechat/" style="font-size: 12px; color: #ccc">Wechat</a> <a href="/qqsnote/tags/aigc/" style="font-size: 12px; color: #ccc">aigc</a> <a href="/qqsnote/tags/auth/" style="font-size: 12px; color: #ccc">auth</a> <a href="/qqsnote/tags/axios/" style="font-size: 12px; color: #ccc">axios</a> <a href="/qqsnote/tags/canvas/" style="font-size: 12px; color: #ccc">canvas</a> <a href="/qqsnote/tags/css/" style="font-size: 12px; color: #ccc">css</a> <a href="/qqsnote/tags/express/" style="font-size: 12px; color: #ccc">express</a> <a href="/qqsnote/tags/ftp/" style="font-size: 12px; color: #ccc">ftp</a> <a href="/qqsnote/tags/git/" style="font-size: 13.5px; color: #d0d0d0">git</a> <a href="/qqsnote/tags/hexo/" style="font-size: 12px; color: #ccc">hexo</a> <a href="/qqsnote/tags/http/" style="font-size: 12px; color: #ccc">http</a> <a href="/qqsnote/tags/http2/" style="font-size: 12px; color: #ccc">http2</a> <a href="/qqsnote/tags/https/" style="font-size: 12px; color: #ccc">https</a> <a href="/qqsnote/tags/ionic/" style="font-size: 12px; color: #ccc">ionic</a> <a href="/qqsnote/tags/javascript/" style="font-size: 28.5px; color: #fbfbfb">javascript</a> <a href="/qqsnote/tags/k8s/" style="font-size: 12px; color: #ccc">k8s</a> <a href="/qqsnote/tags/login/" style="font-size: 12px; color: #ccc">login</a> <a href="/qqsnote/tags/loopback/" style="font-size: 12px; color: #ccc">loopback</a> <a href="/qqsnote/tags/ngrok/" style="font-size: 12px; color: #ccc">ngrok</a> <a href="/qqsnote/tags/npm/" style="font-size: 12px; color: #ccc">npm</a> <a href="/qqsnote/tags/nsis/" style="font-size: 13.5px; color: #d0d0d0">nsis</a> <a href="/qqsnote/tags/redis/" style="font-size: 12px; color: #ccc">redis</a> <a href="/qqsnote/tags/sqlServer/" style="font-size: 12px; color: #ccc">sqlServer</a> <a href="/qqsnote/tags/ssh/" style="font-size: 12px; color: #ccc">ssh</a> <a href="/qqsnote/tags/svg/" style="font-size: 12px; color: #ccc">svg</a> <a href="/qqsnote/tags/trea/" style="font-size: 12px; color: #ccc">trea</a> <a href="/qqsnote/tags/vtk/" style="font-size: 16.5px; color: #d9d9d9">vtk</a> <a href="/qqsnote/tags/vuejs/" style="font-size: 19.5px; color: #e1e1e1">vuejs</a> <a href="/qqsnote/tags/webassembly/" style="font-size: 15px; color: #d5d5d5">webassembly</a> <a href="/qqsnote/tags/webpack/" style="font-size: 12px; color: #ccc">webpack</a> <a href="/qqsnote/tags/websocket/" style="font-size: 12px; color: #ccc">websocket</a> <a href="/qqsnote/tags/windows/" style="font-size: 12px; color: #ccc">windows</a> <a href="/qqsnote/tags/yarn/" style="font-size: 12px; color: #ccc">yarn</a> <a href="/qqsnote/tags/%E4%B8%8A%E4%BC%A0/" style="font-size: 12px; color: #ccc">上传</a> <a href="/qqsnote/tags/%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F/" style="font-size: 12px; color: #ccc">内网穿透</a> <a href="/qqsnote/tags/%E5%8A%A0%E5%AF%86/" style="font-size: 16.5px; color: #d9d9d9">加密</a> <a href="/qqsnote/tags/%E5%8C%BB%E5%AD%A6%E5%9B%BE%E5%83%8F/" style="font-size: 13.5px; color: #d0d0d0">医学图像</a> <a href="/qqsnote/tags/%E5%8D%9A%E5%BC%88%E8%AE%BA/" style="font-size: 12px; color: #ccc">博弈论</a> <a href="/qqsnote/tags/%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86/" style="font-size: 12px; color: #ccc">图像处理</a> <a href="/qqsnote/tags/%E5%9B%BE%E5%BD%A2%E5%AD%A6/" style="font-size: 18px; color: #ddd">图形学</a> <a href="/qqsnote/tags/%E5%A4%9A%E8%AF%AD%E8%A8%80/" style="font-size: 13.5px; color: #d0d0d0">多语言</a> <a href="/qqsnote/tags/%E5%A4%A7%E6%A8%A1%E5%9E%8B/" style="font-size: 12px; color: #ccc">大模型</a> <a href="/qqsnote/tags/%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B/" style="font-size: 12px; color: #ccc">存储过程</a> <a href="/qqsnote/tags/%E6%80%A7%E8%83%BD/" style="font-size: 15px; color: #d5d5d5">性能</a> <a href="/qqsnote/tags/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/" style="font-size: 13.5px; color: #d0d0d0">性能优化</a> <a href="/qqsnote/tags/%E6%88%90%E9%95%BF%E6%80%9D%E7%BB%B4/" style="font-size: 12px; color: #ccc">成长思维</a> <a href="/qqsnote/tags/%E6%91%84%E5%BD%B1/" style="font-size: 12px; color: #ccc">摄影</a> <a href="/qqsnote/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/" style="font-size: 12px; color: #ccc">操作系统</a> <a href="/qqsnote/tags/%E6%95%B0%E5%AD%97%E7%AD%BE%E5%90%8D/" style="font-size: 12px; color: #ccc">数字签名</a> <a href="/qqsnote/tags/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/" style="font-size: 12px; color: #ccc">数据可视化</a> <a href="/qqsnote/tags/%E6%95%B0%E6%8D%AE%E5%BA%93%E9%94%81/" style="font-size: 12px; color: #ccc">数据库锁</a> <a href="/qqsnote/tags/%E6%A0%91%E8%8E%93%E6%B4%BE/" style="font-size: 12px; color: #ccc">树莓派</a> <a href="/qqsnote/tags/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/" style="font-size: 12px; color: #ccc">正则表达式</a> <a href="/qqsnote/tags/%E7%89%A9%E8%81%94%E7%BD%91/" style="font-size: 12px; color: #ccc">物联网</a> <a href="/qqsnote/tags/%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F/" style="font-size: 13.5px; color: #d0d0d0">环境变量</a> <a href="/qqsnote/tags/%E7%AE%97%E6%B3%95/" style="font-size: 16.5px; color: #d9d9d9">算法</a> <a href="/qqsnote/tags/%E7%BC%96%E7%A0%81%E8%A7%84%E8%8C%83/" style="font-size: 12px; color: #ccc">编码规范</a> <a href="/qqsnote/tags/%E8%8B%B1%E8%AF%AD/" style="font-size: 12px; color: #ccc">英语</a> <a href="/qqsnote/tags/%E8%A7%86%E9%A2%91%E6%B5%81/" style="font-size: 12px; color: #ccc">视频流</a> <a href="/qqsnote/tags/%E8%A7%A6%E5%8F%91%E5%99%A8/" style="font-size: 12px; color: #ccc">触发器</a> <a href="/qqsnote/tags/%E8%AE%A4%E8%AF%81-%E6%8E%88%E6%9D%83/" style="font-size: 21px; color: #e6e6e6">认证&授权</a> <a href="/qqsnote/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" style="font-size: 12px; color: #ccc">设计模式</a> <a href="/qqsnote/tags/%E8%AF%BB%E4%B9%A6/" style="font-size: 12px; color: #ccc">读书</a> <a href="/qqsnote/tags/%E8%BF%9B%E7%A8%8B%E5%AE%88%E6%8A%A4/" style="font-size: 12px; color: #ccc">进程守护</a> <a href="/qqsnote/tags/%E9%9D%A2%E8%AF%95/" style="font-size: 13.5px; color: #d0d0d0">面试</a> <a href="/qqsnote/tags/%E9%A6%99%E6%A9%99%E6%B4%BE/" style="font-size: 12px; color: #ccc">香橙派</a>
      </div>
    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">QQs</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/qqsnote/lib/anime.min.js"></script>
  <script src="/qqsnote/lib/velocity/velocity.min.js"></script>
  <script src="/qqsnote/lib/velocity/velocity.ui.min.js"></script>

<script src="/qqsnote/js/utils.js"></script>

<script src="/qqsnote/js/motion.js"></script>


<script src="/qqsnote/js/schemes/muse.js"></script>


<script src="/qqsnote/js/next-boot.js"></script>




  




  
<script src="/qqsnote/js/local-search.js"></script>













  

  

  

</body>
</html>
