<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.1">
  <link rel="apple-touch-icon" sizes="180x180" href="/qqsnote/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/qqsnote/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/qqsnote/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/qqsnote/images/logo.svg" color="#222">

<link rel="stylesheet" href="/qqsnote/css/main.css">


<link rel="stylesheet" href="/qqsnote/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"qqstone.github.io","root":"/qqsnote/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="QQs&#39;Note">
<meta property="og:url" content="http://qqstone.github.io/qqsnote/page/13/index.html">
<meta property="og:site_name" content="QQs&#39;Note">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="QQs">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://qqstone.github.io/qqsnote/page/13/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'en'
  };
</script>

  <title>QQs'Note</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/qqsnote/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">QQs'Note</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/qqsnote/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/qqsnote/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://qqstone.github.io/qqsnote/2021/04/25/Canvas-wordCloud/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/qqsnote/images/avatar.gif">
      <meta itemprop="name" content="QQs">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="QQs'Note">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/qqsnote/2021/04/25/Canvas-wordCloud/" class="post-title-link" itemprop="url">Canvas-wordCloud</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2021-04-25 14:52:09" itemprop="dateCreated datePublished" datetime="2021-04-25T14:52:09+08:00">2021-04-25</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-03-02 20:11:18" itemprop="dateModified" datetime="2025-03-02T20:11:18+08:00">2025-03-02</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="基础"><a href="#基础" class="headerlink" title="基础"></a>基础</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">const canvas &#x3D; document.getElementById(&#39;canvas&#39;)</span><br><span class="line">const ctx &#x3D; canvas.getContext(&#39;2d&#39;)</span><br><span class="line"></span><br><span class="line">ctx.beginPath()</span><br><span class="line">ctx.arc(75,75,50,0,Math.PI*2,true);&#x2F;&#x2F;以(75, 75)为圆心50为半径绘制从0~2pi的圆弧，true为顺时针</span><br><span class="line">ctx.stroke() &#x2F;&#x2F;使用线条绘制图形轮廓 相对的fill是填充图形</span><br></pre></td></tr></table></figure>
<blockquote>
<p>canvas元素创造了一块固定的画布，它公开了一个或多个渲染上下文，其可以用来绘制和处理要展示的内容。<br>getContext(‘2d’)提供了二维渲染上下文 并没有‘3d’参数，而是‘webgl’或‘webgl2’ 见<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/API/HTMLCanvasElement/getContext">GetContext MDN</a></p>
<h3 id="hexo-tag-cloud"><a href="#hexo-tag-cloud" class="headerlink" title="hexo tag cloud"></a>hexo tag cloud</h3><p><a target="_blank" rel="noopener" href="https://github.com/D0n9X1n/hexo-tag-cloud">Hexo plugin: hexo-tag-cloud</a><br>该项目使用使用胶水语言(如swig)，将tagCanvas.js植入Hexo项目<br><a target="_blank" rel="noopener" href="https://www.goat1000.com/tagcanvas.php">tagCanvas.js 库</a><br>在本项目qqsnote中，并按hexo-tag-cloud的README示意的没有集成到sidebar,而是集成到了theme/next/layout/page.swig，并按tagCanvas.js 库文档示意设置了权重显示模式</p>
</blockquote>
<h4 id="在屏幕上画一个立体球"><a href="#在屏幕上画一个立体球" class="headerlink" title="在屏幕上画一个立体球"></a>在屏幕上画一个立体球</h4><p>看一眼 <a target="_blank" rel="noopener" href="https://github.com/whxaxes/canvas-test/blob/master/src/3D-demo/3Dball.html">吖猩的3D旋转球</a></p>
<p>在球面的经纬焦点处绘制粒子，从球心到球半径R分n层纬度，2n经度，则共4n<sup>2</sup>+2n个点<br>假设在每个点处放置半径r的粒子小球，小球在二维屏幕的投影用arc绘制填充即可，投影圆的位置为(x,y)，z=(R<sup>2</sup>-x<sup>2</sup>-y<sup>2</sup>)<sup>1/2</sup><br>有意思的来了：球在二维的投影，位置(远近z)反映在投影上是投影圆的半径(也可以进而根据这个比例设置opacity)，两个成像物体成像到固定像平面，像高r与物距l的关系是<br>r’/r = (l-f)/(f-z)<br>当l=2f时成像与物体等大 即r’=f/(f-z)*r<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type&#x3D;&quot;text&#x2F;javascript&quot;&gt;</span><br><span class="line">    &#x2F;&#x2F; init webgl</span><br><span class="line">    const canvas &#x3D; document.getElementById(&#39;wordCloud&#39;)</span><br><span class="line">    const ctx &#x3D; canvas.getContext(&#39;2d&#39;)</span><br><span class="line">    ctx.clearRect(0, 0, canvas.width, canvas.height);</span><br><span class="line">    const vpx &#x3D; canvas.width&#x2F;2 &#x2F;&#x2F; 圆心偏移原点(0,0) 使x，y不为负数</span><br><span class="line">    const vpy &#x3D; canvas.height&#x2F;2</span><br><span class="line">    const R &#x3D; 300</span><br><span class="line">    &#x2F;&#x2F; z: [-300 300]</span><br><span class="line">    f &#x3D; 600 </span><br><span class="line">    opacity_min &#x3D; 0.3</span><br><span class="line">    const atoms&#x3D;[]</span><br><span class="line">    &#x2F;&#x2F; solid ball 经纬</span><br><span class="line">    &#x2F;&#x2F; 粒子</span><br><span class="line">    const atom &#x3D; function(x,y,z,r)&#123;</span><br><span class="line">        this.x &#x3D; x;</span><br><span class="line">        this.y &#x3D; y;</span><br><span class="line">        this.z &#x3D; z;</span><br><span class="line">        this.r &#x3D; r;</span><br><span class="line">    &#125;</span><br><span class="line">    atom.prototype.paint&#x3D;function()&#123;</span><br><span class="line">        ctx.save() &#x2F;&#x2F;?</span><br><span class="line">        ctx.beginPath()</span><br><span class="line">        const r_projection &#x3D; this.r*f&#x2F;(f-this.z) &#x2F;&#x2F; projection 投影</span><br><span class="line">        ctx.arc(vpx+this.x,vpy+this.y,this.r,0,Math.PI*2,true)</span><br><span class="line">        ctx.fillStyle&#x3D;&#96;rgba(255,255,255,$&#123;opacity_min + (R+this.z)&#x2F;2&#x2F;R&#125;)&#96;</span><br><span class="line">        ctx.fill()</span><br><span class="line">        ctx.restore()</span><br><span class="line">    &#125;</span><br><span class="line">    const N &#x3D; 5</span><br><span class="line">    for(let k&#x3D;-N; k&lt;&#x3D;N; k++)&#123; &#x2F;&#x2F; 2N+1个纬度</span><br><span class="line">        const R_latitude &#x3D; Math.pow(R*R - Math.pow(R*k&#x2F;N,2),0.5)</span><br><span class="line">        for(let i &#x3D; 0; i&lt;2*N; i++)&#123; &#x2F;&#x2F; 2N条经线</span><br><span class="line">            const x &#x3D; R_latitude*Math.cos(i*Math.PI&#x2F;N)</span><br><span class="line">            const y &#x3D; R_latitude*Math.sin(i*Math.PI&#x2F;N)</span><br><span class="line">            const z &#x3D; k&#x2F;N*R</span><br><span class="line">            const a &#x3D; new atom(x,y,z,1.5)</span><br><span class="line">            a.paint()</span><br><span class="line">            atoms.push(a)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure><br><img src="https://i0.wp.com/tvax4.sinaimg.cn/large/a60edd42ly1gpy2efigmqj20o20mcq2u.jpg" alt="五层纬度球"></p>
<p>如上相当于从z轴方向俯视一个球，了解另一种“撒点”方式:<br>球坐标点(R, θ, φ)<br><img src="https://tva3.sinaimg.cn/large/a60edd42ly1gpy37k5u8sj208c07g0so.jpg" alt="球坐标系"><br>x = R <em> sinθ </em> sinφ<br>y = R <em> sinθ </em> cosφ<br>z = R <em> cosθ<br>θ不取0和180就可以避免出现‘南北极’(上面的算法中极点是一圈粒子重合在一起)<br>设共N个粒子，i取[0, N)<br>找一个f(i)取值(-1, 1) 作为cosθ 那就f(i) = 2</em>(i + 1)/N - 1<br>找一个g(i)</p>
<h4 id="旋转"><a href="#旋转" class="headerlink" title="旋转"></a>旋转</h4><p>绕z轴 转过角度θ</p>
<script type="math/tex; mode=display">
\left[
 \begin{matrix}
   x' \\
   y' 
  \end{matrix}
  \right]=
 \left[
 \begin{matrix}
   cosθ & -sinθ \\
   sinθ & cosθ 
  \end{matrix}
  \right]·
  \left[
 \begin{matrix}
   x \\
   y 
  \end{matrix}
  \right]</script><p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/102814853">旋转矩阵的推导</a></p>
<p>实际上绕z旋转在投影屏幕上就是同心圆环绕，并没有粒子的前后(z)不变，也难以用一个二维的变量控制，因此前辈们都使用将鼠标(x, y)的偏移对应并分解到绕x，y轴的旋转之实现<br>旋转矩阵是相同的<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">let angleX &#x3D; angleY &#x3D; 0</span><br><span class="line">function rotateX(angle)&#123;</span><br><span class="line">    atoms.forEach(atom&#x3D;&gt;&#123;</span><br><span class="line">        const y &#x3D; atom.y*Math.cos(angle) - atom.z*Math.sin(angle) </span><br><span class="line">        const z &#x3D; atom.y*Math.sin(angle) + atom.z*Math.cos(angle)</span><br><span class="line">        atom.y &#x3D; y</span><br><span class="line">        atom.z &#x3D; z </span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line">function rotateY(angle)&#123;</span><br><span class="line">    atoms.forEach(atom&#x3D;&gt;&#123;</span><br><span class="line">        const z &#x3D; atom.z*Math.cos(angle) - atom.x*Math.sin(angle) </span><br><span class="line">        const x &#x3D; atom.z*Math.sin(angle) + atom.x*Math.cos(angle)</span><br><span class="line">        atom.z &#x3D; z</span><br><span class="line">        atom.x &#x3D; x </span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line">function rolling()&#123; &#x2F;&#x2F; click事件，点击一下随机绕x或y转十分之一圆周</span><br><span class="line">    ctx.clearRect(0, 0, canvas.width, canvas.height);</span><br><span class="line">    if(Math.random()&gt;0.5)&#123;</span><br><span class="line">        rotateX(Math.PI&#x2F;36)</span><br><span class="line">    &#125;else&#123;</span><br><span class="line">        rotateY(Math.PI&#x2F;36)</span><br><span class="line">    &#125;</span><br><span class="line">    atoms.forEach(atom&#x3D;&gt;&#123;</span><br><span class="line">        atom.paint()</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>根据鼠标偏移控制旋转角度<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">canvas.addEventListener(&#39;mousemove&#39;,function(e)&#123;</span><br><span class="line">    var x &#x3D; e.clientX - vpx</span><br><span class="line">    var y &#x3D; e.clientY - vpy</span><br><span class="line">    angleX &#x3D; -x*0.00001</span><br><span class="line">    angleY &#x3D; -y*0.00001</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><br>对于博客，该事件加在body上，使整个页面上都可以响应鼠标位置，相应的应减去球心位置偏移 (canvas.offsetLeft + document.body.scrollLeft + document.documentElement.scrollLeft, canvas.offsetTop + document.body.scrollTop + document.documentElement.scrollTop)</p>
<h4 id="window-requrestAnimationFrame"><a href="#window-requrestAnimationFrame" class="headerlink" title="window.requrestAnimationFrame"></a>window.requrestAnimationFrame</h4><blockquote>
<p>告诉浏览器:你希望执行一个动画，并且要求浏览器在下次重绘之前调用指定的回调函数更新动画。该方法需要传入一个回调函数作为参数，该回调函数会在浏览器下一次重绘之前执行</p>
</blockquote>
<p>因为渲染canvas和执行js不是一个线程，使用for循环来串起动画是行不通的，setInterval和setTimeout倒可以使用<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">let start</span><br><span class="line">function animation(timestamp)&#123;</span><br><span class="line">    ctx.clearRect(0, 0, canvas.width, canvas.height);</span><br><span class="line">    if(!start)&#123;</span><br><span class="line">        start &#x3D; timestamp</span><br><span class="line">    &#125;</span><br><span class="line">    rotateX(angleX)</span><br><span class="line">    rotateY(angleY)</span><br><span class="line">    atoms.forEach(atom&#x3D;&gt;&#123;</span><br><span class="line">        atom.paint()</span><br><span class="line">    &#125;)</span><br><span class="line">    const elapsed &#x3D; timestamp - start</span><br><span class="line">    if(true)&#123;</span><br><span class="line">        requestAnimationFrame(animation)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">requestAnimationFrame(animation)</span><br></pre></td></tr></table></figure></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://qqstone.github.io/qqsnote/2021/04/25/jsMDN/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/qqsnote/images/avatar.gif">
      <meta itemprop="name" content="QQs">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="QQs'Note">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/qqsnote/2021/04/25/jsMDN/" class="post-title-link" itemprop="url">JavaScript MDN</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2021-04-25 14:33:43" itemprop="dateCreated datePublished" datetime="2021-04-25T14:33:43+08:00">2021-04-25</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2021-06-16 21:02:49" itemprop="dateModified" datetime="2021-06-16T21:02:49+08:00">2021-06-16</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/qqsnote/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/" itemprop="url" rel="index"><span itemprop="name">编程语言</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h4 id="replace"><a href="#replace" class="headerlink" title="replace"></a>replace</h4><p>常规用法<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">str.replace(&#39;_&#39;,&#39;&#39;)</span><br><span class="line">str.replace(&#x2F;[^0-9a-zA-Z]&#x2F;g,&quot;&quot;);</span><br></pre></td></tr></table></figure><br>指定函数作为参数<br>即第二个参数为函数<br>见于hexo源码 /node_modules/hexo/lib/hexo/post.js line 42, line 25<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">restoreCodeBlocks(str) &#123;</span><br><span class="line">    return str.replace(rCodeBlockPlaceHolder, _restoreContent(this.cache));</span><br><span class="line">&#125;</span><br><span class="line">const _restoreContent &#x3D; cache &#x3D;&gt; (_, index) &#x3D;&gt; &#123;</span><br><span class="line">  assert(cache[index]);</span><br><span class="line">  const value &#x3D; cache[index];</span><br><span class="line">  cache[index] &#x3D; null;</span><br><span class="line">  return value;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><br>rCodeBlockPlaceHolder是一串正则表达式，replace对str中符合正则表达式的结果(即str.match(rCodeBlockPlaceHolder))应用参数二方法，方法执行结果替换相应的字符串<br>值得注意的是，_restoreContent(this.cache)返回一个带迭代的方法，index对应str.match(rCodeBlockPlaceHolder)的次序</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://qqstone.github.io/qqsnote/2021/04/23/DataStructuresAndAlgorithms/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/qqsnote/images/avatar.gif">
      <meta itemprop="name" content="QQs">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="QQs'Note">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/qqsnote/2021/04/23/DataStructuresAndAlgorithms/" class="post-title-link" itemprop="url">数据结构和算法</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2021-04-23 15:13:25" itemprop="dateCreated datePublished" datetime="2021-04-23T15:13:25+08:00">2021-04-23</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2021-06-16 21:02:49" itemprop="dateModified" datetime="2021-06-16T21:02:49+08:00">2021-06-16</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://qqstone.github.io/qqsnote/2021/04/16/pwa/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/qqsnote/images/avatar.gif">
      <meta itemprop="name" content="QQs">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="QQs'Note">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/qqsnote/2021/04/16/pwa/" class="post-title-link" itemprop="url">渐进式web开发</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2021-04-16 10:20:53" itemprop="dateCreated datePublished" datetime="2021-04-16T10:20:53+08:00">2021-04-16</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2024-06-15 16:30:40" itemprop="dateModified" datetime="2024-06-15T16:30:40+08:00">2024-06-15</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>Progressing Web Application<br><a target="_blank" rel="noopener" href="https://create-react-app.dev/docs/making-a-progressive-web-app/">https://create-react-app.dev/docs/making-a-progressive-web-app/</a><br><a target="_blank" rel="noopener" href="https://web.dev/progressive-web-apps/">https://web.dev/progressive-web-apps/</a></p>
<p>渐进式意使是网站根据浏览器的功能相应地呈现，高级的浏览器呈现高级的效果。就目前来看主要表现是对于版本比较高的 chrome，firefox 等浏览器，pwa 可以使用 add to home screen 的功能，使网络应用固定在桌面、移动设备主屏幕，成为独立应用</p>
<p>脱机使用的渐进式web应用更快速也更可靠，还具备更吸引人的移动端体验，比如在网络不佳的场景下使用，还有添加到主屏幕的功能</p>
<h4 id="网络应用清单-manifest-json"><a href="#网络应用清单-manifest-json" class="headerlink" title="网络应用清单 manifest.json"></a>网络应用清单 manifest.json</h4><p>参考<a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/61173507">PWA manifest 配置</a><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;short_name&quot;: &quot;MY APP&quot;,</span><br><span class="line">  &quot;name&quot;: &quot;MY APP Full Name&quot;,</span><br><span class="line">  &quot;icons&quot;: [</span><br><span class="line">      &#123;</span><br><span class="line">      &quot;src&quot;: &quot;icon&#x2F;lowres.webp&quot;,</span><br><span class="line">      &quot;sizes&quot;: &quot;48x48&quot;,</span><br><span class="line">      &quot;type&quot;: &quot;image&#x2F;webp&quot;</span><br><span class="line">    &#125;,&#123;</span><br><span class="line">      &quot;src&quot;: &quot;icon&#x2F;lowres&quot;,</span><br><span class="line">      &quot;sizes&quot;: &quot;48x48&quot;</span><br><span class="line">    &#125;,&#123;</span><br><span class="line">      &quot;src&quot;: &quot;icon&#x2F;hd_hi.ico&quot;,</span><br><span class="line">      &quot;sizes&quot;: &quot;72x72 96x96 128x128 256x256&quot;</span><br><span class="line">    &#125;,&#123;</span><br><span class="line">      &quot;src&quot;: &quot;icon&#x2F;hd_hi.svg&quot;,</span><br><span class="line">      &quot;sizes&quot;: &quot;257x257&quot;</span><br><span class="line">    &#125;</span><br><span class="line">  ],</span><br><span class="line">  &quot;start_url&quot;: &quot;&#x2F;&quot;,</span><br><span class="line">  &quot;display&quot;: &quot;standalone&quot;,</span><br><span class="line">  &quot;theme_color&quot;: &quot;#000000&quot;,</span><br><span class="line">  &quot;background_color&quot;: &quot;#FFB71B&quot;,</span><br><span class="line">  &quot;url&quot;: &quot;&#x2F;&quot;,</span><br><span class="line">  &quot;manifestUrl&quot;: &quot;&#x2F;manifest.json&quot;,</span><br><span class="line">  &quot;lang&quot;: &quot;en&quot;,</span><br><span class="line">  &quot;description&quot;: &quot;blabla&quot;,</span><br><span class="line">  &quot;scope&quot;: &quot;.&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>manifest的生成可以借助webpack plugin生成</p>
<h4 id="Service-Worker"><a href="#Service-Worker" class="headerlink" title="Service Worker"></a>Service Worker</h4><blockquote>
<p>Service Worker 是一直在浏览器后台运行的worker线程，设置其拦截用户的请求（如加载脚本和图片）进而可以改变请求行为，如不访问服务器直接返回， 再如从缓存加载资源 以提升在离线或加载繁重的应用场景</p>
</blockquote>
<p>如下注册Service Worker，Service Worker必须由HTTPS协议载入，Service Worker脚本须与网站同域<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">if (&#39;serviceWorker&#39; in navigator) &#123;</span><br><span class="line">&#x2F;&#x2F; register service worker</span><br><span class="line"> navigator.serviceWorker.register(&#39;.&#x2F;sw.js&#39;, &#123;scope: &#39;.&#x2F;&#39;&#125;) &#x2F;&#x2F; 参数1：注册提供的脚本URL 参数2：导航匹配</span><br><span class="line">.then(()&#x3D;&gt;&#123;</span><br><span class="line">    console.log(&#39;注册成功&#39;)</span><br><span class="line">&#125;).catch(()&#x3D;&gt;&#123;</span><br><span class="line">    console.log(&#39;注册失败&#39;)</span><br><span class="line">&#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>sw.js</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 缓存静态文件</span><br><span class="line">self.addEventListener(&#39;install&#39;, (event) &#x3D;&gt; &#123;</span><br><span class="line">    event.waitUntil(caches.open(&#39;myapp&#39;).then((cache) &#x3D;&gt;  cache.addAll([&#39;**&#x2F;*&#39;])));</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 缓存接口数据</span><br><span class="line">self.addEventListener(&#39;fetch&#39;, (event) &#x3D;&gt; &#123;</span><br><span class="line">    event.respondWith(caches.match(event.request).then((response) &#x3D;&gt; &#123;</span><br><span class="line">        &#x2F;&#x2F; 匹配到请求</span><br><span class="line">        if (response !&#x3D;&#x3D; undefined) &#123;</span><br><span class="line">            return response;</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            return fetch(event.request).then((response) &#x3D;&gt; &#123;</span><br><span class="line">                &#x2F;&#x2F; 缓存响应数据</span><br><span class="line">                let responseClone &#x3D; response.clone();</span><br><span class="line">                caches.open(&#39;v1&#39;).then((cache) &#x3D;&gt; &#123;</span><br><span class="line">                    cache.put(event.request, responseClone);</span><br><span class="line">                &#125;);</span><br><span class="line">                return response;</span><br><span class="line">            &#125;).catch(() &#x3D;&gt; &#123;</span><br><span class="line">                return caches.match(&#39;&#x2F;gallery&#x2F;myLittleVader.jpg&#39;);</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;));</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 更新缓存</span><br><span class="line">self.addEventListener(&#39;activate&#39;, (event) &#x3D;&gt; &#123;</span><br><span class="line">    event.waitUntil(</span><br><span class="line">        caches.keys().then((cacheNames) &#123;</span><br><span class="line">            return Promise.all(</span><br><span class="line">                cacheNames.map(function(cacheName) &#123;</span><br><span class="line">                    &#x2F;&#x2F; 如果有更新</span><br><span class="line">                    if (cacheName !&#x3D;&#x3D; &#39;v1&#39;) &#123;</span><br><span class="line">                        return caches.delete(cacheName);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;)</span><br><span class="line">            );</span><br><span class="line">        &#125;).then(function()&#123;</span><br><span class="line">            return self.clients.claim()</span><br><span class="line">        &#125;)</span><br><span class="line">    );</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>Service Worker生命周期：</p>
<p>如index.html中 加载应用时即注册service worker，注册成功即触发安装事件(install event)，见sw.js代码，在安装事件的响应中，处理应用缓存</p>
<p>安装成功后激活service worker触发激活事件(active event)</p>
<p>激活成功后service worker进入idle状态 在该状态下所有请求会触发fetch event 直到应用关闭</p>
<p>Service Worker的更新：</p>
<p>触发更新</p>
<ul>
<li>导航到作用域内页面时</li>
<li>某事件触发后24h未下载Service Worker</li>
</ul>
<p>若Service Worker下载后被发现是新文件，无论Service Worker内容是否与现有的相同，都将触发install</p>
<p>如果是第一次安装Service Worker，如上所述安装成功后触发激活，但对于更新，Service Worker已启用的情形，会等待所有已加载的页面不再依赖旧的Service Worker后，触发激活</p>
<h4 id="添加到主屏幕（a2hs）"><a href="#添加到主屏幕（a2hs）" class="headerlink" title="添加到主屏幕（a2hs）"></a>添加到主屏幕（a2hs）</h4><p>使应用支持a2hs:</p>
<ul>
<li>https</li>
<li>正确配置的manifest.json</li>
<li>合适的图标</li>
<li>注册service worker<br>注册service worker是作为a2hs条件的，但是可以a2hs，未必可以离线使用</li>
</ul>
<h4 id="框架支持"><a href="#框架支持" class="headerlink" title="框架支持"></a>框架支持</h4><p><a target="_blank" rel="noopener" href="https://create-react-app.dev/docs/making-a-progressive-web-app/">react pwa</a><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npx create-react-app my-app --template cra-template-pwa</span><br></pre></td></tr></table></figure></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://qqstone.github.io/qqsnote/2021/04/14/formatjs/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/qqsnote/images/avatar.gif">
      <meta itemprop="name" content="QQs">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="QQs'Note">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/qqsnote/2021/04/14/formatjs/" class="post-title-link" itemprop="url">formatjs</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2021-04-14 15:46:29" itemprop="dateCreated datePublished" datetime="2021-04-14T15:46:29+08:00">2021-04-14</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2021-06-16 21:02:49" itemprop="dateModified" datetime="2021-06-16T21:02:49+08:00">2021-06-16</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/qqsnote/categories/%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF/" itemprop="url" rel="index"><span itemprop="name">前端技术</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h4 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">yarn add react-intl</span><br><span class="line">yarn add -D @formatjs&#x2F;ts-transformer</span><br></pre></td></tr></table></figure>
<blockquote>
<p>we highly recommend declaring defaultMessages inline along with their usages because of the following reasons: 建议使用声明内联的defaultMessages， 连同他们的usage，原因如下</p>
</blockquote>
<ol>
<li>Messages colocated with their usages become self-managed, as their usages change/removed, so are the messages. 搭配usage的Message成为自治的 当usage更改或移除，Message亦同</li>
<li>Messages are highly contextual. We’ve seen a lot of cases where developers assume a certain grammar when they write their messages. Buttons/Call-To-Actions and labels are also translated differently. Message高度关联上下文， 杜绝为message发明新语法或编规则</li>
<li>Text styling is also dependent on the message itself. Things like truncation, capitalization… certainly affect the messages themselves. 会与样式相关</li>
<li>Better integrations with toolchains. Most toolchains cannot verify cross-file references to validate syntax/usage. 易于工具链集成</li>
</ol>
<h4 id="格式化语法"><a href="#格式化语法" class="headerlink" title="格式化语法"></a>格式化语法</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">import * as React from &#39;react&#39;</span><br><span class="line">import &#123;IntlProvider, FormattedMessage, FormattedNumber&#125; from &#39;react-intl&#39;</span><br><span class="line"></span><br><span class="line">&lt;IntlProvider messages&#x3D;&#123;messagesInFrench&#125; locale&#x3D;&quot;fr&quot; defaultLocale&#x3D;&quot;en&quot;&gt;</span><br><span class="line">    &lt;p&gt;</span><br><span class="line">    &lt;FormattedMessage</span><br><span class="line">        id&#x3D;&quot;myMessage&quot;</span><br><span class="line">        defaultMessage&#x3D;&quot;Today is &#123;ts, date, ::yyyyMMdd&#125;&quot;</span><br><span class="line">        values&#x3D;&#123;&#123;ts: Date.now()&#125;&#125;</span><br><span class="line">    &#x2F;&gt;</span><br><span class="line">    &lt;br &#x2F;&gt;</span><br><span class="line">    &lt;FormattedNumber value&#x3D;&#123;19&#125; style&#x3D;&quot;currency&quot; currency&#x3D;&quot;EUR&quot; &#x2F;&gt;</span><br><span class="line">    &lt;&#x2F;p&gt;</span><br><span class="line">&lt;&#x2F;IntlProvider&gt;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Error: [React Intl] Could not find required ‘intl’ object.  IntlProvider needs to exist in the component ancestry</p>
</blockquote>
<p>当没有IntlProvider父组件时报上述异常</p>
<h4 id="提取文本映射"><a href="#提取文本映射" class="headerlink" title="提取文本映射"></a>提取文本映射</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn add -D @formatjs&#x2F;cli</span><br></pre></td></tr></table></figure>
<p>package.json中添加脚本命令<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&quot;extract&quot;: &quot;formatjs extract&quot;</span><br></pre></td></tr></table></figure><br>执行<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">yarn extract &#39;src&#x2F;**&#x2F;*.ts*&#39; --out-file lang&#x2F;en.json --id-interpolation-pattern &#39;[sha512:contenthash:base64:6]&#39;</span><br><span class="line">或</span><br><span class="line">npm run extract -- &#39;src&#x2F;**&#x2F;*.ts*&#39; --out-file lang&#x2F;en.json --id-interpolation-pattern &#39;[sha512:contenthash:base64:6]&#39;</span><br></pre></td></tr></table></figure><br>将待翻译的message保存为指定语言的json文件，没id的message自动编码id</p>
<h4 id="分发"><a href="#分发" class="headerlink" title="分发"></a>分发</h4><p>将翻译好的多语言lang/<em>*</em>.json编译为Intl使用的格式<br>package.json中添加脚本命令<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&quot;compile&quot;: &quot;formatjs compile&quot;</span><br></pre></td></tr></table></figure><br>执行<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">yarn compile lang&#x2F;fr.json --ast --out-file compiled-lang&#x2F;fr.json</span><br><span class="line">或</span><br><span class="line">npm run compile -- lang&#x2F;fr.json --ast --out-file compiled-lang&#x2F;fr.json</span><br></pre></td></tr></table></figure></p>
<h4 id="切换语言代码"><a href="#切换语言代码" class="headerlink" title="切换语言代码"></a>切换语言代码</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">import * as React from &#39;react&#39;</span><br><span class="line">import * as ReactDOM from &#39;react-dom&#39;</span><br><span class="line">import &#123;IntlProvider&#125; from &#39;react-intl&#39;</span><br><span class="line"></span><br><span class="line">function loadLocaleData(locale: string) &#123;</span><br><span class="line">  switch (locale) &#123;</span><br><span class="line">    case &#39;fr&#39;:</span><br><span class="line">      return import(&#39;compiled-lang&#x2F;fr.json&#39;)</span><br><span class="line">    default:</span><br><span class="line">      return import(&#39;compiled-lang&#x2F;en.json&#39;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function App(props) &#123;</span><br><span class="line">  return (</span><br><span class="line">    &lt;IntlProvider</span><br><span class="line">      locale&#x3D;&#123;props.locale&#125;</span><br><span class="line">      defaultLocale&#x3D;&quot;en&quot;</span><br><span class="line">      messages&#x3D;&#123;props.messages&#125;</span><br><span class="line">    &gt;</span><br><span class="line">      &lt;MainApp &#x2F;&gt;</span><br><span class="line">    &lt;&#x2F;IntlProvider&gt;</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">async function bootstrapApplication(locale, mainDiv) &#123;</span><br><span class="line">  const messages &#x3D; await loadLocaleData(locale)</span><br><span class="line">  ReactDOM.render(&lt;App locale&#x3D;&#123;locale&#125; messages&#x3D;&#123;messages&#125; &#x2F;&gt;, mainDiv)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>切换语言触发IntlProvider下的组件初始化，将本地化的messages词条传入组件上下文</p>
<h4 id="useIntl钩子"><a href="#useIntl钩子" class="headerlink" title="useIntl钩子"></a>useIntl钩子</h4><p>返回当前语言的provider对象，提供formatData,formatMessage等方法，从messages词条中映射字符串<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">const intl &#x3D; useIntl()</span><br><span class="line">return (</span><br><span class="line">  &lt;span title&#x3D;&#123;intl.formatDate(date)&#125;&gt;</span><br><span class="line">    &lt;FormattedDate value&#x3D;&#123;date&#125; &#x2F;&gt;</span><br><span class="line">  &lt;&#x2F;span&gt;</span><br><span class="line">)</span><br></pre></td></tr></table></figure><br>带参数的格式化Message<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">dragAreaSupportTip(format: string) &#123;</span><br><span class="line">  const messages &#x3D; defineMessages(&#123;</span><br><span class="line">    supportTip: &#123;</span><br><span class="line">      id: &#39;dragArea.supportTip&#39;,</span><br><span class="line">      defaultMessage: &#39;Only supports &#123;format&#125; files&#39;,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;)</span><br><span class="line">  return intl.formatMessage(messages.supportTip, &#123; format &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>formatjs extract和compile命令可以在此使用<br>switch case 场景<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">translateEnums(name:string)&#123;</span><br><span class="line">  name &#x3D; name.replace(&#x2F; &#x2F;g, &#39;_&#39;)</span><br><span class="line">  const messages &#x3D; defineMessages(&#123;</span><br><span class="line">    transName: &#123;</span><br><span class="line">      id: &#39;enums.name&#39;,</span><br><span class="line">      defaultMessage: &#96;&#123;name, select,</span><br><span class="line">        dog &#123;dog&#125;</span><br><span class="line">        cat &#123;cat&#125;</span><br><span class="line">        King_Kong &#123;King Kong&#125;</span><br><span class="line">        other &#123;&#123;name&#125;&#125;</span><br><span class="line">      &#125;&#96;,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;)</span><br><span class="line">  const translatedName &#x3D; this.intl.formatMessage(messages.transName, &#123; name:name &#125;);</span><br><span class="line">  return translatedName.replace(&#x2F;_&#x2F;g, &#39; &#39;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>格式是{key, select, 选项..}的样子，见<a target="_blank" rel="noopener" href="https://formatjs.io/docs/core-concepts/icu-syntax/#select-format">format.js Doc:select format</a> 选项是’value {text}的格式，value据说遵循Unicode Pattern_Syntax 然而我并没有找到空格的表示法，如上’金刚’的名字用下划线替换了空格，另外匹配失败返回原字符串，变量key需再加大括号括起来</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://qqstone.github.io/qqsnote/2021/04/02/ElasticSearch/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/qqsnote/images/avatar.gif">
      <meta itemprop="name" content="QQs">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="QQs'Note">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/qqsnote/2021/04/02/ElasticSearch/" class="post-title-link" itemprop="url">ElasticSearch</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2021-04-02 09:45:57" itemprop="dateCreated datePublished" datetime="2021-04-02T09:45:57+08:00">2021-04-02</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-06-08 20:33:40" itemprop="dateModified" datetime="2025-06-08T20:33:40+08:00">2025-06-08</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>参考<a target="_blank" rel="noopener" href="https://www.cnblogs.com/dreamroute/p/8484457.html">https://www.cnblogs.com/dreamroute/p/8484457.html</a></p>
<h4 id="全文搜索引擎"><a href="#全文搜索引擎" class="headerlink" title="全文搜索引擎"></a>全文搜索引擎</h4><p>‘全文检索’不是ElasticSearch，ElasticSearch是一个开源的基于全文搜索引擎（Apache Lucene）的搜索和分析引擎。</p>
<p>全文搜索引擎面向文档型存储，即插入其数据库的每条记录作为一个文档，搜索引擎为提取文档的词，生成索引，通过查询索引达到搜索目标文档的目的。这种先建立索引，再对索引进行搜索的过程就叫全文检索（Full-text Search）<br><img src="https://i0.wp.com/tvax3.sinaimg.cn/large/a60edd42ly1gp57m8a30oj20nm0k4wis.jpg" alt=""></p>
<h4 id="文档-类型-索引"><a href="#文档-类型-索引" class="headerlink" title="文档-类型-索引"></a>文档-类型-索引</h4><p>关系数据库：      ⇒ 数据库 ⇒ 表    ⇒ 行    ⇒ 列(Columns)</p>
<p>Elasticsearch：  ⇒ 索引(Index)   ⇒ 类型(type)  ⇒ 文档(Docments)  ⇒ 字段(Fields)  </p>
<h4 id="二叉树-倒排"><a href="#二叉树-倒排" class="headerlink" title="二叉树 倒排"></a>二叉树 倒排</h4><h4 id="Kibana"><a href="#Kibana" class="headerlink" title="Kibana"></a>Kibana</h4><p>ElasticSearch的可视化仪表盘</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://qqstone.github.io/qqsnote/2021/03/31/DataLake/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/qqsnote/images/avatar.gif">
      <meta itemprop="name" content="QQs">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="QQs'Note">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/qqsnote/2021/03/31/DataLake/" class="post-title-link" itemprop="url">Data Lake</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2021-03-31 12:48:33" itemprop="dateCreated datePublished" datetime="2021-03-31T12:48:33+08:00">2021-03-31</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-06-08 20:33:40" itemprop="dateModified" datetime="2025-06-08T20:33:40+08:00">2025-06-08</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/qqsnote/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/" itemprop="url" rel="index"><span itemprop="name">数据库</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h4 id="Philosophy"><a href="#Philosophy" class="headerlink" title="Philosophy"></a>Philosophy</h4><p>湖是水源汇聚之处<br><img src="https://pic1.zhimg.com/80/v2-43b18039e25cd2d231e76b6fd61292c0_720w.jpg" alt=""></p>
<blockquote>
<p>Azure Data Lake includes all the capabilities required to make it easy for developers, data scientists, and analysts to store data of any size, shape, and speed, and do all types of processing and analytics across platforms and languages. It removes the complexities of ingesting(插入) and storing all of your data while making it faster to get up and running with batch(批量), streaming, and interactive analytics.  ———— <a target="_blank" rel="noopener" href="https://azure.microsoft.com/en-us/solutions/data-lake/">Azure Data Lake Solution</a></p>
</blockquote>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://qqstone.github.io/qqsnote/2021/03/23/MaterialDesign/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/qqsnote/images/avatar.gif">
      <meta itemprop="name" content="QQs">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="QQs'Note">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/qqsnote/2021/03/23/MaterialDesign/" class="post-title-link" itemprop="url">MaterialDesign</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2021-03-23 13:20:04" itemprop="dateCreated datePublished" datetime="2021-03-23T13:20:04+08:00">2021-03-23</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-04-16 20:11:32" itemprop="dateModified" datetime="2022-04-16T20:11:32+08:00">2022-04-16</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h4 id="Material-UI-System"><a href="#Material-UI-System" class="headerlink" title="Material UI System"></a>Material UI System</h4><p>System是Material UI 自定义主题、样式的一套方法<br>依赖<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install @material-ui&#x2F;system@next @emotion&#x2F;react @emotion&#x2F;styled</span><br></pre></td></tr></table></figure></p>
<ul>
<li>直接就可以在你需要的组件上面进行样式定制</li>
<li>避免定义一些列的样式（className）或带样式组件（styled-component）</li>
<li>制定统一的标准 如字体 字号 色系</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://mui.com/zh/system/basics/#why-use-the-system">关于使用sx系统样式与定义styled-component的书写差异</a><br>styled-component<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">const StatHeader &#x3D; styled(&#39;div&#39;)(z</span><br><span class="line">  (&#123; theme &#125;) &#x3D;&gt; &#96;</span><br><span class="line">  color: blue;</span><br><span class="line">&#96;,</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">...</span><br><span class="line">return (</span><br><span class="line">  &lt;StatHeader&gt;font color is blue here&lt;&#x2F;StatHeader&gt;</span><br><span class="line">)</span><br></pre></td></tr></table></figure><br>‘轻’组件(Box, Stack, Typography, and Grid) 和 sx属性<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">return (</span><br><span class="line">   &lt;Box sx&#x3D;&#123;&#123; color: &#39;text.secondary&#39; &#125;&#125;&gt;this color is blue here&lt;&#x2F;Box&gt;</span><br><span class="line">)</span><br></pre></td></tr></table></figure></p>
<h4 id="Material-Design"><a href="#Material-Design" class="headerlink" title="Material Design"></a>Material Design</h4><p><a target="_blank" rel="noopener" href="https://material.io/develop/web">Material Design</a></p>
<p><a target="_blank" rel="noopener" href="http://mcg.mbitson.com/#!?csd2021=%2336b0c9&amp;themename=mcgtheme">Color Palette tool</a><br>一套以上述工具生成的颜色模板(基于#36b0c9)👇<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">$qqs-design:(</span><br><span class="line">    50: #e7f6f9,</span><br><span class="line">    100: #c3e7ef,</span><br><span class="line">    200: #9bd8e4,</span><br><span class="line">    300: #72c8d9,</span><br><span class="line">    400: #54bcd1,</span><br><span class="line">    500: #36b0c9,</span><br><span class="line">    600: #30a9c3,</span><br><span class="line">    700: #29a0bc,</span><br><span class="line">    800: #2297b5,</span><br><span class="line">    900: #1687a9,</span><br><span class="line">    A100: #dcf6ff,</span><br><span class="line">    A200: #a9e9ff,</span><br><span class="line">    A400: #76ddff,</span><br><span class="line">    A700: #5dd6ff,</span><br><span class="line">    contrast: (</span><br><span class="line">      50: #262626,</span><br><span class="line">      100: #262626,</span><br><span class="line">      200: #262626,</span><br><span class="line">      300: white,</span><br><span class="line">      400: white,</span><br><span class="line">      500: white,</span><br><span class="line">      600: white,</span><br><span class="line">      A100: #262626,</span><br><span class="line">      A200: white,</span><br><span class="line">      A400: white,</span><br><span class="line">      A700: white</span><br><span class="line">    )</span><br><span class="line">);</span><br></pre></td></tr></table></figure><br>material套用自定义颜色模板<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; Custom Theming for Angular Material</span><br><span class="line">&#x2F;&#x2F; For more information: https:&#x2F;&#x2F;material.angular.io&#x2F;guide&#x2F;theming</span><br><span class="line">@import &#39;~@angular&#x2F;material&#x2F;theming&#39;;</span><br><span class="line">&#x2F;&#x2F; Plus imports for other components in your app.</span><br><span class="line">@import &#39;theme.scss&#39;;</span><br><span class="line">&#x2F;&#x2F; Include the common styles for Angular Material. We include this here so that you only</span><br><span class="line">&#x2F;&#x2F; have to load a single css file for Angular Material in your app.</span><br><span class="line">&#x2F;&#x2F; Be sure that you only ever include this mixin once!</span><br><span class="line">@include mat-core();</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; Define the palettes for your theme using the Material Design palettes available in palette.scss</span><br><span class="line">&#x2F;&#x2F; (imported above). For each palette, you can optionally specify a default, lighter, and darker</span><br><span class="line">&#x2F;&#x2F; hue. Available color palettes: https:&#x2F;&#x2F;material.io&#x2F;design&#x2F;color&#x2F;</span><br><span class="line">$CSDPartnerPortal-primary: mat-palette($csd2021);</span><br><span class="line">$CSDPartnerPortal-accent: mat-palette($csd2021, 500, A100, A400);</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; The warn palette is optional (defaults to red).</span><br><span class="line">$CSDPartnerPortal-warn: mat-palette($mat-red);</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; Create the theme object. A theme consists of configurations for individual</span><br><span class="line">&#x2F;&#x2F; theming systems such as &quot;color&quot; or &quot;typography&quot;.</span><br><span class="line">$CSDPartnerPortal-theme: mat-light-theme((</span><br><span class="line">  color: (</span><br><span class="line">    primary: $CSDPartnerPortal-primary,</span><br><span class="line">    accent: $CSDPartnerPortal-accent,</span><br><span class="line">    warn: $CSDPartnerPortal-warn,</span><br><span class="line">  )</span><br><span class="line">));</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; Include theme styles for core and each component used in your app.</span><br><span class="line">&#x2F;&#x2F; Alternatively, you can import and @include the theme mixins for each component</span><br><span class="line">&#x2F;&#x2F; that you are using.</span><br><span class="line">@include angular-material-theme($CSDPartnerPortal-theme);</span><br></pre></td></tr></table></figure></p>
<h4 id=""><a href="#" class="headerlink" title=" "></a> </h4>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://qqstone.github.io/qqsnote/2021/03/11/Grid/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/qqsnote/images/avatar.gif">
      <meta itemprop="name" content="QQs">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="QQs'Note">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/qqsnote/2021/03/11/Grid/" class="post-title-link" itemprop="url">Grid</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2021-03-11 14:07:30" itemprop="dateCreated datePublished" datetime="2021-03-11T14:07:30+08:00">2021-03-11</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2021-06-16 21:02:49" itemprop="dateModified" datetime="2021-06-16T21:02:49+08:00">2021-06-16</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/qqsnote/categories/%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF/" itemprop="url" rel="index"><span itemprop="name">前端技术</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>如果说flex适合做一维(水平或竖直放向)元素的布局，那么grid就是做二维布局的，如字面意思，grid布局将平面划分成 m*n 的网格，子元素分布其中，以所处/所占的行和列的控制实现页面layout的划分<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class&#x3D;&quot;wrapper&quot;&gt;</span><br><span class="line">  &lt;div class&#x3D;&quot;one&quot;&gt;One&lt;&#x2F;div&gt;</span><br><span class="line">  &lt;div class&#x3D;&quot;two&quot;&gt;Two&lt;&#x2F;div&gt;</span><br><span class="line">  &lt;div class&#x3D;&quot;three&quot;&gt;Three&lt;&#x2F;div&gt;</span><br><span class="line">  &lt;div class&#x3D;&quot;four&quot;&gt;Four&lt;&#x2F;div&gt;</span><br><span class="line">  &lt;div class&#x3D;&quot;five&quot;&gt;Five&lt;&#x2F;div&gt;</span><br><span class="line">  &lt;div class&#x3D;&quot;six&quot;&gt;Six&lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line">&lt;style&gt;</span><br><span class="line">.wrapper &#123;</span><br><span class="line">  display: grid;</span><br><span class="line">  grid-template-columns: repeat(3, 1fr);</span><br><span class="line">  grid-gap: 10px;</span><br><span class="line">  grid-auto-rows: minmax(100px, auto);</span><br><span class="line">&#125;</span><br><span class="line">.one &#123;</span><br><span class="line">  grid-column: 1 &#x2F; 3;</span><br><span class="line">  grid-row: 1;</span><br><span class="line">&#125;</span><br><span class="line">.two &#123;</span><br><span class="line">  grid-column: 2 &#x2F; 4;</span><br><span class="line">  grid-row: 1 &#x2F; 3;</span><br><span class="line">&#125;</span><br><span class="line">.three &#123;</span><br><span class="line">  grid-row: 2 &#x2F; 5;</span><br><span class="line">  grid-column: 1;</span><br><span class="line">&#125;</span><br><span class="line">.four &#123;</span><br><span class="line">  grid-column: 3;</span><br><span class="line">  grid-row: 3;</span><br><span class="line">&#125;</span><br><span class="line">.five &#123;</span><br><span class="line">  grid-column: 2;</span><br><span class="line">  grid-row: 4;</span><br><span class="line">&#125;</span><br><span class="line">.six &#123;</span><br><span class="line">  grid-column: 3;</span><br><span class="line">  grid-row: 4;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure><br>display: grid 或 inline-grid区分整个区域是否作为行内元素插入，不影响区域内的grid</p>
<p>列划分：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">grid-template-columns: 200px 500px 100px;</span><br><span class="line">grid-template-columns: repeat(4, 25%);</span><br><span class="line">grid-template-columns: 200px repeat(3, 1fr) 100px;</span><br></pre></td></tr></table></figure><br>注：fr是grid的特殊单位，可以从总分列去掉固定宽度列后均分剩余列<br>行划分grid-template-rows类似，也可以按比例划分剩余宽度</p>
<p>间距：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">grid-gap: 5px;</span><br><span class="line">grid-row-gap: 5px;</span><br><span class="line">grid-column-gap: 5px;</span><br></pre></td></tr></table></figure></p>
<p>填充:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grid-template-columns: repeat(auto-fill, 200px);</span><br></pre></td></tr></table></figure><br>以200px为一列，根据区域宽度调整列数（响应式）</p>
<p>区间：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grid-template-columns: 1fr 1fr minmax(300px, 2fr)</span><br></pre></td></tr></table></figure><br>第三个列宽最少也是要 300px，但是最大不能大于第一第二列宽的两倍。</p>
<p>区域定义：（略）</p>
<p>流：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">grid-auto-flow: row;</span><br><span class="line">grid-auto-flow: row dense;</span><br><span class="line">grid-auto-flow: column;</span><br></pre></td></tr></table></figure><br>填充单元格的横纵顺序，如果遇到尺寸不够而挤到下一行的情况，dense可以使用合适的子元素填充前面的空余单元格</p>
<p>对齐：<br>justify-item, align-item:父容器配置，分别控制子元素在所处单元格空间的对齐方向，两者默认是stretch撑满空间<br>可选值：start center end stretch</p>
<p>justify-content, align-content:父容器配置，分别控制整个grid(父容器)在上层容器中的对齐方向，两者默认是start</p>
<p>justify-self, align-self:子元素配置，控制自身在所处单元格空间的对齐方向与*-item一致</p>
<p>隐式网格：<br>在超出grid-template-columns和grid-template-rows的定义之后应用的网格划分<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">grid-template-columns: 200px 500px 100px;</span><br><span class="line">grid-template-rows: 100px 100px;</span><br><span class="line">grid-auto-rows: 50px;</span><br></pre></td></tr></table></figure></p>
<p>指定坐标：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">.item &#123;</span><br><span class="line">  grid-column-start: 3;</span><br><span class="line">  grid-column-end: 4;</span><br><span class="line">  grid-row-start: 1;</span><br><span class="line">  grid-row-end: 4;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://qqstone.github.io/qqsnote/2021/03/10/svg/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/qqsnote/images/avatar.gif">
      <meta itemprop="name" content="QQs">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="QQs'Note">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/qqsnote/2021/03/10/svg/" class="post-title-link" itemprop="url">svg</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2021-03-10 13:00:39" itemprop="dateCreated datePublished" datetime="2021-03-10T13:00:39+08:00">2021-03-10</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2024-06-15 16:30:40" itemprop="dateModified" datetime="2024-06-15T16:30:40+08:00">2024-06-15</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>svg 可缩放矢量图形(Scalable Vector Graphics), 使用xml格式定义图形，大概长这样子<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;svg xmlns&#x3D;&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;2000&#x2F;svg&quot; version&#x3D;&quot;1.1&quot;&gt;</span><br><span class="line">  &lt;circle cx&#x3D;&quot;100&quot; cy&#x3D;&quot;50&quot; r&#x3D;&quot;40&quot; stroke&#x3D;&quot;black&quot; stroke-width&#x3D;&quot;2&quot; fill&#x3D;&quot;red&quot; &#x2F;&gt;</span><br><span class="line">&lt;&#x2F;svg&gt;</span><br></pre></td></tr></table></figure><br>嵌入html中可以作为dom操作，在<a href="/qqsnote/2019/08/16/BasicDataVisualization/" title="数据可视化入门">数据可视化入门</a>中曾提到D3数据可视化库即使用svg进行动态渲染的</p>
<p>对于简单的icon响应可以有<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">    .toggle-btn &#123;</span><br><span class="line">        display: inline-block;</span><br><span class="line">        width: 40px;</span><br><span class="line">        height: 40px;</span><br><span class="line">        cursor: pointer;</span><br><span class="line">        color: #000;</span><br><span class="line">        background: #ccc;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .toggle-btn&gt;input &#123;</span><br><span class="line">        width: 0;</span><br><span class="line">        height: 0;</span><br><span class="line">        opacity: 0;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .toggle-btn&gt;svg &#123;</span><br><span class="line">        width: 100%;</span><br><span class="line">        height: 100%;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    input:checked+svg circle &#123;</span><br><span class="line">        fill: blue</span><br><span class="line">    &#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br><span class="line">&lt;label class&#x3D;&quot;toggle-btn&quot;&gt;</span><br><span class="line">    &lt;input type&#x3D;&quot;checkbox&quot;&gt;</span><br><span class="line">    &lt;svg xmlns&#x3D;&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;2000&#x2F;svg&quot; version&#x3D;&quot;1.1&quot;&gt;</span><br><span class="line">        &lt;circle cx&#x3D;&quot;20&quot; cy&#x3D;&quot;20&quot; r&#x3D;&quot;20&quot; stroke&#x3D;&quot;black&quot; stroke-width&#x3D;&quot;2&quot; fill&#x3D;&quot;none&quot; &#x2F;&gt;</span><br><span class="line">    &lt;&#x2F;svg&gt;</span><br><span class="line">&lt;&#x2F;label&gt;</span><br></pre></td></tr></table></figure></p>
<h4 id="svg-react-loader"><a href="#svg-react-loader" class="headerlink" title="svg-react-loader"></a>svg-react-loader</h4><p>将.svg文件资源作为<strong>组件</strong>载入<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">import MyIcon from &#39;-!svg-react-loader!..&#x2F;..&#x2F;assets&#x2F;image&#x2F;icon.svg&#39;</span><br><span class="line">...</span><br><span class="line">return (&lt;&gt; &lt;MyIcon&gt; &lt;&gt;)</span><br></pre></td></tr></table></figure><br>作为资源路径<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">import MyIcon from &#39;..&#x2F;..&#x2F;assets&#x2F;image&#x2F;icon.svg&#39;</span><br><span class="line">...</span><br><span class="line">return (&lt;img src&#x3D;&#123;MyIcon&#125; &#x2F;&gt;)</span><br></pre></td></tr></table></figure><br>作为inline element(原生React特性)<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">import &#123;ReactComponent as MyIcon&#125; from &#39;..&#x2F;..&#x2F;assets&#x2F;image&#x2F;icon.svg&#39;</span><br><span class="line">...</span><br><span class="line">return (&lt;div style&#x3D;&#123;&#123;color:&#39;red&#39;, cursor: &#39;pointer&#39;&#125;&#125;&gt;</span><br><span class="line">    &lt;MyIcon &#x2F;&gt;</span><br><span class="line">&lt;&#x2F;div&gt;)</span><br></pre></td></tr></table></figure></p>
<h4 id="ng-inline-svg"><a href="#ng-inline-svg" class="headerlink" title="ng-inline-svg"></a>ng-inline-svg</h4><p>shared.module.ts<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">import &#123; InlineSVGModule &#125; from &#39;ng-inline-svg&#39;</span><br><span class="line"></span><br><span class="line">@NgModule(&#123;</span><br><span class="line">    imports: [...LibModules,</span><br><span class="line">        InlineSVGModule.forRoot()],</span><br><span class="line">    exports: [...MuiModules],</span><br><span class="line">    declarations:  [],</span><br><span class="line">    providers: [],</span><br><span class="line">&#125;)</span><br><span class="line">export class SharedModule &#123; &#125;</span><br></pre></td></tr></table></figure><br>mycomponent.html<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;div [inlineSVG]&#x3D;&quot;&#39;assets&#x2F;image&#x2F;icon.svg&#39;&quot;&gt;&lt;&#x2F;div&gt;</span><br></pre></td></tr></table></figure></p>
<h4 id="鼠标响应"><a href="#鼠标响应" class="headerlink" title="鼠标响应"></a>鼠标响应</h4><p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/SVG/Attribute/pointer-events">Web MDN: svg pointer-events</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/qqsnote/page/12/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/qqsnote/">1</a><span class="space">&hellip;</span><a class="page-number" href="/qqsnote/page/12/">12</a><span class="page-number current">13</span><a class="page-number" href="/qqsnote/page/14/">14</a><span class="space">&hellip;</span><a class="page-number" href="/qqsnote/page/32/">32</a><a class="extend next" rel="next" href="/qqsnote/page/14/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">QQs</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/qqsnote/archives/">
        
          <span class="site-state-item-count">317</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/qqsnote/categories/">
        <span class="site-state-item-count">20</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/qqsnote/tags/">
        <span class="site-state-item-count">116</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>



      </div>

      <div class="tag-cloud-tags">
        <a href="/qqsnote/tags/Net/" style="font-size: 30px; color: #fff">.Net</a> <a href="/qqsnote/tags/4G/" style="font-size: 12px; color: #ccc">4G</a> <a href="/qqsnote/tags/AI/" style="font-size: 21.82px; color: #e8e8e8">AI</a> <a href="/qqsnote/tags/Android/" style="font-size: 12px; color: #ccc">Android</a> <a href="/qqsnote/tags/Angular/" style="font-size: 30px; color: #fff">Angular</a> <a href="/qqsnote/tags/Apache/" style="font-size: 13.64px; color: #d1d1d1">Apache</a> <a href="/qqsnote/tags/Azure/" style="font-size: 26.73px; color: #f6f6f6">Azure</a> <a href="/qqsnote/tags/Babylon/" style="font-size: 12px; color: #ccc">Babylon</a> <a href="/qqsnote/tags/C/" style="font-size: 16.91px; color: #dadada">C#</a> <a href="/qqsnote/tags/C/" style="font-size: 16.91px; color: #dadada">C++</a> <a href="/qqsnote/tags/CSS/" style="font-size: 20.18px; color: #e3e3e3">CSS</a> <a href="/qqsnote/tags/DevOps/" style="font-size: 15.27px; color: #d5d5d5">DevOps</a> <a href="/qqsnote/tags/Docker/" style="font-size: 16.91px; color: #dadada">Docker</a> <a href="/qqsnote/tags/ES6/" style="font-size: 12px; color: #ccc">ES6</a> <a href="/qqsnote/tags/ESLint/" style="font-size: 12px; color: #ccc">ESLint</a> <a href="/qqsnote/tags/ElasticSearch/" style="font-size: 12px; color: #ccc">ElasticSearch</a> <a href="/qqsnote/tags/Electron/" style="font-size: 16.91px; color: #dadada">Electron</a> <a href="/qqsnote/tags/ElementUI/" style="font-size: 12px; color: #ccc">ElementUI</a> <a href="/qqsnote/tags/EntityFramework/" style="font-size: 13.64px; color: #d1d1d1">EntityFramework</a> <a href="/qqsnote/tags/Excel/" style="font-size: 12px; color: #ccc">Excel</a> <a href="/qqsnote/tags/FastDFS/" style="font-size: 12px; color: #ccc">FastDFS</a> <a href="/qqsnote/tags/Figma/" style="font-size: 12px; color: #ccc">Figma</a> <a href="/qqsnote/tags/Go/" style="font-size: 12px; color: #ccc">Go</a> <a href="/qqsnote/tags/GraphQL/" style="font-size: 12px; color: #ccc">GraphQL</a> <a href="/qqsnote/tags/Jasmine/" style="font-size: 12px; color: #ccc">Jasmine</a> <a href="/qqsnote/tags/Java/" style="font-size: 13.64px; color: #d1d1d1">Java</a> <a href="/qqsnote/tags/Jenkins/" style="font-size: 21.82px; color: #e8e8e8">Jenkins</a> <a href="/qqsnote/tags/Linux/" style="font-size: 23.45px; color: #ececec">Linux</a> <a href="/qqsnote/tags/MQ/" style="font-size: 12px; color: #ccc">MQ</a> <a href="/qqsnote/tags/Markdown/" style="font-size: 13.64px; color: #d1d1d1">Markdown</a> <a href="/qqsnote/tags/MongoDB/" style="font-size: 12px; color: #ccc">MongoDB</a> <a href="/qqsnote/tags/MySQL/" style="font-size: 12px; color: #ccc">MySQL</a> <a href="/qqsnote/tags/NSIS/" style="font-size: 12px; color: #ccc">NSIS</a> <a href="/qqsnote/tags/Nginx/" style="font-size: 12px; color: #ccc">Nginx</a> <a href="/qqsnote/tags/NoSQL/" style="font-size: 12px; color: #ccc">NoSQL</a> <a href="/qqsnote/tags/Node-js/" style="font-size: 18.55px; color: #dfdfdf">Node.js</a> <a href="/qqsnote/tags/OData/" style="font-size: 13.64px; color: #d1d1d1">OData</a> <a href="/qqsnote/tags/OpenCV/" style="font-size: 18.55px; color: #dfdfdf">OpenCV</a> <a href="/qqsnote/tags/PHP/" style="font-size: 12px; color: #ccc">PHP</a> <a href="/qqsnote/tags/PWA/" style="font-size: 12px; color: #ccc">PWA</a> <a href="/qqsnote/tags/Python/" style="font-size: 25.09px; color: #f1f1f1">Python</a> <a href="/qqsnote/tags/React/" style="font-size: 21.82px; color: #e8e8e8">React</a> <a href="/qqsnote/tags/SQL/" style="font-size: 12px; color: #ccc">SQL</a> <a href="/qqsnote/tags/SQL-Server/" style="font-size: 15.27px; color: #d5d5d5">SQL_Server</a> <a href="/qqsnote/tags/ServiceWorker/" style="font-size: 12px; color: #ccc">ServiceWorker</a> <a href="/qqsnote/tags/Shell/" style="font-size: 12px; color: #ccc">Shell</a> <a href="/qqsnote/tags/TypeScript/" style="font-size: 13.64px; color: #d1d1d1">TypeScript</a> <a href="/qqsnote/tags/UE/" style="font-size: 12px; color: #ccc">UE</a> <a href="/qqsnote/tags/UI/" style="font-size: 12px; color: #ccc">UI</a> <a href="/qqsnote/tags/UML/" style="font-size: 12px; color: #ccc">UML</a> <a href="/qqsnote/tags/Virtualbox/" style="font-size: 12px; color: #ccc">Virtualbox</a> <a href="/qqsnote/tags/WPF/" style="font-size: 12px; color: #ccc">WPF</a> <a href="/qqsnote/tags/WebGL/" style="font-size: 20.18px; color: #e3e3e3">WebGL</a> <a href="/qqsnote/tags/WebService/" style="font-size: 12px; color: #ccc">WebService</a> <a href="/qqsnote/tags/Web%E5%8D%8F%E8%AE%AE/" style="font-size: 12px; color: #ccc">Web协议</a> <a href="/qqsnote/tags/Web%E5%BC%80%E5%8F%91/" style="font-size: 26.73px; color: #f6f6f6">Web开发</a> <a href="/qqsnote/tags/Wechat/" style="font-size: 12px; color: #ccc">Wechat</a> <a href="/qqsnote/tags/object-Object/" style="font-size: 12px; color: #ccc">[object Object]</a> <a href="/qqsnote/tags/aigc/" style="font-size: 12px; color: #ccc">aigc</a> <a href="/qqsnote/tags/auth/" style="font-size: 12px; color: #ccc">auth</a> <a href="/qqsnote/tags/axios/" style="font-size: 12px; color: #ccc">axios</a> <a href="/qqsnote/tags/canvas/" style="font-size: 12px; color: #ccc">canvas</a> <a href="/qqsnote/tags/css/" style="font-size: 12px; color: #ccc">css</a> <a href="/qqsnote/tags/express/" style="font-size: 12px; color: #ccc">express</a> <a href="/qqsnote/tags/ftp/" style="font-size: 12px; color: #ccc">ftp</a> <a href="/qqsnote/tags/git/" style="font-size: 13.64px; color: #d1d1d1">git</a> <a href="/qqsnote/tags/hexo/" style="font-size: 12px; color: #ccc">hexo</a> <a href="/qqsnote/tags/http/" style="font-size: 12px; color: #ccc">http</a> <a href="/qqsnote/tags/https/" style="font-size: 12px; color: #ccc">https</a> <a href="/qqsnote/tags/ionic/" style="font-size: 12px; color: #ccc">ionic</a> <a href="/qqsnote/tags/javascript/" style="font-size: 28.36px; color: #fafafa">javascript</a> <a href="/qqsnote/tags/k8s/" style="font-size: 12px; color: #ccc">k8s</a> <a href="/qqsnote/tags/login/" style="font-size: 12px; color: #ccc">login</a> <a href="/qqsnote/tags/loopback/" style="font-size: 12px; color: #ccc">loopback</a> <a href="/qqsnote/tags/npm/" style="font-size: 12px; color: #ccc">npm</a> <a href="/qqsnote/tags/nsis/" style="font-size: 13.64px; color: #d1d1d1">nsis</a> <a href="/qqsnote/tags/redis/" style="font-size: 12px; color: #ccc">redis</a> <a href="/qqsnote/tags/sqlServer/" style="font-size: 12px; color: #ccc">sqlServer</a> <a href="/qqsnote/tags/ssh/" style="font-size: 12px; color: #ccc">ssh</a> <a href="/qqsnote/tags/svg/" style="font-size: 12px; color: #ccc">svg</a> <a href="/qqsnote/tags/vtk/" style="font-size: 16.91px; color: #dadada">vtk</a> <a href="/qqsnote/tags/vuejs/" style="font-size: 16.91px; color: #dadada">vuejs</a> <a href="/qqsnote/tags/webassembly/" style="font-size: 13.64px; color: #d1d1d1">webassembly</a> <a href="/qqsnote/tags/webpack/" style="font-size: 12px; color: #ccc">webpack</a> <a href="/qqsnote/tags/websocket/" style="font-size: 12px; color: #ccc">websocket</a> <a href="/qqsnote/tags/windows/" style="font-size: 12px; color: #ccc">windows</a> <a href="/qqsnote/tags/yarn/" style="font-size: 12px; color: #ccc">yarn</a> <a href="/qqsnote/tags/%E4%B8%8A%E4%BC%A0/" style="font-size: 12px; color: #ccc">上传</a> <a href="/qqsnote/tags/%E5%8A%A0%E5%AF%86/" style="font-size: 16.91px; color: #dadada">加密</a> <a href="/qqsnote/tags/%E5%8C%BB%E5%AD%A6%E5%9B%BE%E5%83%8F/" style="font-size: 12px; color: #ccc">医学图像</a> <a href="/qqsnote/tags/%E5%8D%8F%E8%AE%AE%E5%92%8C%E8%A7%84%E8%8C%83/" style="font-size: 12px; color: #ccc">协议和规范</a> <a href="/qqsnote/tags/%E5%8D%9A%E5%BC%88%E8%AE%BA/" style="font-size: 12px; color: #ccc">博弈论</a> <a href="/qqsnote/tags/%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86/" style="font-size: 13.64px; color: #d1d1d1">图像处理</a> <a href="/qqsnote/tags/%E5%A4%9A%E8%AF%AD%E8%A8%80/" style="font-size: 13.64px; color: #d1d1d1">多语言</a> <a href="/qqsnote/tags/%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B/" style="font-size: 12px; color: #ccc">存储过程</a> <a href="/qqsnote/tags/%E6%80%A7%E8%83%BD/" style="font-size: 12px; color: #ccc">性能</a> <a href="/qqsnote/tags/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/" style="font-size: 12px; color: #ccc">性能优化</a> <a href="/qqsnote/tags/%E6%88%90%E9%95%BF%E6%80%9D%E7%BB%B4/" style="font-size: 12px; color: #ccc">成长思维</a> <a href="/qqsnote/tags/%E6%91%84%E5%BD%B1/" style="font-size: 12px; color: #ccc">摄影</a> <a href="/qqsnote/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/" style="font-size: 12px; color: #ccc">操作系统</a> <a href="/qqsnote/tags/%E6%95%B0%E5%AD%97%E7%AD%BE%E5%90%8D/" style="font-size: 12px; color: #ccc">数字签名</a> <a href="/qqsnote/tags/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/" style="font-size: 12px; color: #ccc">数据可视化</a> <a href="/qqsnote/tags/%E6%95%B0%E6%8D%AE%E5%BA%93%E9%94%81/" style="font-size: 12px; color: #ccc">数据库锁</a> <a href="/qqsnote/tags/%E6%A0%91%E8%8E%93%E6%B4%BE/" style="font-size: 12px; color: #ccc">树莓派</a> <a href="/qqsnote/tags/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/" style="font-size: 12px; color: #ccc">正则表达式</a> <a href="/qqsnote/tags/%E7%89%A9%E8%81%94%E7%BD%91/" style="font-size: 12px; color: #ccc">物联网</a> <a href="/qqsnote/tags/%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F/" style="font-size: 13.64px; color: #d1d1d1">环境变量</a> <a href="/qqsnote/tags/%E7%AE%97%E6%B3%95/" style="font-size: 15.27px; color: #d5d5d5">算法</a> <a href="/qqsnote/tags/%E7%BC%96%E7%A0%81%E8%A7%84%E8%8C%83/" style="font-size: 12px; color: #ccc">编码规范</a> <a href="/qqsnote/tags/%E8%A7%86%E9%A2%91%E6%B5%81/" style="font-size: 12px; color: #ccc">视频流</a> <a href="/qqsnote/tags/%E8%A7%A6%E5%8F%91%E5%99%A8/" style="font-size: 12px; color: #ccc">触发器</a> <a href="/qqsnote/tags/%E8%AE%A4%E8%AF%81-%E6%8E%88%E6%9D%83/" style="font-size: 21.82px; color: #e8e8e8">认证&授权</a> <a href="/qqsnote/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" style="font-size: 12px; color: #ccc">设计模式</a> <a href="/qqsnote/tags/%E8%AF%BB%E4%B9%A6/" style="font-size: 12px; color: #ccc">读书</a> <a href="/qqsnote/tags/%E8%BF%9B%E7%A8%8B%E5%AE%88%E6%8A%A4/" style="font-size: 12px; color: #ccc">进程守护</a> <a href="/qqsnote/tags/%E9%9D%A2%E8%AF%95/" style="font-size: 13.64px; color: #d1d1d1">面试</a>
      </div>
    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">QQs</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/qqsnote/lib/anime.min.js"></script>
  <script src="/qqsnote/lib/velocity/velocity.min.js"></script>
  <script src="/qqsnote/lib/velocity/velocity.ui.min.js"></script>

<script src="/qqsnote/js/utils.js"></script>

<script src="/qqsnote/js/motion.js"></script>


<script src="/qqsnote/js/schemes/muse.js"></script>


<script src="/qqsnote/js/next-boot.js"></script>




  















  

  
      

<script>
  if (typeof MathJax === 'undefined') {
    window.MathJax = {
      loader: {
        source: {
          '[tex]/amsCd': '[tex]/amscd',
          '[tex]/AMScd': '[tex]/amscd'
        }
      },
      tex: {
        inlineMath: {'[+]': [['$', '$']]},
        tags: 'ams'
      },
      options: {
        renderActions: {
          findScript: [10, doc => {
            document.querySelectorAll('script[type^="math/tex"]').forEach(node => {
              const display = !!node.type.match(/; *mode=display/);
              const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
              const text = document.createTextNode('');
              node.parentNode.replaceChild(text, node);
              math.start = {node: text, delim: '', n: 0};
              math.end = {node: text, delim: '', n: 0};
              doc.math.push(math);
            });
          }, '', false],
          insertedScript: [200, () => {
            document.querySelectorAll('mjx-container').forEach(node => {
              let target = node.parentNode;
              if (target.nodeName.toLowerCase() === 'li') {
                target.parentNode.classList.add('has-jax');
              }
            });
          }, '', false]
        }
      }
    };
    (function () {
      var script = document.createElement('script');
      script.src = '//cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js';
      script.defer = true;
      document.head.appendChild(script);
    })();
  } else {
    MathJax.startup.document.state(0);
    MathJax.texReset();
    MathJax.typeset();
  }
</script>

    

  

</body>
</html>
