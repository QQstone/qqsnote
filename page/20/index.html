<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.1">
  <link rel="apple-touch-icon" sizes="180x180" href="/qqsnote/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/qqsnote/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/qqsnote/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/qqsnote/images/logo.svg" color="#222">

<link rel="stylesheet" href="/qqsnote/css/main.css">


<link rel="stylesheet" href="/qqsnote/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"qqstone.github.io","root":"/qqsnote/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="QQs&#39;Note">
<meta property="og:url" content="http://qqstone.github.io/qqsnote/page/20/index.html">
<meta property="og:site_name" content="QQs&#39;Note">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="QQs">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://qqstone.github.io/qqsnote/page/20/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'en'
  };
</script>

  <title>QQs'Note</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/qqsnote/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">QQs'Note</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/qqsnote/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/qqsnote/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://qqstone.github.io/qqsnote/2020/06/15/sqlserver/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/qqsnote/images/avatar.gif">
      <meta itemprop="name" content="QQs">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="QQs'Note">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/qqsnote/2020/06/15/sqlserver/" class="post-title-link" itemprop="url">SQL Server</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-06-15 14:19:55" itemprop="dateCreated datePublished" datetime="2020-06-15T14:19:55+08:00">2020-06-15</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-03-02 20:11:18" itemprop="dateModified" datetime="2025-03-02T20:11:18+08:00">2025-03-02</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/qqsnote/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/" itemprop="url" rel="index"><span itemprop="name">数据库</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h4 id="命令"><a href="#命令" class="headerlink" title="命令"></a>命令</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sqlcmd -S .\SqlExpress</span><br><span class="line">NET START&#x2F;PAUSE&#x2F;CONTINUE&#x2F;STOP&#x2F; MSSQLSERVER</span><br></pre></td></tr></table></figure>
<p>QQs未能成功实践。。<br>或者，任务管理器手动启动 MSSQL$SQLEXPRESS </p>
<h4 id="schema"><a href="#schema" class="headerlink" title="schema"></a>schema</h4><p>在MySQL中schema的概念和database一致<br><br>但是微软搞什么都要多加点概念，sqlserver中，表名前带有schema标记如dbo.table1,这里的dbo指数据库的默认用户database owner<br><br>导出表结构（create table）语句时会带着schema<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">create table [ent].[tabletemp](</span><br><span class="line">	[Id] [uniqueidentifier] NOT NULL,</span><br><span class="line">	[Name] [nvarchar](50) NULL,</span><br><span class="line">PRIMARY KEY CLUSTERED </span><br><span class="line">(</span><br><span class="line">	[Id] ASC</span><br><span class="line">)WITH (PAD_INDEX &#x3D; OFF, STATISTICS_NORECOMPUTE &#x3D; OFF, IGNORE_DUP_KEY &#x3D; OFF, ALLOW_ROW_LOCKS &#x3D; ON, ALLOW_PAGE_LOCKS &#x3D; ON) ON [PRIMARY]</span><br><span class="line">) ON [PRIMARY]</span><br></pre></td></tr></table></figure><br>迁移时执行该语句会提示”The specified schema name “env” either does not exist or you do not have permission to use it.”<br><br>创建schema<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">create schema ent</span><br></pre></td></tr></table></figure><br>变更schema<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ALTER SCHEMA ent TRANSFER OBJECT::dbo.table1;  </span><br></pre></td></tr></table></figure></p>
<h4 id="创建新用户及授权访问"><a href="#创建新用户及授权访问" class="headerlink" title="创建新用户及授权访问"></a>创建新用户及授权访问</h4><p><a target="_blank" rel="noopener" href="https://www.fujieace.com/mssql/create-login.html">参考原文</a><br></p>
<ul>
<li>配置登录名 Database Server —&gt; Security —&gt; Logins —&gt; 右键New Login</li>
<li>常规General标签页中，配置认证方式等</li>
<li>服务器角色（Server Roles）添加 public sysadmon</li>
<li>用户映射（User Mapping）添加创建的新用户</li>
<li>安全对象（Securable）搜索 —&gt; 选择 The Server(当前数据库服务器名)</li>
<li>状态默认</li>
</ul>
<h4 id="ServerName"><a href="#ServerName" class="headerlink" title="ServerName"></a>ServerName</h4><p>sqlserver实例默认以计算机名+服务提供者命名，如SHAL400/SQLEXPRESS, 甚至用ip代替计算机名都会导致无法连接.<br><br>配置sqlserver支持远程访问:<br></p>
<ol>
<li>从本地SSMS连接数据库，右键服务器—Facets—Server Configuration—RemoteAccessEnable=true<br><img src="https://tva1.sinaimg.cn/large/a60edd42gy1gij7y2m0oxj20u40qm75y.jpg" alt="sqlserver_remote_access"></li>
<li>打开SQL Server Configuration Manager(SSCM) SQL Server Browser Running, </li>
<li>SSCM—SQL Server Network Configuration—Protocols for SQLEXPRESS—TCP/IP Enable, 然后右键打开Properties设置ip及端口如下（注意IPAll的TCP Dynamic Ports不要写死）<br> <img src="https://i0.wp.com/tvax3.sinaimg.cn/large/a60edd42gy1gij89zv9myj20ef0hk75n.jpg" alt="sqlserver_remote_access_tcpip"></li>
<li>配置防火墙略<br></li>
</ol>
<h4 id="调用存储过程"><a href="#调用存储过程" class="headerlink" title="调用存储过程"></a>调用存储过程</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">EXEC storedProcedure1 @param&#x3D;&#39;01&#39;</span><br></pre></td></tr></table></figure>
<h4 id="约束Constraint"><a href="#约束Constraint" class="headerlink" title="约束Constraint"></a>约束Constraint</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE [dbo].[Group](</span><br><span class="line">	[ID] [uniqueidentifier] NOT NULL,</span><br><span class="line">	[CreateTime] [datetime2](7) NULL,</span><br><span class="line">	[Name] [nvarchar](80) NULL,</span><br><span class="line">	[Valid] [bit] NOT NULL,</span><br><span class="line">	[UpdateTime] [datetime2](7) NULL,</span><br><span class="line">	[Comment] [nvarchar](500) NULL,</span><br><span class="line">    CONSTRAINT [AK_Group_Name] UNIQUE ([Name])</span><br><span class="line">) ON [PRIMARY]</span><br></pre></td></tr></table></figure>
<h4 id="关于大小写"><a href="#关于大小写" class="headerlink" title="关于大小写"></a>关于大小写</h4><p>据说sqlserver 安装过程中有是否区分大小写的选项，默认情况下无论表名、列名、字段、参数都不区分大小写，更过分的是查询条件的值也不区分————where name=’abc’和where name=’AbC’是一样的结果。如果要区分查询条件的大小写，中文网络上建议如下例子，追加条件<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select * from table1 where name&#x3D;&#39;abc&#39; collate Chinese_PRC_CS_AI_WS </span><br></pre></td></tr></table></figure><br>Chinese_PRC_CS_AI_WS实际表示中国大陆UNICODE字符集规则（Chinese PRC），区分大小写（Case Sensitive，CS），不区分重音（Accent Insensitive，AI），区分宽度（Width Sensitive，WS，半角/全角字符受此条件影响）<br><br>类似的还有<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SQL_Latin1_General_CP1_CS_AI</span><br><span class="line">Latin1_General_CS_AI</span><br></pre></td></tr></table></figure><br>查询当前默认规则<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT SERVERPROPERTY(N&#39;Collation&#39;)</span><br></pre></td></tr></table></figure><br>查询支持的字符集规则<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT * from ::fn_helpcollations()</span><br></pre></td></tr></table></figure></p>
<h4 id="内置对象的表"><a href="#内置对象的表" class="headerlink" title="内置对象的表"></a>内置对象的表</h4><ul>
<li><p>sys.schemas</p>
</li>
<li><p>执行历史</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">SELECT TOP 1000 QS.creation_time, </span><br><span class="line">SUBSTRING(ST.text, </span><br><span class="line">		(QS.statement_start_offset &#x2F; 2) + 1, </span><br><span class="line">		((CASE QS.statement_end_offset </span><br><span class="line">			WHEN - 1 THEN DATALENGTH(st.text) </span><br><span class="line">			ELSE QS.statement_end_offset </span><br><span class="line">			END - QS.statement_start_offset) &#x2F; 2) + 1)</span><br><span class="line">			AS statement_text, </span><br><span class="line">		ST.text, </span><br><span class="line">		QS.total_worker_time, </span><br><span class="line">		QS.last_worker_time, </span><br><span class="line">		QS.max_worker_time, </span><br><span class="line">		QS.min_worker_time</span><br><span class="line">FROM        </span><br><span class="line">sys.dm_exec_query_stats QS CROSS APPLY sys.dm_exec_sql_text(QS.sql_handle) ST</span><br><span class="line">WHERE   1&#x3D;1 </span><br></pre></td></tr></table></figure>
<h4 id="edit-data"><a href="#edit-data" class="headerlink" title="edit data"></a>edit data</h4><p>SSIS提供了Edit Top 200 Rows,但是写入表格内容各种格式不正确，宜Script Table to…Insert to<br><br>Guid用NEWID(),时间就用SYSDATETIME()</p>
<h4 id="STUFF"><a href="#STUFF" class="headerlink" title="STUFF"></a>STUFF</h4></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">STUFF ( character_expression , start , length , character_expression )</span><br></pre></td></tr></table></figure>
<h4 id="CAST-amp-CONVERT"><a href="#CAST-amp-CONVERT" class="headerlink" title="CAST &amp; CONVERT"></a>CAST &amp; CONVERT</h4><p>数据类型转换<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SELECT CAST(t1.num AS varchar) from t1;</span><br><span class="line">SELECT CONVERT(varchar, t1.num) from t1;</span><br></pre></td></tr></table></figure></p>
<h4 id="将自然键替换为人工键"><a href="#将自然键替换为人工键" class="headerlink" title="将自然键替换为人工键"></a>将自然键替换为人工键</h4><p>原实体以序列号为主键，现添加ID列并填充GUID<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE dbo.Table1 DROP CONSTRAINT PK_Table1 &#x2F;&#x2F; 移除原主键</span><br><span class="line">ALTER TABLE dbo.Table1 DROP COLUMN SerialNumber &#x2F;&#x2F; 移除列</span><br><span class="line">ALTER TABLE dbo.Table1 ADD ID uniqueidentifier NOT NULL default newID()</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p>exception The object ‘DF<strong>Table1</strong>ID__34C8D9D1’ is dependent on column ‘ID’. ALTER TABLE DROP COLUMN failed because one or more objects access this column</p>
</blockquote>
<p>ID作为列名会默认添加CONSTRAINT，如上所提及的DF<strong>Table1</strong>ID<strong>34C8D9D1 因此要删除这个ID列需要先 ALTER TABLE dbo.Table1 DROP CONSTRAINT DF</strong>Table1<strong>ID</strong>34C8D9D1</p>
<h4 id="层次结构数据"><a href="#层次结构数据" class="headerlink" title="层次结构数据"></a>层次结构数据</h4><p>具有父级、子级关系的层次结构数据<br>Oracle的递归查询语法:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select  * from t_dw CONNECT BY PRIOR id &#x3D; parentID START WITH id&#x3D;&#39;dw001&#39;</span><br></pre></td></tr></table></figure><br>SqlServer中没有上述语法，而使用内置hierarchyid简化层次结构数据的存储和查询，</p>
<p><a target="_blank" rel="noopener" href="https://www.meziantou.net/using-hierarchyid-with-entity-framework-core.htm">https://www.meziantou.net/using-hierarchyid-with-entity-framework-core.htm</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">-- 根节点 &#x2F;</span><br><span class="line">update t_dw set orgLvl&#x3D;HierarchyID::GetRoot() where parentID is null</span><br><span class="line">-- 子树   &#x2F;1&#x2F;,&#x2F;2&#x2F;</span><br><span class="line">update t_dw set orgLvl&#x3D;HierarchyID::Parse(&#39;&#x2F;1&#x2F;&#39;) where name&#x3D;&#39;dw1&#39;</span><br><span class="line">update t_dw set orgLvl&#x3D;HierarchyID::Parse(&#39;&#x2F;2&#x2F;&#39;) where name&#x3D;&#39;dw2&#39;</span><br><span class="line">-- 叶    &#x2F;1&#x2F;3&#x2F;</span><br><span class="line">update t_dw set orgLvl&#x3D;HierarchyID::Parse(&#39;&#x2F;1&#x2F;1&#x2F;&#39;) where name&#x3D;&#39;dw1-a&#39;</span><br></pre></td></tr></table></figure>
<p>插入<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">insert t_dw (id,name,ParentID,orgLvl) </span><br><span class="line">values(newid(),&#39;dw1-b&#39;,&#39;xxxxxxxxxxxxxxx&#39;,</span><br><span class="line">HierarchyID::Parse(&#39;&#x2F;1&#x2F;&#39;).GetDescendant(CAST(&#39;&#x2F;1&#x2F;1&#x2F;&#39; AS hierarchyid), NULL))</span><br></pre></td></tr></table></figure><br>得到/1/2/ dw1-b 即在/1/的子节点，左树为/1/1/右树为null位置插入新节点</p>
<p>层级<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT CAST(&#39;&#x2F;1&#x2F;2&#x2F;&#39; AS hierarchyid).GetLevel() -- 结果：2</span><br></pre></td></tr></table></figure><br>后代<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT name, orgLvl.ToString()</span><br><span class="line">FROM t_dw</span><br><span class="line">WHERE orgLvl.IsDescendantOf(CAST(&#39;&#x2F;1&#x2F;&#39; AS hierarchyid)) &#x3D; 1</span><br></pre></td></tr></table></figure><br>IsDescendant为1(表示true)返回所有后代(实际上也包括‘/1/’自己), 0返回所有非后代（父代，sibling树）<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT name, orgLvl.ToString()</span><br><span class="line">FROM t_dw</span><br><span class="line">WHERE orgLvl.GetAncestor(2) &#x3D; HierarchyID::Parse(&#39;&#x2F;1&#x2F;&#39;)</span><br></pre></td></tr></table></figure><br>GetAncestor返回指定层级的后代，参数为层级：0返回‘/1/’自己；1返回所有子节点，2返回所有孙子节点</p>
<p>移动<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">DECLARE @CurrentNode hierarchyid , @OldParent hierarchyid, @NewParent hierarchyid </span><br><span class="line">select  @CurrentNode&#x3D;orgLvl from t_dw where name&#x3D;&#39;dw_x&#39;; -- &#x2F;1&#x2F;1&#x2F;</span><br><span class="line">select  @OldParent&#x3D;orgLvl from t_dw where name&#x3D;&#39;dw_old&#39;; -- &#x2F;1&#x2F;</span><br><span class="line">select  @NewParent&#x3D;orgLvl from t_dw where name&#x3D;&#39;dw_new&#39;; -- &#x2F;3&#x2F;</span><br><span class="line">UPDATE t_dw  </span><br><span class="line">SET OrgNode &#x3D; @CurrentNode.GetReparentedValue(@OldParent, @NewParent)   </span><br><span class="line">WHERE OrgNode &#x3D; @CurrentNode ; -- &#x2F;3&#x2F;1&#x2F; </span><br><span class="line">GO  </span><br></pre></td></tr></table></figure><br>其他进阶操作：<br><a target="_blank" rel="noopener" href="https://docs.microsoft.com/zh-cn/sql/relational-databases/hierarchical-data-sql-server?view=sql-server-ver15#finding-ancestors-by-using-the-clr">查找祖先</a><br><a href="[列出祖先](https://docs.microsoft.com/zh-cn/sql/relational-databases/hierarchical-data-sql-server?view=sql-server-ver15#listing-ancestors">列出祖先</a>)<br><a target="_blank" rel="noopener" href="https://docs.microsoft.com/zh-cn/sql/relational-databases/hierarchical-data-sql-server?view=sql-server-ver15#moving-subtrees">移动子树</a></p>
<h4 id="获取每个表的数据条数"><a href="#获取每个表的数据条数" class="headerlink" title="获取每个表的数据条数"></a>获取每个表的数据条数</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">select schema_name(t.schema_id) as [Schema], t.name as TableName,i.rows as [RowCount] </span><br><span class="line">from sys.tables as t, sysindexes as i </span><br><span class="line">where t.object_id &#x3D; i.id and i.indid &lt;&#x3D;1</span><br></pre></td></tr></table></figure>
<h4 id="按rownumber删除"><a href="#按rownumber删除" class="headerlink" title="按rownumber删除"></a>按rownumber删除</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">; with cte(rownum)as(</span><br><span class="line">    select row_number () over(partition by [Col1], [Col2] order by Col3) from [table]</span><br><span class="line">)</span><br><span class="line">delete from cte where rownum &gt; 1</span><br></pre></td></tr></table></figure>
<p>按Col1 Col2分组删除 保留组唯一</p>
<h4 id="login-fail-Error-18456"><a href="#login-fail-Error-18456" class="headerlink" title="login fail Error 18456"></a>login fail Error 18456</h4><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/mo_feng_/article/details/62226310">CSDN Blog:SQL Server Error 18456</a></p>
<p>other issues: <a target="_blank" rel="noopener" href="https://docs.microsoft.com/zh-cn/sql/database-engine/configure-windows/troubleshoot-connecting-to-the-sql-server-database-engine?view=sql-server-ver15#enable-protocols">Microsoft Docs: Troubleshooting Connect to SQL Server</a></p>
<h4 id="查看版本"><a href="#查看版本" class="headerlink" title="查看版本"></a>查看版本</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select @@version</span><br></pre></td></tr></table></figure>
<h4 id="作业和代理"><a href="#作业和代理" class="headerlink" title="作业和代理"></a>作业和代理</h4><p><del>某需求欲使用SQL Server的计划进行自动备份，启动SQL Server Agent时账户密码不正确 且该账号登录SSMS没有计划、代理等菜单</del></p>
<p>SQL Server Express没有这部分功能</p>
<h4 id="sqlcmd"><a href="#sqlcmd" class="headerlink" title="sqlcmd"></a>sqlcmd</h4>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://qqstone.github.io/qqsnote/2020/06/11/dotNetCore-DataAccess/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/qqsnote/images/avatar.gif">
      <meta itemprop="name" content="QQs">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="QQs'Note">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/qqsnote/2020/06/11/dotNetCore-DataAccess/" class="post-title-link" itemprop="url">.Net Core 数据访问</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-06-11 10:23:42" itemprop="dateCreated datePublished" datetime="2020-06-11T10:23:42+08:00">2020-06-11</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-11-18 21:12:15" itemprop="dateModified" datetime="2020-11-18T21:12:15+08:00">2020-11-18</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h4 id="关于ORM"><a href="#关于ORM" class="headerlink" title="关于ORM"></a>关于ORM</h4><p>参考阮一峰<a target="_blank" rel="noopener" href="http://www.ruanyifeng.com/blog/2019/02/orm-tutorial.html">《ORM 实例教程》</a>:<br>面向对象编程（我们的后台）把所以实体看成对象（即Object），关系型数据库则是采用实体之间的关系（即Relation）连接数据，打通后台对象和关系数据库之间的关系而做的映射（Mapping）就是ORM。或者说ORM是通过对象实例语法，完成关系型数据库操作的技术。</p>
<p>举个栗子<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT id, first_name, last_name, phone, birth_date, sex</span><br><span class="line"> FROM persons </span><br><span class="line"> WHERE id &#x3D; 10</span><br></pre></td></tr></table></figure><br>编程调用SQL的写法大致是<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">res &#x3D; db.execSql(sql);</span><br><span class="line">name &#x3D; res[0][&quot;FIRST_NAME&quot;];</span><br></pre></td></tr></table></figure><br>ORM要实现的写法是<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">p &#x3D; Person.get(10);</span><br><span class="line">name &#x3D; p.first_name;</span><br></pre></td></tr></table></figure><br>优点：</p>
<ul>
<li>数据模型都在一个地方定义，更容易更新和维护，也利于重用代码。</li>
<li>ORM 有现成的工具，很多功能都可以自动完成，比如数据消毒、预处理、事务等等。</li>
<li>它迫使你使用 MVC 架构，ORM 就是天然的 Model，最终使代码更清晰。</li>
<li>基于 ORM 的业务代码比较简单，代码量少，语义性好，容易理解。</li>
<li><del>你不必编写性能不佳的 SQL。</del></li>
</ul>
<p>缺点</p>
<ul>
<li>ORM 库不是轻量级工具，往往需要花很多精力学习和设置。</li>
<li>对于复杂的查询，ORM 要么是无法表达，要么是性能不如原生的 SQL。</li>
<li><del>ORM 抽象掉了数据库层，开发者无法了解底层的数据库操作，也无法定制一些特殊的 SQL。</del></li>
</ul>
<p>(删除线部分QQs不是特别赞同)</p>
<p>同属ORM技术的比如 Hibernate, MyBatis<sup><a target="_blank" rel="noopener" href="https://www.zhihu.com/question/39454008">注</a></sup></p>
<h4 id="关于ODBC"><a href="#关于ODBC" class="headerlink" title="关于ODBC"></a>关于ODBC</h4><p>开放式数据库连接(Open Database Connection),连接数据库进行查询的规范(specification)</p>
<h4 id="entity-framwork-dbcontext-datarepository"><a href="#entity-framwork-dbcontext-datarepository" class="headerlink" title="entity framwork,dbcontext, datarepository"></a>entity framwork,dbcontext, datarepository</h4><p>Include, ThenInclude:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">result &#x3D; await _context.employees.Where(employee &#x3D;&gt; employee.level &#x3D;&#x3D; highlvl)</span><br><span class="line">    .Include(employee &#x3D;&gt; employee.department)</span><br><span class="line">    .ThenInclude(department &#x3D;&gt; department.bills).ToListAsync();</span><br></pre></td></tr></table></figure><br>多对多关系会造成循环引用(circular reference)，默认情况下序列化类会报异常，参考<a target="_blank" rel="noopener" href="https://github.com/dotnet/runtime/issues/30820">Add mechanism to handle circular references when serializing
</a></p>
<h4 id="Dapper-net"><a href="#Dapper-net" class="headerlink" title="Dapper.net"></a>Dapper.net</h4>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://qqstone.github.io/qqsnote/2020/06/09/vsftp/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/qqsnote/images/avatar.gif">
      <meta itemprop="name" content="QQs">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="QQs'Note">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/qqsnote/2020/06/09/vsftp/" class="post-title-link" itemprop="url">vsftp</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-06-09 14:19:52" itemprop="dateCreated datePublished" datetime="2020-06-09T14:19:52+08:00">2020-06-09</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-11-18 21:12:15" itemprop="dateModified" datetime="2020-11-18T21:12:15+08:00">2020-11-18</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>据说vsftp是very safe FTP, vsftp服务以ssl保护数据传输，使用22端口而不是21端口。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install vsftpd</span><br></pre></td></tr></table></figure><br>参数配置：/etc/vsftpd.conf,用cp命令备份下先<br>参数定义—&gt;<a target="_blank" rel="noopener" href="https://security.appspot.com/vsftpd/vsftpd_conf.html">here</a></p>
<p>修改配置后重启<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">service vsftpd restart</span><br></pre></td></tr></table></figure><br><a target="_blank" rel="noopener" href="https://filezilla-project.org/">FileZilla</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://qqstone.github.io/qqsnote/2020/06/05/fastDFS/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/qqsnote/images/avatar.gif">
      <meta itemprop="name" content="QQs">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="QQs'Note">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/qqsnote/2020/06/05/fastDFS/" class="post-title-link" itemprop="url">FastDFS</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-06-05 16:36:14" itemprop="dateCreated datePublished" datetime="2020-06-05T16:36:14+08:00">2020-06-05</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-03-02 20:11:18" itemprop="dateModified" datetime="2025-03-02T20:11:18+08:00">2025-03-02</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <blockquote>
<p>FastDFS是国人大神开发的用于小文件（&lt;500Mb）存储的分布式文件管理系统</p>
</blockquote>
<p><a target="_blank" rel="noopener" href="https://github.com/happyfish100/fastdfs">Github: happyfish100/fastdfs</a></p>
<p>戳—&gt;<a target="_blank" rel="noopener" href="https://github.com/happyfish100/fastdfs/wiki">详细配置步骤</a>，超级详细，傻瓜式，环境是Centos。对于ubuntu，安装编译环境的方式会有不同</p>
<h4 id="centos编译环境"><a href="#centos编译环境" class="headerlink" title="centos编译环境"></a>centos编译环境</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">yum install git gcc gcc-c++ make automake autoconf libtool pcre pcre-devel zlib zlib-devel openssl-devel wget vi -y</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="ubuntu编译环境"><a href="#ubuntu编译环境" class="headerlink" title="ubuntu编译环境"></a>ubuntu编译环境</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt install git gcc g++ make automake autoconf libtool libpcre3 libpcre3-dev zlib1g zlib1g-dev  libssl-dev wget vi</span><br></pre></td></tr></table></figure>
<h4 id="tracker和storage"><a href="#tracker和storage" class="headerlink" title="tracker和storage"></a>tracker和storage</h4><p><img src="https://i0.wp.com/tvax4.sinaimg.cn/large/a60edd42gy1gfip5ah0saj20f70dln0y.jpg" alt="fdfs"><br>如配置步骤所述，fdfs安装好后有tracker配置文件和storage配置文件，前者配置tracker用于上传下载的调度，后者配置storage作为文件存储。<br><br>tracher监听storage的状态同步消息，使当client上传或下载时，提供可用的storage路径<br><br>storage可以配置为group，相同group的文件会相互拷贝（这个是需要一定时间的，在集群方案中需要考虑）<br></p>
<p>上传文件<br><br><img src="https://tva1.sinaimg.cn/large/a60edd42gy1gfirk6itslj20td0ey75n.jpg" alt="上传"><br>为使业务应用服务器实现上传fDFS，应实现client功能，即</p>
<ul>
<li>请求tracker 获取可用storage的 ip port等</li>
<li>调用相应的storage接口上传文件，接受返回的file_id信息</li>
</ul>
<p>下载文件<br></p>
<p><img src="https://i0.wp.com/tvax1.sinaimg.cn/large/a60edd42gy1gfirmkezk3j20mw0akjug.jpg" alt="下载"><br>如图，client实现下载，需</p>
<ul>
<li>请求tracker 获拉取下载的storage的 ip port等</li>
<li>调用相应的storage接口下载文件</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://qqstone.github.io/qqsnote/2020/06/03/NSIS/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/qqsnote/images/avatar.gif">
      <meta itemprop="name" content="QQs">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="QQs'Note">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/qqsnote/2020/06/03/NSIS/" class="post-title-link" itemprop="url">NSIS 基础</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-06-03 10:49:20" itemprop="dateCreated datePublished" datetime="2020-06-03T10:49:20+08:00">2020-06-03</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-07-09 21:17:11" itemprop="dateModified" datetime="2020-07-09T21:17:11+08:00">2020-07-09</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h4 id="变量和常量"><a href="#变量和常量" class="headerlink" title="变量和常量"></a>变量和常量</h4><p>a. 用var关键字来定义变量，使用$来引用变量。</p>
<p>b. 寄存器变量 $0~$9,$R0~$R9</p>
<p>c. 系统预置变量</p>
<ul>
<li>$INSTDIR<br>用户定义的解压路径。</li>
<li>$PROGRAMFILES<br>程序文件目录(通常为 C:\Program Files 但是运行时会检测)。</li>
<li>$COMMONFILES<br>公用文件目录。这是应用程序共享组件的目录(通常为 C:\Program Files\Common Files 但是运行时会检测)。</li>
<li>$DESKTOP<br>Windows 桌面目录(通常为 C:\windows\desktop 但是运行时会检测)。该常量的内容(所有用户或当前用户)取决于 SetShellVarContext 设置。默认为当前用户。</li>
<li>$EXEDIR<br>安装程序运行时的位置。(从技术上来说你可以修改改变量，但并不是一个好方法)。</li>
<li>${NSISDIR}<br>包含 NSIS 安装目录的一个标记。在编译时会检测到。常用于在你想调用一个在 NSIS 目录下的资源时，例如：图标、界面……</li>
<li>$WINDIR<br>Windows 目录(通常为 C:\windows 或 C:\winnt 但在运行时会检测)</li>
<li>$SYSDIR<br>Windows 系统目录(通常为 C:\windows\system 或 C:\winnt\system32 但在运行时会检测)</li>
<li>$TEMP<br>系统临时目录(通常为 C:\windows\temp 但在运行时会检测)</li>
<li>$STARTMENU<br>开始菜单目录(常用于添加一个开始菜单项，使用 CreateShortCut)。该常量的内容(所有用户或当前用户)取决于 SetShellVarContext 设置。默认为当前用户。</li>
<li>$SMPROGRAMS<br>开始菜单程序目录(当你想定位 + $STARTMENU\程序 时可以使用它)。该常量的内容(所有用户或当前用户)取决于 SetShellVarContext 设置。默认为当前用户。</li>
<li>$SMSTARTUP<br>开始菜单程序/启动 目录。该常量的内容(所有用户或当前用户)取决于 SetShellVarContext 设置。默认为当前用户。</li>
<li>$QUICKLAUNCH<br>在 IE4 活动桌面及以上的快速启动目录。如果快速启动不可用，仅仅返回和 + $TEMP 一样。</li>
<li>$DOCUMENTS<br>文档目录。一个当前用户典型的路径形如 C:\Documents and Settings\Foo\My Documents。这个常量的内容(所有用户或当前用户)取决于 SetShellVarContext 设置。默认为当前用户。<br>该常量在 Windows 95 且 Internet Explorer 4 没有安装时无效。</li>
<li>$SENDTO<br>该目录包含了“发送到”菜单快捷项。</li>
<li>$RECENT<br>该目录包含了指向用户最近文档的快捷方式。</li>
<li>$FAVORITES<br>该目录包含了指向用户网络收藏夹、文档等的快捷方式。这个常量的内容(所有用户或当前用户)取决于 SetShellVarContext 设置。默认为当前用户。<br>该常量在 Windows 95 且 Internet Explorer 4 没有安装时无效。</li>
<li>$MUSIC<br>用户的音乐文件目录。这个常量的内容(所有用户或当前用户)取决于 SetShellVarContext 设置。默认为当前用户。<br>该常量仅在 Windows XP、ME 及以上才有效。</li>
<li>$PICTURES<br>用户的图片目录。这个常量的内容(所有用户或当前用户)取决于 SetShellVarContext 设置。默认为当前用户。<br>该常量仅在 Windows 2000、XP、ME 及以上才有效。</li>
<li>$VIDEOS<br>用户的视频文件目录。这个常量的内容(所有用户或当前用户)取决于 SetShellVarContext 设置。默认为当前用户。<br>该常量仅在 Windows XP、ME 及以上才有效。</li>
<li>$NETHOOD<br>该目录包含了可能存在于我的网络位置、网上邻居文件夹的链接对象。<br>该常量在 Windows 95 且 Internet Explorer 4 和活动桌面没有安装时无效。</li>
<li>$FONTS<br>系统字体目录。</li>
<li>$TEMPLATES<br>文档模板目录。这个常量的内容(所有用户或当前用户)取决于 SetShellVarContext 设置。默认为当前用户。</li>
<li>$APPDATA<br>应用程序数据目录。当前用户路径的检测需要 Internet Explorer 4 及以上。所有用户路径的检测需要 Internet Explorer 5 及以上。这个常量的内容(所有用户或当前用户)取决于 SetShellVarContext 设置。默认为当前用户。<br>该常量在 Windows 95 且 Internet Explorer 4 和活动桌面没有安装时无效。</li>
<li>$PRINTHOOD<br>该目录包含了可能存在于打印机文件夹的链接对象。<br>该常量在 Windows 95 和 Windows 98 上无效。</li>
<li>$INTERNET_CACHE<br>Internet Explorer 的临时文件目录。<br>该常量在 Windows 95 和 Windows NT 且 Internet Explorer 4 和活动桌面没有安装时无效。</li>
<li>$COOKIES<br>Internet Explorer 的 Cookies 目录。<br>该常量在 Windows 95 和 Windows NT 且 Internet Explorer 4 和活动桌面没有安装时无效。</li>
<li>$HISTORY<br>Internet Explorer 的历史记录目录。<br>该常量在 Windows 95 和 Windows NT 且 Internet Explorer 4 和活动桌面没有安装时无效。</li>
<li>$PROFILE<br>用户的个人配置目录。一个典型的路径如 C:\Documents and Settings\Foo。<br>该常量在 Windows 2000 及以上有效。</li>
<li>$ADMINTOOLS<br>一个保存管理工具的目录。这个常量的内容(所有用户或当前用户)取决于 SetShellVarContext 设置。默认为当前用户。<br>该常量在 Windows 2000、ME 及以上有效。</li>
<li>$RESOURCES<br>该资源目录保存了主题和其他 Windows 资源(通常为 C:\Windows\Resources 但在运行时会检测)。<br>该常量在 Windows XP 及以上有效。</li>
<li>$RESOURCES_LOCALIZED<br>该本地的资源目录保存了主题和其他 Windows 资源(通常为 C:\Windows\Resources\1033 但在运行时会检测)。<br>该常量在 Windows XP 及以上有效。</li>
<li>$CDBURN_AREA<br>一个在烧录 CD 时储存文件的目录。.<br>该常量在 Windows XP 及以上有效。</li>
<li>$HWNDPARENT<br>父窗口的十进制 HWND。</li>
<li>$PLUGINSDIR<br>该路径是一个临时目录，当第一次使用一个插件或一个调用 InitPluginsDir 时被创建。该文件夹当解压包退出时会被自动删除。这个文件夹的用意是用来保存给 InstallOptions 使用的 INI 文件、启动画面位图或其他插件运行需要的文件。</li>
</ul>
<h4 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h4><p>NSIS函数本身没有输出输出，但是可以访问变量和堆栈<br><br>使用Pop Push实现输入输出<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">Function LCIDtoTAG </span><br><span class="line">    $&#123;case&#125; &quot;1036&quot;</span><br><span class="line">    Push &quot;fr_FR&quot;</span><br><span class="line">    $&#123;break&#125;</span><br><span class="line">    $&#123;case&#125; &quot;1049&quot;</span><br><span class="line">    Push &quot;ru_RU&quot;</span><br><span class="line">    $&#123;break&#125;</span><br><span class="line">    $&#123;case&#125; &quot;1041&quot;</span><br><span class="line">    Push &quot;ja_JP&quot;</span><br><span class="line">    $&#123;break&#125;</span><br><span class="line">    $&#123;case&#125; &quot;2052&quot;</span><br><span class="line">    Push &quot;zh_CN&quot;</span><br><span class="line">    $&#123;break&#125;</span><br><span class="line">    $&#123;default&#125;</span><br><span class="line">    Push &quot;en_US&quot;</span><br><span class="line">    $&#123;break&#125;</span><br><span class="line">    $&#123;endswitch&#125;</span><br><span class="line">FunctionEnd</span><br><span class="line">Section</span><br><span class="line">    Call LCIDtoTAG</span><br><span class="line">    Pop $0</span><br><span class="line">SectionEnd</span><br></pre></td></tr></table></figure></p>
<h4 id="跳转"><a href="#跳转" class="headerlink" title="跳转"></a>跳转</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">StrCmp $1 &quot;&quot; +1 +2</span><br><span class="line">DetailPrint &quot;parameter is empty&quot;</span><br><span class="line"></span><br><span class="line">DetailPrint &quot;parameter is not empty&quot;</span><br></pre></td></tr></table></figure>
<p>+n是从该语句向下偏移的“指针”，空行过滤掉不计入偏移量</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://qqstone.github.io/qqsnote/2020/06/01/NSIS-plugin/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/qqsnote/images/avatar.gif">
      <meta itemprop="name" content="QQs">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="QQs'Note">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/qqsnote/2020/06/01/NSIS-plugin/" class="post-title-link" itemprop="url">NSIS插件</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-06-01 12:52:11" itemprop="dateCreated datePublished" datetime="2020-06-01T12:52:11+08:00">2020-06-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-07-09 21:17:11" itemprop="dateModified" datetime="2020-07-09T21:17:11+08:00">2020-07-09</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>—&gt; NSIS收录插件 <a target="_blank" rel="noopener" href="https://nsis.sourceforge.io/Category:Plugins">https://nsis.sourceforge.io/Category:Plugins</a></p>
<p>—&gt; 插件本体是托管dll文件，区分unicode编码和ansi编码</p>
<p>—&gt; NSIS默认检索在NSIS代码目录下的Plugins文件夹，作为插件路径，或可使用标识符!addplugindir 指定其他目录</p>
<p>一个栗子<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">!ifndef TARGETDIR</span><br><span class="line">!ifdef NSIS_UNICODE</span><br><span class="line">!define TARGETDIR &quot;..\binU&quot;</span><br><span class="line">!else</span><br><span class="line">!define TARGETDIR &quot;..\bin&quot;</span><br><span class="line">!endif</span><br><span class="line">!endif</span><br><span class="line"></span><br><span class="line">!addplugindir &quot;$&#123;TARGETDIR&#125;&quot;</span><br></pre></td></tr></table></figure><br>曾将!ifdef误解为if not define，NSIS用！xxx做关键字真的是坑。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://qqstone.github.io/qqsnote/2020/05/21/Ngx-translate/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/qqsnote/images/avatar.gif">
      <meta itemprop="name" content="QQs">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="QQs'Note">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/qqsnote/2020/05/21/Ngx-translate/" class="post-title-link" itemprop="url">Ngx-translate</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-05-21 16:18:45" itemprop="dateCreated datePublished" datetime="2020-05-21T16:18:45+08:00">2020-05-21</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-07-09 21:17:11" itemprop="dateModified" datetime="2020-07-09T21:17:11+08:00">2020-07-09</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/qqsnote/categories/%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF/" itemprop="url" rel="index"><span itemprop="name">前端技术</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <blockquote>
<p><a target="_blank" rel="noopener" href="https://github.com/ngx-translate/core">NGX-Translate</a> is an internationalization library for Angular. NGX-Translate is also extremely modular. It is written in a way that makes it really easy to replace any part with a custom implementation in case the existing one doesn’t fit your needs.</p>
<p><a target="_blank" rel="noopener" href="https://github.com/ngx-translate/core/issues/495#issuecomment-291158036">Why ngx-translate exists if we already have built-in Angular i18n</a></p>
</blockquote>
<h4 id="关于载入翻译文件"><a href="#关于载入翻译文件" class="headerlink" title="关于载入翻译文件"></a>关于载入翻译文件</h4><ul>
<li><a target="_blank" rel="noopener" href="https://github.com/ngx-translate/http-loader">Http Loader</a>: load json translation files with http</li>
<li><a target="_blank" rel="noopener" href="https://gist.github.com/ocombe/593d21598d988bf6a8609ba5fc00b67e">Angular Universal Loader</a>: load json translation files with fs instead of http</li>
<li><a target="_blank" rel="noopener" href="https://github.com/biesbjerg/ng2-translate-po-loader">Po Loader</a>: load .po files with http</li>
</ul>
<h4 id="集成步骤"><a href="#集成步骤" class="headerlink" title="集成步骤"></a>集成步骤</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install @ngx-translate&#x2F;core @ngx-translate&#x2F;http-loader --save</span><br></pre></td></tr></table></figure>
<p>在模块中引入<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">import &#123;TranslateModule&#125; from &#39;@ngx-translate&#x2F;core&#39;;</span><br><span class="line"></span><br><span class="line">export function createTranslateLoader(http: HttpClient) &#123;</span><br><span class="line">  return new TranslateHttpLoader(http, &#39;.&#x2F;assets&#x2F;i18n&#x2F;&#39;, &#39;.json&#39;);</span><br><span class="line">&#125;</span><br><span class="line">@NgModule(&#123;</span><br><span class="line">    imports: [</span><br><span class="line">        BrowserModule,</span><br><span class="line">        HttpClientModule,</span><br><span class="line">        TranslateModule.forRoot(&#123;</span><br><span class="line">            loader: &#123;</span><br><span class="line">            provide: TranslateLoader,</span><br><span class="line">            useFactory: createTranslateLoader,</span><br><span class="line">            deps: [HttpClient]</span><br><span class="line">      &#125;,</span><br><span class="line">      defaultLanguage: &#39;en&#39;</span><br><span class="line">        &#125;)</span><br><span class="line">    ],</span><br><span class="line">    bootstrap: [AppComponent]</span><br><span class="line">&#125;)</span><br><span class="line">export class AppModule &#123; &#125;</span><br></pre></td></tr></table></figure><br>组件注入及初始化<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">export class AppComponent &#123;</span><br><span class="line">    constructor(translate: TranslateService) &#123;</span><br><span class="line">        &#x2F;&#x2F; this language will be used as a fallback when a translation isn&#39;t found in the current language</span><br><span class="line">        translate.setDefaultLang(&#39;en&#39;);</span><br><span class="line">         &#x2F;&#x2F; the lang to use, if the lang isn&#39;t available, it will use the current loader to get them</span><br><span class="line">        translate.use(&#39;en&#39;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>在模板中使用管道标记待翻译标记<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;p&gt;&#123;&#123;&quot;sayHi&quot; | translate&#125;&#125;&lt;&#x2F;p&gt;</span><br><span class="line"></span><br><span class="line">&lt;p&gt;&#123;&#123;&#39;sayHiWithParameter&#39; | translate:userObj&#125;&#125;&lt;&#x2F;p&gt;</span><br><span class="line"></span><br><span class="line">&lt;p&gt;&#123;&#123; &#39;ROLES.&#39; + role | uppercase | translate &#125;&#125;&lt;&#x2F;p&gt;</span><br></pre></td></tr></table></figure><br>翻译文件，对于HTTP Loader是以Locale_ID命名的Json<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">src</span><br><span class="line">├───assets</span><br><span class="line">│   ├───i18n</span><br><span class="line">│   │       en.json</span><br><span class="line">│   │       fr.json</span><br><span class="line">│   │       zh.json</span><br></pre></td></tr></table></figure><br>翻译格式<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;introductionHeader&quot;:&quot;你好&quot;,</span><br><span class="line">    &quot;ROLE&quot;:&#123;</span><br><span class="line">        &quot;ADMIN&quot;: &quot;管理员&quot;，</span><br><span class="line">        &quot;USER&quot;: &quot;用户&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;sayHiWithParameter&quot;:&quot;你好，&#123;&#123;pride&#125;&#125;的&#123;&#123;lastname&#125;&#125;&#125;先生&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>在ts代码中引用翻译<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">translate.get(&#39;HELLO&#39;, &#123;value: &#39;world&#39;&#125;).subscribe((res: string) &#x3D;&gt; &#123;</span><br><span class="line">    console.log(res);</span><br><span class="line">    &#x2F;&#x2F;&#x3D;&gt; &#39;hello world&#39;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><br>使用 PO Loader<br><br>官方提供给的 @biesbjerg/ngx-translate-po-http-loader，很遗憾，并不好使，或许是因为新版本的gettext-parser将msgctxt（信息上下文）作为一级父节点，而ngx-translate-po-http-loader一直没有更新使支持msgctxt<br><br>部分zh_CN.po文件:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">msgid &quot;&quot;</span><br><span class="line">msgstr &quot;&quot;</span><br><span class="line">&quot;MIME-Version: 1.0\n&quot;</span><br><span class="line">&quot;Content-Type: text&#x2F;plain; charset&#x3D;UTF-8\n&quot;</span><br><span class="line">&quot;Content-Transfer-Encoding: 8bit\n&quot;</span><br><span class="line">&quot;Plural-Forms: nplurals&#x3D;1; plural&#x3D;0;\n&quot;</span><br><span class="line">&quot;X-Language: zh_CN\n&quot;</span><br><span class="line">&quot;X-Qt-Contexts: true\n&quot;</span><br><span class="line"></span><br><span class="line">#: ..&#x2F;scanflow&#x2F;res&#x2F;qml&#x2F;Dialog&#x2F;AboutDialog.qml:25</span><br><span class="line">msgctxt &quot;AboutDialog|&quot;</span><br><span class="line">msgid &quot;About&quot;</span><br><span class="line">msgstr &quot;关于&quot;</span><br><span class="line"></span><br><span class="line">#: ..&#x2F;scanflow&#x2F;res&#x2F;qml&#x2F;Dialog&#x2F;AboutDialog.qml:52</span><br><span class="line">msgctxt &quot;AboutDialog|&quot;</span><br><span class="line">msgid &quot;Product Version&quot;</span><br><span class="line">msgstr &quot;产品版本&quot;</span><br></pre></td></tr></table></figure><br>通过上文“翻译格式”可知，ngx-translate允许多级属性mapping，如<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;h1&gt;&#123;&#123; &quot;AboutDialog|.About&quot; |translate&#125;&#125;&lt;&#x2F;h1&gt;</span><br></pre></td></tr></table></figure><br>另外，gettext-parser会将分段的msgid和msgstr进行合并，即<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">msgctxt &quot;ErrorMessage|&quot;</span><br><span class="line">msgid &quot;&quot;</span><br><span class="line">&quot;Application preferences have been damaged. Reinstall the application to &quot;</span><br><span class="line">&quot;solve the problem.&quot;</span><br><span class="line">msgstr &quot;&quot;</span><br><span class="line">&quot;Předvolby aplikace byly poškozeny. Problém vyřešíte opětovnou instalací &quot;</span><br><span class="line">&quot;aplikace.&quot;</span><br><span class="line">&#x3D;&#x3D;&#x3D;&#x3D;&gt;</span><br><span class="line">&#123;</span><br><span class="line">    ...</span><br><span class="line">    &quot;ErrorMessage|&quot;:&#123;</span><br><span class="line">        msgctxt:&quot;ErrorMessage|&quot;,</span><br><span class="line">        msgid:&quot;Application preferences have been damaged. Reinstall the application to solve the problem.&quot;,</span><br><span class="line">        msgstr:[&quot;Předvolby aplikace byly poškozeny. Problém vyřešíte opětovnou instalací aplikace.&quot;]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>原理见@ngx-translate/core/fesm2015/ngx-translate-core.js<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">getValue(target, key) &#123;</span><br><span class="line">    &#x2F;** @type &#123;?&#125; *&#x2F;</span><br><span class="line">    let keys &#x3D; typeof key &#x3D;&#x3D;&#x3D; &#39;string&#39; ? key.split(&#39;.&#39;) : [key];</span><br><span class="line">    key &#x3D; &#39;&#39;;</span><br><span class="line">    do &#123;</span><br><span class="line">        key +&#x3D; keys.shift();</span><br><span class="line">        if (isDefined(target) &amp;&amp; isDefined(target[key]) &amp;&amp; (typeof target[key] &#x3D;&#x3D;&#x3D; &#39;object&#39; || !keys.length)) &#123;</span><br><span class="line">            target &#x3D; target[key];</span><br><span class="line">            key &#x3D; &#39;&#39;;</span><br><span class="line">        &#125;</span><br><span class="line">        else if (!keys.length) &#123;</span><br><span class="line">            target &#x3D; undefined;</span><br><span class="line">        &#125;</span><br><span class="line">        else &#123;</span><br><span class="line">            key +&#x3D; &#39;.&#39;;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; while (keys.length);</span><br><span class="line">    return target;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>结合ngx-translate解析翻译时的逻辑，在实现PO Loader的getTranslation方法（关于自定义loader的继承和实现，ngx-translate有指引 -&gt; <a target="_blank" rel="noopener" href="https://github.com/ngx-translate/core#write--use-your-own-loader">link</a>）时，应将msgctxt，msgid转为父子属性形式<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">public getTranslation(lang: string): Observable&lt;any&gt; &#123;</span><br><span class="line">    return this._http</span><br><span class="line">        .get(&#96;$&#123;this._prefix&#125;&#x2F;$&#123;lang&#125;$&#123;this._suffix&#125;&#96;, &#123; responseType: &#39;text&#39; &#125;)</span><br><span class="line">        .pipe(</span><br><span class="line">            map((contents: string) &#x3D;&gt; this.parse(contents)));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;**</span><br><span class="line">* Parse po file</span><br><span class="line">* @param contents</span><br><span class="line">* @returns &#123;any&#125;</span><br><span class="line">*&#x2F;</span><br><span class="line">public parse(contents: string): any &#123;</span><br><span class="line">    let translations: &#123; [key: string]: object | string &#125; &#x3D; &#123;&#125;;</span><br><span class="line"></span><br><span class="line">    const po &#x3D; gettext.po.parse(contents, &#39;utf-8&#39;);</span><br><span class="line">    if (!po.translations.hasOwnProperty(this.domain)) &#123;</span><br><span class="line">        return translations;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    Object.keys(po.translations)</span><br><span class="line">        .forEach(domain &#x3D;&gt; &#123;</span><br><span class="line">            if (domain.length &#x3D;&#x3D;&#x3D; 0) &#123; return; &#125;</span><br><span class="line">            if (po.translations[domain].msgstr) &#123; &#x2F;&#x2F; there is no msgctxt</span><br><span class="line">                translations[domain] &#x3D; po.translations[domain].msgstr;</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">                &#x2F;&#x2F; context</span><br><span class="line">                translations[domain] &#x3D; &#123;&#125;;</span><br><span class="line">                Object.keys(po.translations[domain]).forEach(key &#x3D;&gt; &#123;</span><br><span class="line">                    let translation: string | Array&lt;string&gt; &#x3D; po.translations[domain][key].msgstr.pop();</span><br><span class="line">                    if (translation instanceof Array &amp;&amp; translation.length &gt; 0) &#123;</span><br><span class="line">                        translation &#x3D; translation[0];</span><br><span class="line">                    &#125;</span><br><span class="line">                    if (key.length &gt; 0 &amp;&amp; translation.length &gt; 0) &#123;</span><br><span class="line">                        translations[domain][key] &#x3D; translation;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    return translations;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>引入自己的 loader module<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">import &#123; TranslatePoHttpLoader &#125; from &#39;.&#x2F;edited-po-loader&#39;;</span><br><span class="line">export function createTranslateLoader(http: HttpClient) &#123;</span><br><span class="line">	return new TranslatePoHttpLoader(http, &#39;assets&#x2F;i18n&#39;, &#39;.po&#39;);</span><br></pre></td></tr></table></figure><br>缺失的翻译 handle missing translations<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">import &#123;MissingTranslationHandler, MissingTranslationHandlerParams&#125; from &#39;@ngx-translate&#x2F;core&#39;;</span><br><span class="line"></span><br><span class="line">export class MyMissingTranslationHandler implements MissingTranslationHandler &#123;</span><br><span class="line">    handle(params: MissingTranslationHandlerParams) &#123;</span><br><span class="line">        return &#39;some value&#39;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">@NgModule(&#123;</span><br><span class="line">    imports: [</span><br><span class="line">        BrowserModule,</span><br><span class="line">        TranslateModule.forRoot(&#123;</span><br><span class="line">            missingTranslationHandler: &#123;provide: MissingTranslationHandler, useClass: MyMissingTranslationHandler&#125;,</span><br><span class="line">            useDefaultLang: false</span><br><span class="line">        &#125;)</span><br><span class="line">    ],</span><br><span class="line">    providers: [</span><br><span class="line"></span><br><span class="line">    ],</span><br><span class="line">    bootstrap: [AppComponent]</span><br><span class="line">&#125;)</span><br><span class="line">export class AppModule &#123; &#125;</span><br></pre></td></tr></table></figure></p>
<h4 id="plural-and-select"><a href="#plural-and-select" class="headerlink" title="plural and select"></a>plural and select</h4><p>这个库没有相应的api与i18n的 plural / select 模式相对应，对于这些场景需要使用ngIf或ngSwitch指令实现</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://qqstone.github.io/qqsnote/2020/05/21/AngularAOTandJIT/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/qqsnote/images/avatar.gif">
      <meta itemprop="name" content="QQs">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="QQs'Note">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/qqsnote/2020/05/21/AngularAOTandJIT/" class="post-title-link" itemprop="url">AngularAOTandJIT</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-05-21 10:29:17" itemprop="dateCreated datePublished" datetime="2020-05-21T10:29:17+08:00">2020-05-21</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2021-06-16 21:02:49" itemprop="dateModified" datetime="2021-06-16T21:02:49+08:00">2021-06-16</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/qqsnote/categories/%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF/" itemprop="url" rel="index"><span itemprop="name">前端技术</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <blockquote>
<p><del>ng build, ng serve是JIT， ng build —aot, ng build —prod, ng serve —aot是AOT</del> 从Angular 9开始，默认情况下，对于提前编译器，编译选项设置为true。</p>
</blockquote>
<p>JIT(Just in Time)由浏览器将源码编译成js执行，QQs:浏览器居然可以编译代码！<br>AOT(Ahead of Time)先编译成可执行的js，再交给浏览器 </p>
<blockquote>
<p>The Angular ahead-of-time (AOT) compiler converts Angular HTML and TypeScript code into efficient JavaScript code during the build phase, before the browser downloads and runs that code. This is the best compilation mode for production environments, with decreased load time and increased performance compared to just-in-time (JIT) compilation.AOT 编译器在浏览器下载并运行之前，将Angular HTML、 ts代码转为es5代码，是生产环境的最佳实践，相比JIT更能缩短加载时间并提高性能<br><del>（aot会根据angular.json 的配置生成到/dist之类的目录）</del> 在angular.json中配置build命令的选项，包括生成目录等</p>
</blockquote>
<p><a target="_blank" rel="noopener" href="https://www.geeksforgeeks.org/what-is-aot-and-jit-compiler-in-angular/">what is aot and jit compiler in angular</a></p>
<p><a target="_blank" rel="noopener" href="https://limeii.github.io/2019/08/angular-compiler/">Li Mei’s Blog: Angular深入理解编译机制</a><br>采取两种编译方式，注意修改angular.json architect.build.option.aot改为false，比较不使用—aot和使用时生成js的内容(见main.js, vendor.js是包含compiler等工具链的源码)，可见生成的js包含angular模板语法，只是ts编译成了es5</p>
<p>另，使用source-map-explorer工具分析编译生成的js文件<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npx source-map-explorer dist&#x2F;main.js --no-border-checks</span><br></pre></td></tr></table></figure><br><a target="_blank" rel="noopener" href="https://angular.cn/guide/aot-compiler#how-aot-works">Angular Doc: AOT工作原理</a><br><a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=RXYjPYkFwy4&amp;t=74s">YouTube: ng-conf</a><br><a target="_blank" rel="noopener" href="https://segmentfault.com/a/1190000011562077">Angular编译机制（AOT、JIT）</a><br>AOT和ngc<br>ngc是专用于Angular项目的tsc替代者。它内部封装了tsc，还额外增加了用于Angular的选项、输出额外的文件。配置见于tsconfig.json, tsc读取tsconfig配置文件的compilerOptions部分，ngc读取angularCompilerOptions部分。</p>
<p>to be continue</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://qqstone.github.io/qqsnote/2020/05/19/DAC/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/qqsnote/images/avatar.gif">
      <meta itemprop="name" content="QQs">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="QQs'Note">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/qqsnote/2020/05/19/DAC/" class="post-title-link" itemprop="url">DAC</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-05-19 14:09:02" itemprop="dateCreated datePublished" datetime="2020-05-19T14:09:02+08:00">2020-05-19</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-06-08 20:33:40" itemprop="dateModified" datetime="2025-06-08T20:33:40+08:00">2025-06-08</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/qqsnote/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/" itemprop="url" rel="index"><span itemprop="name">数据库</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <blockquote>
<p>数据层应用程序 (DAC) 是一个逻辑数据库管理实体，用于定义与用户数据库关联的所有 SQL Server 对象，如表、视图和实例对象（包括登录名）。 DAC 是 SQL Server 数据库部署的一个自包含单元，它使数据层开发人员和数据库管理员能够将 SQL Server 对象打包到一个名为“DAC 包”（也称作 DACPAC）的可移植项目中。</p>
</blockquote>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://qqstone.github.io/qqsnote/2020/05/19/TransactSQL/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/qqsnote/images/avatar.gif">
      <meta itemprop="name" content="QQs">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="QQs'Note">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/qqsnote/2020/05/19/TransactSQL/" class="post-title-link" itemprop="url">TransactSQL</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-05-19 12:39:34" itemprop="dateCreated datePublished" datetime="2020-05-19T12:39:34+08:00">2020-05-19</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-09-06 07:56:25" itemprop="dateModified" datetime="2020-09-06T07:56:25+08:00">2020-09-06</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/qqsnote/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/" itemprop="url" rel="index"><span itemprop="name">数据库</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <blockquote>
<p>Transact-SQL（又称T-SQL），是在Microsoft SQL Server和Sybase SQL Server上的ANSI SQL实现，与Oracle的PL/SQL性质相近（不只是实现ANSI SQL，也为自身数据库系统的特性提供实现支持），当前在Microsoft SQL Server和Sybase Adaptive Server中仍然被使用为核心的查询语言。</p>
</blockquote>
<p>下文涉及的函数/方法限T-SQL使用，在MySQL和Oracle中未必兼容</p>
<h4 id="存储过程的查询条件"><a href="#存储过程的查询条件" class="headerlink" title="存储过程的查询条件"></a>存储过程的查询条件</h4><p>待改进的一种条件拼接：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM LocalExport where </span><br><span class="line">SSO&#x3D;IIF(@SSO is null, SSO, @SSO)</span><br><span class="line">and SN&#x3D;IIF(@SN is null, SN, @SN)</span><br></pre></td></tr></table></figure><br>T-SQL方法 <br> IIF(expression, return value when ture, return value when false)<br><br>待改进是因为存在下述bug：当缺省SN过滤条件（即@SN为null）时，记录中SN列的值为空的行不会查出，即null=null为false<br><br>可以这么表达<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT * from LocalExport where </span><br><span class="line">(ISNULL(@SSO, &#39;&#39;)&#x3D;&#39;&#39; OR SSO&#x3D;@SSO)</span><br><span class="line">and (ISNULL(@SN, &#39;&#39;)&#x3D;&#39;&#39; OR SN&#x3D;@SN)</span><br></pre></td></tr></table></figure><br>动态SQL语句<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">SET @SQL&#x3D;&#39;select * from LocalExport where 1&#x3D;1&#39;;</span><br><span class="line">IF  @SSO is not null</span><br><span class="line">BEGIN</span><br><span class="line">    SET @SQL&#x3D;@SQL+&#39; AND SSO&#x3D;@SSO&#39;</span><br><span class="line">END</span><br><span class="line">IF  @SN is not null</span><br><span class="line">BEGIN</span><br><span class="line">    SET @SQL&#x3D;@SQL+&#39; AND SN&#x3D;@SN&#39;</span><br><span class="line">END</span><br><span class="line">EXEC sp_executesql  @SQL </span><br></pre></td></tr></table></figure></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/qqsnote/page/19/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/qqsnote/">1</a><span class="space">&hellip;</span><a class="page-number" href="/qqsnote/page/19/">19</a><span class="page-number current">20</span><a class="page-number" href="/qqsnote/page/21/">21</a><span class="space">&hellip;</span><a class="page-number" href="/qqsnote/page/32/">32</a><a class="extend next" rel="next" href="/qqsnote/page/21/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">QQs</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/qqsnote/archives/">
        
          <span class="site-state-item-count">317</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/qqsnote/categories/">
        <span class="site-state-item-count">20</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/qqsnote/tags/">
        <span class="site-state-item-count">117</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>



      </div>

      <div class="tag-cloud-tags">
        <a href="/qqsnote/tags/Net/" style="font-size: 30px; color: #fff">.Net</a> <a href="/qqsnote/tags/4G/" style="font-size: 12px; color: #ccc">4G</a> <a href="/qqsnote/tags/AI/" style="font-size: 21.82px; color: #e8e8e8">AI</a> <a href="/qqsnote/tags/Android/" style="font-size: 12px; color: #ccc">Android</a> <a href="/qqsnote/tags/Angular/" style="font-size: 30px; color: #fff">Angular</a> <a href="/qqsnote/tags/Apache/" style="font-size: 13.64px; color: #d1d1d1">Apache</a> <a href="/qqsnote/tags/Azure/" style="font-size: 26.73px; color: #f6f6f6">Azure</a> <a href="/qqsnote/tags/Babylon/" style="font-size: 12px; color: #ccc">Babylon</a> <a href="/qqsnote/tags/C/" style="font-size: 16.91px; color: #dadada">C#</a> <a href="/qqsnote/tags/C/" style="font-size: 16.91px; color: #dadada">C++</a> <a href="/qqsnote/tags/CSS/" style="font-size: 20.18px; color: #e3e3e3">CSS</a> <a href="/qqsnote/tags/DevOps/" style="font-size: 15.27px; color: #d5d5d5">DevOps</a> <a href="/qqsnote/tags/Docker/" style="font-size: 16.91px; color: #dadada">Docker</a> <a href="/qqsnote/tags/ES6/" style="font-size: 12px; color: #ccc">ES6</a> <a href="/qqsnote/tags/ESLint/" style="font-size: 12px; color: #ccc">ESLint</a> <a href="/qqsnote/tags/ElasticSearch/" style="font-size: 12px; color: #ccc">ElasticSearch</a> <a href="/qqsnote/tags/Electron/" style="font-size: 16.91px; color: #dadada">Electron</a> <a href="/qqsnote/tags/ElementUI/" style="font-size: 12px; color: #ccc">ElementUI</a> <a href="/qqsnote/tags/EntityFramework/" style="font-size: 13.64px; color: #d1d1d1">EntityFramework</a> <a href="/qqsnote/tags/Excel/" style="font-size: 12px; color: #ccc">Excel</a> <a href="/qqsnote/tags/FastDFS/" style="font-size: 12px; color: #ccc">FastDFS</a> <a href="/qqsnote/tags/Figma/" style="font-size: 12px; color: #ccc">Figma</a> <a href="/qqsnote/tags/Go/" style="font-size: 12px; color: #ccc">Go</a> <a href="/qqsnote/tags/GraphQL/" style="font-size: 12px; color: #ccc">GraphQL</a> <a href="/qqsnote/tags/Jasmine/" style="font-size: 12px; color: #ccc">Jasmine</a> <a href="/qqsnote/tags/Java/" style="font-size: 13.64px; color: #d1d1d1">Java</a> <a href="/qqsnote/tags/Jenkins/" style="font-size: 21.82px; color: #e8e8e8">Jenkins</a> <a href="/qqsnote/tags/Linux/" style="font-size: 23.45px; color: #ececec">Linux</a> <a href="/qqsnote/tags/MQ/" style="font-size: 12px; color: #ccc">MQ</a> <a href="/qqsnote/tags/Markdown/" style="font-size: 13.64px; color: #d1d1d1">Markdown</a> <a href="/qqsnote/tags/MongoDB/" style="font-size: 12px; color: #ccc">MongoDB</a> <a href="/qqsnote/tags/MySQL/" style="font-size: 12px; color: #ccc">MySQL</a> <a href="/qqsnote/tags/NSIS/" style="font-size: 12px; color: #ccc">NSIS</a> <a href="/qqsnote/tags/Nginx/" style="font-size: 12px; color: #ccc">Nginx</a> <a href="/qqsnote/tags/NoSQL/" style="font-size: 12px; color: #ccc">NoSQL</a> <a href="/qqsnote/tags/Node-js/" style="font-size: 18.55px; color: #dfdfdf">Node.js</a> <a href="/qqsnote/tags/OData/" style="font-size: 13.64px; color: #d1d1d1">OData</a> <a href="/qqsnote/tags/OpenCV/" style="font-size: 18.55px; color: #dfdfdf">OpenCV</a> <a href="/qqsnote/tags/PHP/" style="font-size: 12px; color: #ccc">PHP</a> <a href="/qqsnote/tags/PWA/" style="font-size: 12px; color: #ccc">PWA</a> <a href="/qqsnote/tags/Python/" style="font-size: 25.09px; color: #f1f1f1">Python</a> <a href="/qqsnote/tags/React/" style="font-size: 21.82px; color: #e8e8e8">React</a> <a href="/qqsnote/tags/SQL/" style="font-size: 12px; color: #ccc">SQL</a> <a href="/qqsnote/tags/SQL-Server/" style="font-size: 15.27px; color: #d5d5d5">SQL_Server</a> <a href="/qqsnote/tags/ServiceWorker/" style="font-size: 12px; color: #ccc">ServiceWorker</a> <a href="/qqsnote/tags/Shell/" style="font-size: 12px; color: #ccc">Shell</a> <a href="/qqsnote/tags/TypeScript/" style="font-size: 13.64px; color: #d1d1d1">TypeScript</a> <a href="/qqsnote/tags/UE/" style="font-size: 12px; color: #ccc">UE</a> <a href="/qqsnote/tags/UI/" style="font-size: 12px; color: #ccc">UI</a> <a href="/qqsnote/tags/UML/" style="font-size: 12px; color: #ccc">UML</a> <a href="/qqsnote/tags/Virtualbox/" style="font-size: 12px; color: #ccc">Virtualbox</a> <a href="/qqsnote/tags/WPF/" style="font-size: 12px; color: #ccc">WPF</a> <a href="/qqsnote/tags/WebGL/" style="font-size: 20.18px; color: #e3e3e3">WebGL</a> <a href="/qqsnote/tags/WebService/" style="font-size: 12px; color: #ccc">WebService</a> <a href="/qqsnote/tags/Web%E5%8D%8F%E8%AE%AE/" style="font-size: 12px; color: #ccc">Web协议</a> <a href="/qqsnote/tags/Web%E5%BC%80%E5%8F%91/" style="font-size: 26.73px; color: #f6f6f6">Web开发</a> <a href="/qqsnote/tags/Wechat/" style="font-size: 12px; color: #ccc">Wechat</a> <a href="/qqsnote/tags/object-Object/" style="font-size: 12px; color: #ccc">[object Object]</a> <a href="/qqsnote/tags/aigc/" style="font-size: 12px; color: #ccc">aigc</a> <a href="/qqsnote/tags/auth/" style="font-size: 12px; color: #ccc">auth</a> <a href="/qqsnote/tags/axios/" style="font-size: 12px; color: #ccc">axios</a> <a href="/qqsnote/tags/canvas/" style="font-size: 12px; color: #ccc">canvas</a> <a href="/qqsnote/tags/css/" style="font-size: 12px; color: #ccc">css</a> <a href="/qqsnote/tags/express/" style="font-size: 12px; color: #ccc">express</a> <a href="/qqsnote/tags/ftp/" style="font-size: 12px; color: #ccc">ftp</a> <a href="/qqsnote/tags/git/" style="font-size: 13.64px; color: #d1d1d1">git</a> <a href="/qqsnote/tags/hexo/" style="font-size: 12px; color: #ccc">hexo</a> <a href="/qqsnote/tags/http/" style="font-size: 12px; color: #ccc">http</a> <a href="/qqsnote/tags/https/" style="font-size: 12px; color: #ccc">https</a> <a href="/qqsnote/tags/ionic/" style="font-size: 12px; color: #ccc">ionic</a> <a href="/qqsnote/tags/javascript/" style="font-size: 28.36px; color: #fafafa">javascript</a> <a href="/qqsnote/tags/k8s/" style="font-size: 12px; color: #ccc">k8s</a> <a href="/qqsnote/tags/login/" style="font-size: 12px; color: #ccc">login</a> <a href="/qqsnote/tags/loopback/" style="font-size: 12px; color: #ccc">loopback</a> <a href="/qqsnote/tags/npm/" style="font-size: 12px; color: #ccc">npm</a> <a href="/qqsnote/tags/nsis/" style="font-size: 13.64px; color: #d1d1d1">nsis</a> <a href="/qqsnote/tags/redis/" style="font-size: 12px; color: #ccc">redis</a> <a href="/qqsnote/tags/sqlServer/" style="font-size: 12px; color: #ccc">sqlServer</a> <a href="/qqsnote/tags/ssh/" style="font-size: 12px; color: #ccc">ssh</a> <a href="/qqsnote/tags/svg/" style="font-size: 12px; color: #ccc">svg</a> <a href="/qqsnote/tags/vtk/" style="font-size: 16.91px; color: #dadada">vtk</a> <a href="/qqsnote/tags/vuejs/" style="font-size: 16.91px; color: #dadada">vuejs</a> <a href="/qqsnote/tags/webassembly/" style="font-size: 13.64px; color: #d1d1d1">webassembly</a> <a href="/qqsnote/tags/webpack/" style="font-size: 12px; color: #ccc">webpack</a> <a href="/qqsnote/tags/websocket/" style="font-size: 12px; color: #ccc">websocket</a> <a href="/qqsnote/tags/windows/" style="font-size: 12px; color: #ccc">windows</a> <a href="/qqsnote/tags/yarn/" style="font-size: 12px; color: #ccc">yarn</a> <a href="/qqsnote/tags/%E4%B8%8A%E4%BC%A0/" style="font-size: 12px; color: #ccc">上传</a> <a href="/qqsnote/tags/%E5%8A%A0%E5%AF%86/" style="font-size: 16.91px; color: #dadada">加密</a> <a href="/qqsnote/tags/%E5%8C%BB%E5%AD%A6%E5%9B%BE%E5%83%8F/" style="font-size: 12px; color: #ccc">医学图像</a> <a href="/qqsnote/tags/%E5%8D%8F%E8%AE%AE%E5%92%8C%E8%A7%84%E8%8C%83/" style="font-size: 12px; color: #ccc">协议和规范</a> <a href="/qqsnote/tags/%E5%8D%9A%E5%BC%88%E8%AE%BA/" style="font-size: 12px; color: #ccc">博弈论</a> <a href="/qqsnote/tags/%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86/" style="font-size: 13.64px; color: #d1d1d1">图像处理</a> <a href="/qqsnote/tags/%E5%9B%BE%E5%BD%A2%E5%AD%A6/" style="font-size: 15.27px; color: #d5d5d5">图形学</a> <a href="/qqsnote/tags/%E5%A4%9A%E8%AF%AD%E8%A8%80/" style="font-size: 13.64px; color: #d1d1d1">多语言</a> <a href="/qqsnote/tags/%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B/" style="font-size: 12px; color: #ccc">存储过程</a> <a href="/qqsnote/tags/%E6%80%A7%E8%83%BD/" style="font-size: 12px; color: #ccc">性能</a> <a href="/qqsnote/tags/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/" style="font-size: 12px; color: #ccc">性能优化</a> <a href="/qqsnote/tags/%E6%88%90%E9%95%BF%E6%80%9D%E7%BB%B4/" style="font-size: 12px; color: #ccc">成长思维</a> <a href="/qqsnote/tags/%E6%91%84%E5%BD%B1/" style="font-size: 12px; color: #ccc">摄影</a> <a href="/qqsnote/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/" style="font-size: 12px; color: #ccc">操作系统</a> <a href="/qqsnote/tags/%E6%95%B0%E5%AD%97%E7%AD%BE%E5%90%8D/" style="font-size: 12px; color: #ccc">数字签名</a> <a href="/qqsnote/tags/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/" style="font-size: 12px; color: #ccc">数据可视化</a> <a href="/qqsnote/tags/%E6%95%B0%E6%8D%AE%E5%BA%93%E9%94%81/" style="font-size: 12px; color: #ccc">数据库锁</a> <a href="/qqsnote/tags/%E6%A0%91%E8%8E%93%E6%B4%BE/" style="font-size: 12px; color: #ccc">树莓派</a> <a href="/qqsnote/tags/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/" style="font-size: 12px; color: #ccc">正则表达式</a> <a href="/qqsnote/tags/%E7%89%A9%E8%81%94%E7%BD%91/" style="font-size: 12px; color: #ccc">物联网</a> <a href="/qqsnote/tags/%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F/" style="font-size: 13.64px; color: #d1d1d1">环境变量</a> <a href="/qqsnote/tags/%E7%AE%97%E6%B3%95/" style="font-size: 15.27px; color: #d5d5d5">算法</a> <a href="/qqsnote/tags/%E7%BC%96%E7%A0%81%E8%A7%84%E8%8C%83/" style="font-size: 12px; color: #ccc">编码规范</a> <a href="/qqsnote/tags/%E8%A7%86%E9%A2%91%E6%B5%81/" style="font-size: 12px; color: #ccc">视频流</a> <a href="/qqsnote/tags/%E8%A7%A6%E5%8F%91%E5%99%A8/" style="font-size: 12px; color: #ccc">触发器</a> <a href="/qqsnote/tags/%E8%AE%A4%E8%AF%81-%E6%8E%88%E6%9D%83/" style="font-size: 21.82px; color: #e8e8e8">认证&授权</a> <a href="/qqsnote/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" style="font-size: 12px; color: #ccc">设计模式</a> <a href="/qqsnote/tags/%E8%AF%BB%E4%B9%A6/" style="font-size: 12px; color: #ccc">读书</a> <a href="/qqsnote/tags/%E8%BF%9B%E7%A8%8B%E5%AE%88%E6%8A%A4/" style="font-size: 12px; color: #ccc">进程守护</a> <a href="/qqsnote/tags/%E9%9D%A2%E8%AF%95/" style="font-size: 13.64px; color: #d1d1d1">面试</a>
      </div>
    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">QQs</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/qqsnote/lib/anime.min.js"></script>
  <script src="/qqsnote/lib/velocity/velocity.min.js"></script>
  <script src="/qqsnote/lib/velocity/velocity.ui.min.js"></script>

<script src="/qqsnote/js/utils.js"></script>

<script src="/qqsnote/js/motion.js"></script>


<script src="/qqsnote/js/schemes/muse.js"></script>


<script src="/qqsnote/js/next-boot.js"></script>




  















  

  

  

</body>
</html>
